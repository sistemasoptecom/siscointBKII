²@
9E:\GITEA\siscointBKII\siscointBKII\AplicationDbContext.cs
	namespace 	
siscointBKII
 
{		 
public

 

class

 
AplicationDbContext

 $
:

% &
	DbContext

' 0
{ 
public 
AplicationDbContext "
(" #
DbContextOptions# 3
<3 4
AplicationDbContext4 G
>G H
optionsI P
)P Q
:R S
baseT X
(X Y
optionsY `
)` a
{b c
}d e
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
permisos_usuII  .
>. /
(/ 0
)0 1
.1 2
HasNoKey2 :
(: ;
); <
;< =
modelBuilder 
. 
Entity 
<  
permisos_usuIII  /
>/ 0
(0 1
)1 2
.2 3
HasKey3 9
(9 :
x: ;
=>< >
x? @
.@ A

id_permisoA K
)K L
;L M
modelBuilder 
. 
Entity 
<  
tipo_articulo  -
>- .
(. /
)/ 0
.0 1
HasKey1 7
(7 8
x8 9
=>: <
x= >
.> ?
id? A
)A B
;B C
modelBuilder 
. 
Entity 
<  
entregas  (
>( )
() *
)* +
.+ ,
HasKey, 2
(2 3
x3 4
=>5 7
x8 9
.9 :
id_ent: @
)@ A
;A B
modelBuilder 
. 
Entity 
<  
devoluciones  ,
>, -
(- .
). /
./ 0
HasKey0 6
(6 7
x7 8
=>9 ;
x< =
.= >
id_dev> D
)D E
;E F
} 	
public 
DbSet 
< 
usuario 
> 
usuario %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
views 
> 
views !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DbSet 
< 
permisos_usuII #
># $
permisos_usuII% 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
DbSet 
< 
permisos_usuIII $
>$ %
permisos_usuIII& 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
DbSet 
< 
tipo_usuario !
>! "
tipo_usuario# /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public   
DbSet   
<   
empresa   
>   
empresa   %
{  & '
get  ( +
;  + ,
set  - 0
;  0 1
}  2 3
public!! 
DbSet!! 
<!! 
area_ccosto!!  
>!!  !
area_ccosto!!" -
{!!. /
get!!0 3
;!!3 4
set!!5 8
;!!8 9
}!!: ;
public"" 
DbSet"" 
<"" 
empleado"" 
>"" 
empleado"" '
{""( )
get""* -
;""- .
set""/ 2
;""2 3
}""4 5
public## 
DbSet## 
<## 
tipo_articulo## "
>##" #
tipo_articulo##$ 1
{##2 3
get##4 7
;##7 8
set##9 <
;##< =
}##> ?
public$$ 
DbSet$$ 
<$$ 
objeto$$ 
>$$ 
objeto$$ #
{$$$ %
get$$& )
;$$) *
set$$+ .
;$$. /
}$$0 1
public%% 
DbSet%% 
<%% 
	articulos%% 
>%% 
	articulos%%  )
{%%* +
get%%, /
;%%/ 0
set%%1 4
;%%4 5
}%%6 7
public&& 
DbSet&& 
<&& 
depreciacion&& !
>&&! "
depreciacion&&# /
{&&0 1
get&&2 5
;&&5 6
set&&7 :
;&&: ;
}&&< =
public'' 
DbSet'' 
<'' 
articulos_af'' !
>''! "
articulos_af''# /
{''0 1
get''2 5
;''5 6
set''7 :
;'': ;
}''< =
public(( 
DbSet(( 
<(( 
jefes(( 
>(( 
jefes(( !
{((" #
get(($ '
;((' (
set(() ,
;((, -
}((. /
public)) 
DbSet)) 
<)) 
entregas)) 
>)) 
entregas)) '
{))( )
get))* -
;))- .
set))/ 2
;))2 3
}))4 5
public** 
DbSet** 
<** 
detalle_entregaII** &
>**& '
detalle_entregaII**( 9
{**: ;
get**< ?
;**? @
set**A D
;**D E
}**F G
public++ 
DbSet++ 
<++ 
devoluciones++ !
>++! "
devoluciones++# /
{++0 1
get++2 5
;++5 6
set++7 :
;++: ;
}++< =
public,, 
DbSet,, 
<,,  
detalle_devolucionII,, )
>,,) * 
detalle_devolucionII,,+ ?
{,,@ A
get,,B E
;,,E F
set,,G J
;,,J K
},,L M
public-- 
DbSet-- 
<-- 
tipo_reporte-- !
>--! "
tipo_reporte--# /
{--0 1
get--2 5
;--5 6
set--7 :
;--: ;
}--< =
public.. 
DbSet.. 
<.. 
proveedorII..  
>..  !
proveedorII.." -
{... /
get..0 3
;..3 4
set..5 8
;..8 9
}..: ;
public// 
DbSet// 
<// 
detalle_proveedor// &
>//& '
detalle_proveedor//( 9
{//: ;
get//< ?
;//? @
set//A D
;//D E
}//F G
public00 
DbSet00 
<00 
compras_articulos00 &
>00& '
compras_articulos00( 9
{00: ;
get00< ?
;00? @
set00A D
;00D E
}00F G
public11 
DbSet11 
<11 
iva11 
>11 
iva11 
{11 
get11  #
;11# $
set11% (
;11( )
}11* +
public22 
DbSet22 
<22 
pedidos22 
>22 
pedidos22 %
{22& '
get22( +
;22+ ,
set22- 0
;220 1
}222 3
public33 
DbSet33 
<33 
detalle_pedido33 #
>33# $
detalle_pedido33% 3
{334 5
get336 9
;339 :
set33; >
;33> ?
}33@ A
public44 
DbSet44 
<44 

directivos44 
>44  

directivos44! +
{44, -
get44. 1
;441 2
set443 6
;446 7
}448 9
public55 
DbSet55 
<55 !
tmp_excel_bco_agrario55 *
>55* +!
tmp_excel_bco_agrario55, A
{55B C
get55D G
;55G H
set55I L
;55L M
}55N O
public66 
DbSet66 
<66 
excel_bco_agrario66 &
>66& '
excel_bco_agrario66( 9
{66: ;
get66< ?
;66? @
set66A D
;66D E
}66F G
}77 
}88 µ´
DE:\GITEA\siscointBKII\siscointBKII\Controllers\ArticuloController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ArticuloController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
ArticuloController !
(! "
AplicationDbContext" 5
contex6 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
contex 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
)  
]  !
[ 	
	Authorize	 
] 
public   
IActionResult   
tipoArticulo   )
(  ) *
)  * +
{!! 	
var"" 
data"" 
="" 
_context"" 
.""  
tipo_articulo""  -
.""- .
ToList"". 4
(""4 5
)""5 6
;""6 7
if## 
(## 
data## 
==## 
null## 
)## 
return$$ 
null$$ 
;$$ 
return&& 
Ok&& 
(&& 
data&& 
)&& 
;&& 
}'' 	
[)) 	
HttpGet))	 
()) 
$str)) %
)))% &
]))& '
[** 	
	Authorize**	 
]** 
public++ 
IActionResult++ 
validarImei++ (
(++( )
string++) /
imei++0 4
)++4 5
{,, 	
Boolean-- 
ExisteObjeto--  
=--! "
false--# (
;--( )
string.. 
mensaje.. 
=.. 
$str.. 
;..  
try// 
{00 
var11 
data11 
=11 
_context11 #
.11# $
objeto11$ *
.11* +
FirstOrDefault11+ 9
(119 :
x11: ;
=>11< >
x11? @
.11@ A
imei11A E
==11F H
imei11I M
)11M N
;11N O
if22 
(22 
data22 
!=22 
null22 
)22  
{33 
ExisteObjeto44  
=44! "
true44# '
;44' (
mensaje55 
=55 
$str55 .
;55. /
}66 
}88 
catch99 
(99 
	Exception99 
e99 
)99 
{:: 
var<< 
st<< 
=<< 
new<< 

StackTrace<< '
(<<' (
)<<( )
;<<) *
var== 
sf== 
=== 
st== 
.== 
GetFrame== $
(==$ %
$num==% &
)==& '
;==' (

MethodBase>> 
site>> 
=>>  !
e>>" #
.>># $

TargetSite>>$ .
;>>. /
string?? 

methodName?? !
=??" #
site??$ (
==??) +
null??, 0
???1 2
null??3 7
:??8 9
site??: >
.??> ?
Name??? C
;??C D
General@@ 
.@@ 
CrearLogError@@ %
(@@% &
sf@@& (
.@@( )
	GetMethod@@) 2
(@@2 3
)@@3 4
.@@4 5
Name@@5 9
,@@9 :
$str@@; C
,@@C D
e@@E F
.@@F G
Message@@G N
,@@N O
e@@P Q
.@@Q R
Source@@R X
,@@X Y
e@@Z [
.@@[ \

StackTrace@@\ f
,@@f g

methodName@@h r
,@@r s
_config@@t {
.@@{ | 
GetConnectionString	@@| 
(
@@ 
$str
@@ 
)
@@ 
)
@@ 
;
@@ 
}AA 
stringBB 
jsonBB 
=BB 
JsonConvertBB %
.BB% &
SerializeObjectBB& 5
(BB5 6
newBB6 9
{BB: ;
ResultBB< B
=BBC D
ExisteObjetoBBE Q
,BBQ R
MensajeBBS Z
=BB[ \
mensajeBB] d
}BBe f
)BBf g
;BBg h
returnCC 
OkCC 
(CC 
jsonCC 
)CC 
;CC 
}DD 	
[FF 	
HttpGetFF	 
(FF 
$strFF '
)FF' (
]FF( )
[GG 	
	AuthorizeGG	 
]GG 
publicHH 
IActionResultHH 
validarArticuloXIdHH /
(HH/ 0
stringHH0 6
idHH7 9
)HH9 :
{II 	
varJJ 
dataJJ 
=JJ 
newJJ 
ObjectJJ !
(JJ! "
)JJ" #
;JJ# $
tryKK 
{LL 
dataMM 
=MM 
_contextMM 
.MM  
	articulosMM  )
.MM) *
FirstOrDefaultMM* 8
(MM8 9
xMM9 :
=>MM; =
xMM> ?
.MM? @
idMM@ B
==MMC E
ConvertMMF M
.MMM N
ToInt32MMN U
(MMU V
idMMV X
)MMX Y
)MMY Z
;MMZ [
}OO 
catchPP 
(PP 
	ExceptionPP 
ePP 
)PP 
{QQ 
varRR 
stRR 
=RR 
newRR 

StackTraceRR '
(RR' (
)RR( )
;RR) *
varSS 
sfSS 
=SS 
stSS 
.SS 
GetFrameSS $
(SS$ %
$numSS% &
)SS& '
;SS' (

MethodBaseTT 
siteTT 
=TT  !
eTT" #
.TT# $

TargetSiteTT$ .
;TT. /
stringUU 

methodNameUU !
=UU" #
siteUU$ (
==UU) +
nullUU, 0
?UU1 2
nullUU3 7
:UU8 9
siteUU: >
.UU> ?
NameUU? C
;UUC D
GeneralVV 
.VV 
CrearLogErrorVV %
(VV% &
sfVV& (
.VV( )
	GetMethodVV) 2
(VV2 3
)VV3 4
.VV4 5
NameVV5 9
,VV9 :
$strVV; F
,VVF G
eVVH I
.VVI J
MessageVVJ Q
,VVQ R
eVVR S
.VVS T
SourceVVT Z
,VVZ [
eVV[ \
.VV\ ]

StackTraceVV] g
,VVg h

methodNameVVh r
,VVr s
_configVVt {
.VV{ | 
GetConnectionString	VV| 
(
VV 
$str
VV 
)
VV 
)
VV 
;
VV 
}WW 
returnXX 
OkXX 
(XX 
dataXX 
)XX 
;XX 
}YY 	
[ZZ 	
HttpPostZZ	 
(ZZ 
$strZZ -
)ZZ- .
]ZZ. /
[[[ 	
	Authorize[[	 
][[ 
public\\ 
IActionResult\\ %
validarArticuloDevolutivo\\ 6
(\\6 7
[\\7 8
FromBody\\8 @
]\\@ A
	articulos\\B K
Articulo\\L T
)\\T U
{]] 	
var^^ 
data^^ 
=^^ 
new^^ 
Object^^ !
(^^! "
)^^" #
;^^# $
try__ 
{`` 
dataaa 
=aa 
_contextaa 
.aa  
	articulosaa  )
.aa) *
Whereaa* /
(aa/ 0
xaa0 1
=>aa2 4
xaa5 6
.aa6 7
codigoaa7 =
==aa> @
ArticuloaaA I
.aaI J
codigoaaJ P
)aaP Q
.aaQ R
FirstaaR W
(aaW X
)aaX Y
;aaY Z
ifbb 
(bb 
databb 
==bb 
nullbb 
)bb  
{cc 
returndd 
nulldd 
;dd  
}ee 
}ff 
catchgg 
(gg 
	Exceptiongg 
egg 
)gg 
{hh 
varii 
stii 
=ii 
newii 

StackTraceii '
(ii' (
)ii( )
;ii) *
varjj 
sfjj 
=jj 
stjj 
.jj 
GetFramejj $
(jj$ %
$numjj% &
)jj& '
;jj' (

MethodBasekk 
sitekk 
=kk  !
ekk" #
.kk# $

TargetSitekk$ .
;kk. /
stringll 

methodNamell !
=ll" #
sitell$ (
==ll) +
nullll, 0
?ll1 2
nullll3 7
:ll8 9
sitell: >
.ll> ?
Namell? C
;llC D
Generalmm 
.mm 
CrearLogErrormm %
(mm% &
sfmm& (
.mm( )
	GetMethodmm) 2
(mm2 3
)mm3 4
.mm4 5
Namemm5 9
,mm9 :
$strmm; F
,mmF G
emmH I
.mmI J
MessagemmJ Q
,mmQ R
emmR S
.mmS T
SourcemmT Z
,mmZ [
emm[ \
.mm\ ]

StackTracemm] g
,mmg h

methodNamemmh r
,mmr s
_configmmt {
.mm{ | 
GetConnectionString	mm| 
(
mm 
$str
mm 
)
mm 
)
mm 
;
mm 
}nn 
returnoo 
Okoo 
(oo 
dataoo 
)oo 
;oo 
}pp 	
[rr 	
HttpGetrr	 
(rr 
$strrr +
)rr+ ,
]rr, -
[ss 	
	Authorizess	 
]ss 
publictt 
IActionResulttt "
validarArticuloFijoXIdtt 3
(tt3 4
stringtt4 :
idtt; =
)tt= >
{uu 	
varvv 
datavv 
=vv 
getArticuloFijovv &
(vv& '
idvv' )
)vv) *
;vv* +
ifww 
(ww 
dataww 
==ww 
nullww 
)ww 
{xx 
returnyy 
nullyy 
;yy 
}zz 
return{{ 
Ok{{ 
({{ 
data{{ 
){{ 
;{{ 
}|| 	
[~~ 	
HttpPost~~	 
(~~ 
$str~~ 2
)~~2 3
]~~3 4
[ 	
	Authorize	 
] 
public
 
IActionResult
 
AgregarObjeto
 *
(
* +
int
+ .
idDepreciacion
/ =
,
= >
dynamic
? F
data
G K
)
K L
{
 	
int
 
result
 
=
 
$num
 
;
 
int
 
result2
 
=
 
$num
 
;
 
string
 
mensaje
 
=
 
$str
 
;
  
try
 
{
 
string
 
dat
 
=
 
System
 #
.
# $
Text
$ (
.
( )
Json
) -
.
- .
JsonSerializer
. <
.
< =
	Serialize
= F
(
F G
data
G K
)
K L
;
L M
objeto
 
Objeto
 
=
 
JsonConvert
  +
.
+ ,
DeserializeObject
, =
<
= >
objeto
> D
>
D E
(
E F
dat
F I
)
I J
;
J K
if
 
(
 
Objeto
 
.
 
tipo
 
==
 !
$num
" #
)
# $
{
 
int
 
tipo
 
=
 
TipoArticulo
 +
(
+ ,
Convert
, 3
.
3 4
ToInt32
4 ;
(
; <
Objeto
< B
.
B C
cod_articulo
C O
)
O P
)
P Q
;
Q R
Objeto
 
.
 
tipo
 
=
  !
tipo
" &
;
& '
}
 
_context
 
.
 
objeto
 
.
  
Add
  #
(
# $
Objeto
$ *
)
* +
;
+ ,
result
 
=
 
_context
 !
.
! "
SaveChanges
" -
(
- .
)
. /
;
/ 0
if
 
(
 
result
 
>
 
$num
 
)
 
{
 
if
 
(
 
Objeto
 
.
 
tipo_articulo
 +
==
, .
$num
/ 0
)
0 1
{
 
depreciacion
 $
datDepreciacion
% 4
=
5 6
_context
7 ?
.
? @
depreciacion
@ L
.
L M
Where
M R
(
R S
x
S T
=>
U W
x
X Y
.
Y Z
id
Z \
==
] _
idDepreciacion
` n
)
n o
.
o p
First
p u
(
u v
)
v w
;
w x
if
 
(
 
datDepreciacion
 *
!=
+ -
null
. 2
)
2 3
{
 
try
 
{
 
datDepreciacion
  /
.
/ 0

inventario
0 :
=
; <
$num
= >
;
> ?
datDepreciacion
  /
.
/ 0
placa_af
0 8
=
9 :
Objeto
; A
.
A B
af
B D
;
D E
datDepreciacion
  /
.
/ 0
cuota
0 5
=
6 7
Convert
8 ?
.
? @
ToInt32
@ G
(
G H
Objeto
H N
.
N O
valor
O T
)
T U
/
V W
datDepreciacion
X g
.
g h
v_util
h n
;
n o
_context
  (
.
( )
depreciacion
) 5
.
5 6
Update
6 <
(
< =
datDepreciacion
= L
)
L M
;
M N
result2
  '
=
( )
_context
* 2
.
2 3
SaveChanges
3 >
(
> ?
)
? @
;
@ A
}
   
catch
¡¡ !
(
¡¡! "
	Exception
¡¡" +
e
¡¡, -
)
¡¡- .
{
¢¢ 
var
¤¤  #
st
¤¤$ &
=
¤¤' (
new
¤¤) ,

StackTrace
¤¤- 7
(
¤¤7 8
)
¤¤8 9
;
¤¤9 :
var
¥¥  #
sf
¥¥$ &
=
¥¥' (
st
¥¥) +
.
¥¥+ ,
GetFrame
¥¥, 4
(
¥¥4 5
$num
¥¥5 6
)
¥¥6 7
;
¥¥7 8

MethodBase
¦¦  *
site
¦¦+ /
=
¦¦0 1
e
¦¦2 3
.
¦¦3 4

TargetSite
¦¦4 >
;
¦¦> ?
string
§§  &

methodName
§§' 1
=
§§2 3
site
§§4 8
==
§§9 ;
null
§§< @
?
§§A B
null
§§C G
:
§§H I
site
§§J N
.
§§N O
Name
§§O S
;
§§S T
General
¨¨  '
.
¨¨' (
CrearLogError
¨¨( 5
(
¨¨5 6
sf
¨¨6 8
.
¨¨8 9
	GetMethod
¨¨9 B
(
¨¨B C
)
¨¨C D
.
¨¨D E
Name
¨¨E I
,
¨¨I J
$str
¨¨K Y
,
¨¨Y Z
e
¨¨[ \
.
¨¨\ ]
Message
¨¨] d
,
¨¨d e
e
¨¨e f
.
¨¨f g
Source
¨¨g m
,
¨¨m n
e
¨¨n o
.
¨¨o p

StackTrace
¨¨p z
,
¨¨z {

methodName¨¨{ 
,¨¨ 
_config¨¨ 
.¨¨ #
GetConnectionString¨¨ ¢
(¨¨¢ £
$str¨¨£ ­
)¨¨­ ®
)¨¨® ¯
;¨¨¯ °
}
©© 
}
ªª 
}
«« 
}
¬¬ 
if
¯¯ 
(
¯¯ 
result
¯¯ 
>
¯¯ 
$num
¯¯ 
&&
¯¯ !
result2
¯¯" )
>
¯¯* +
$num
¯¯, -
)
¯¯- .
{
°° 
mensaje
²² 
=
²² 
$str
²² <
;
²²< =
}
³³ 
else
´´ 
{
µµ 
if
¶¶ 
(
¶¶ 
result
¶¶ 
>
¶¶ 
$num
¶¶  !
)
¶¶! "
{
·· 
mensaje
¸¸ 
=
¸¸  !
$str
¸¸" @
;
¸¸@ A
}
¹¹ 
else
ºº 
{
»» 
mensaje
¼¼ 
=
¼¼  !
$str
¼¼" >
;
¼¼> ?
}
½½ 
}
¿¿ 
}
ÀÀ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ 
e
ÁÁ 
)
ÁÁ 
{
ÂÂ 
var
ÃÃ 
st
ÃÃ 
=
ÃÃ 
new
ÃÃ 

StackTrace
ÃÃ '
(
ÃÃ' (
)
ÃÃ( )
;
ÃÃ) *
var
ÄÄ 
sf
ÄÄ 
=
ÄÄ 
st
ÄÄ 
.
ÄÄ 
GetFrame
ÄÄ $
(
ÄÄ$ %
$num
ÄÄ% &
)
ÄÄ& '
;
ÄÄ' (

MethodBase
ÅÅ 
site
ÅÅ 
=
ÅÅ  !
e
ÅÅ" #
.
ÅÅ# $

TargetSite
ÅÅ$ .
;
ÅÅ. /
string
ÆÆ 

methodName
ÆÆ !
=
ÆÆ" #
site
ÆÆ$ (
==
ÆÆ) +
null
ÆÆ, 0
?
ÆÆ1 2
null
ÆÆ3 7
:
ÆÆ8 9
site
ÆÆ: >
.
ÆÆ> ?
Name
ÆÆ? C
;
ÆÆC D
General
ÇÇ 
.
ÇÇ 
CrearLogError
ÇÇ %
(
ÇÇ% &
sf
ÇÇ& (
.
ÇÇ( )
	GetMethod
ÇÇ) 2
(
ÇÇ2 3
)
ÇÇ3 4
.
ÇÇ4 5
Name
ÇÇ5 9
,
ÇÇ9 :
$str
ÇÇ; C
,
ÇÇC D
e
ÇÇE F
.
ÇÇF G
Message
ÇÇG N
,
ÇÇN O
e
ÇÇO P
.
ÇÇP Q
Source
ÇÇQ W
,
ÇÇW X
e
ÇÇX Y
.
ÇÇY Z

StackTrace
ÇÇZ d
,
ÇÇd e

methodName
ÇÇe o
,
ÇÇo p
_config
ÇÇq x
.
ÇÇx y"
GetConnectionStringÇÇy 
(ÇÇ 
$strÇÇ 
)ÇÇ 
)ÇÇ 
;ÇÇ 
}
ÈÈ 
string
ÉÉ 
json
ÉÉ 
=
ÉÉ 
JsonConvert
ÉÉ %
.
ÉÉ% &
SerializeObject
ÉÉ& 5
(
ÉÉ5 6
new
ÉÉ6 9
{
ÉÉ: ;
Result
ÉÉ< B
=
ÉÉC D
result
ÉÉE K
,
ÉÉK L
Mensaje
ÉÉM T
=
ÉÉU V
mensaje
ÉÉW ^
}
ÉÉ_ `
)
ÉÉ` a
;
ÉÉa b
return
ÊÊ 
Ok
ÊÊ 
(
ÊÊ 
json
ÊÊ 
)
ÊÊ 
;
ÊÊ 
}
ËË 	
[
ÍÍ 	
HttpGet
ÍÍ	 
(
ÍÍ 
$str
ÍÍ $
)
ÍÍ$ %
]
ÍÍ% &
[
ÎÎ 	
	Authorize
ÎÎ	 
]
ÎÎ 
public
ÏÏ 
IActionResult
ÏÏ 
Edit
ÏÏ !
(
ÏÏ! "
int
ÏÏ" %
Id
ÏÏ& (
,
ÏÏ( )
[
ÏÏ* +
FromBody
ÏÏ+ 3
]
ÏÏ3 4
objeto
ÏÏ5 ;
Objeto
ÏÏ< B
)
ÏÏB C
{
ÐÐ 	
int
ÑÑ 
result
ÑÑ 
=
ÑÑ 
$num
ÑÑ 
;
ÑÑ 
string
ÒÒ 
mensaje
ÒÒ 
=
ÒÒ 
$str
ÒÒ 
;
ÒÒ  
try
ÓÓ 
{
ÔÔ 
if
ÕÕ 
(
ÕÕ 
Id
ÕÕ 
==
ÕÕ 
Objeto
ÕÕ 
.
ÕÕ  
id
ÕÕ  "
)
ÕÕ" #
{
ÖÖ 
_context
×× 
.
×× 
objeto
×× #
.
××# $
Update
××$ *
(
××* +
Objeto
××+ 1
)
××1 2
;
××2 3
result
ØØ 
=
ØØ 
_context
ØØ %
.
ØØ% &
SaveChanges
ØØ& 1
(
ØØ1 2
)
ØØ2 3
;
ØØ3 4
if
ÙÙ 
(
ÙÙ 
result
ÙÙ 
>
ÙÙ  
$num
ÙÙ! "
)
ÙÙ" #
{
ÚÚ 
mensaje
ÛÛ 
=
ÛÛ  !
$str
ÛÛ" 8
;
ÛÛ8 9
}
ÜÜ 
else
ÝÝ 
{
ÞÞ 
mensaje
ßß 
=
ßß  !
$str
ßß" 7
;
ßß7 8
}
àà 
}
áá 
}
ââ 
catch
ãã 
(
ãã 
	Exception
ãã 
e
ãã 
)
ãã 
{
ää 
var
åå 
st
åå 
=
åå 
new
åå 

StackTrace
åå '
(
åå' (
)
åå( )
;
åå) *
var
ææ 
sf
ææ 
=
ææ 
st
ææ 
.
ææ 
GetFrame
ææ $
(
ææ$ %
$num
ææ% &
)
ææ& '
;
ææ' (

MethodBase
çç 
site
çç 
=
çç  !
e
çç" #
.
çç# $

TargetSite
çç$ .
;
çç. /
string
èè 

methodName
èè !
=
èè" #
site
èè$ (
==
èè) +
null
èè, 0
?
èè1 2
null
èè3 7
:
èè8 9
site
èè: >
.
èè> ?
Name
èè? C
;
èèC D
General
éé 
.
éé 
CrearLogError
éé %
(
éé% &
sf
éé& (
.
éé( )
	GetMethod
éé) 2
(
éé2 3
)
éé3 4
.
éé4 5
Name
éé5 9
,
éé9 :
$str
éé; C
,
ééC D
e
ééE F
.
ééF G
Message
ééG N
,
ééN O
e
ééO P
.
ééP Q
Source
ééQ W
,
ééW X
e
ééX Y
.
ééY Z

StackTrace
ééZ d
,
ééd e

methodName
éée o
,
ééo p
_config
ééq x
.
ééx y"
GetConnectionStringééy 
(éé 
$stréé 
)éé 
)éé 
;éé 
}
êê 
string
ëë 
json
ëë 
=
ëë 
JsonConvert
ëë %
.
ëë% &
SerializeObject
ëë& 5
(
ëë5 6
new
ëë6 9
{
ëë: ;
Result
ëë< B
=
ëëC D
result
ëëE K
,
ëëK L
Mensaje
ëëM T
=
ëëU V
mensaje
ëëW ^
}
ëë_ `
)
ëë` a
;
ëëa b
return
ìì 
Ok
ìì 
(
ìì 
json
ìì 
)
ìì 
;
ìì 
}
íí 	
[
ïï 	
HttpPost
ïï	 
(
ïï 
$str
ïï "
)
ïï" #
]
ïï# $
[
ðð 	
	Authorize
ðð	 
]
ðð 
public
ññ 
IActionResult
ññ 
busquedaObjeto
ññ +
(
ññ+ ,
[
ññ, -
FromBody
ññ- 5
]
ññ5 6
objeto
ññ7 =
ObjetoB
ññ> E
)
ññE F
{
òò 	
List
óó 
<
óó "
dataBusquedaCompleta
óó %
>
óó% &
busqueda
óó' /
=
óó0 1
new
óó2 5
List
óó6 :
<
óó: ;"
dataBusquedaCompleta
óó; O
>
óóO P
(
óóP Q
)
óóQ R
;
óóR S
try
ôô 
{
õõ 
var
öö 
data
öö 
=
öö 
_context
öö #
.
öö# $
objeto
öö$ *
.
öö* +
Where
öö+ 0
(
öö0 1
x
öö1 2
=>
öö3 5
x
öö6 7
.
öö7 8
af
öö8 :
==
öö; =
ObjetoB
öö> E
.
ööE F
af
ööF H
||
ööI K
x
÷÷6 7
.
÷÷7 8
imei
÷÷8 <
==
÷÷= ?
ObjetoB
÷÷@ G
.
÷÷G H
imei
÷÷H L
||
÷÷M O
x
øø6 7
.
øø7 8
descripcion
øø8 C
.
øøC D
Contains
øøD L
(
øøL M
ObjetoB
øøM T
.
øøT U
descripcion
øøU `
)
øø` a
)
øøa b
.
øøb c
ToList
øøc i
(
øøi j
)
øøj k
;
øøk l
if
ùù 
(
ùù 
data
ùù 
==
ùù 
null
ùù 
)
ùù  
{
úú 
return
ûû 
null
ûû 
;
ûû  
}
üü 
foreach
ýý 
(
ýý 
objeto
ýý 
item
ýý #
in
ýý$ &
data
ýý' +
)
ýý+ ,
{
þþ "
dataBusquedaCompleta
ÿÿ (
busq
ÿÿ) -
=
ÿÿ. /
new
ÿÿ0 3"
dataBusquedaCompleta
ÿÿ4 H
(
ÿÿH I
)
ÿÿI J
;
ÿÿJ K
busq
 
.
 
id
 
=
 
item
 "
.
" #
id
# %
;
% &
busq
 
.
 
valor1
 
=
  !
item
" &
.
& '
descripcion
' 2
;
2 3
busq
 
.
 
valor2
 
=
  !
item
" &
.
& '
af
' )
;
) *
busq
 
.
 
valor3
 
=
  !
item
" &
.
& '
imei
' +
;
+ ,
busq
 
.
 
valor4
 
=
  !
$str
" $
;
$ %
busq
 
.
 
valor5
 
=
  !
$str
" $
;
$ %
busqueda
 
.
 
Add
  
(
  !
busq
! %
)
% &
;
& '
}
 
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; C
,
C D
e
E F
.
F G
Message
G N
,
N O
e
O P
.
P Q
Source
Q W
,
W X
e
X Y
.
Y Z

StackTrace
Z d
,
d e

methodName
e o
,
o p
_config
q x
.
x y"
GetConnectionStringy 
( 
$str 
) 
) 
; 
}
 
return
 
Ok
 
(
 
busqueda
 
)
 
;
  
}
 	
[
 	
HttpPost
	 
(
 
$str
 '
)
' (
]
( )
[
 	
	Authorize
	 
]
 
public
 
IActionResult
 
	getObjeto
 &
(
& '
[
' (
FromBody
( 0
]
0 1
objeto
2 8
objetoB
9 @
)
@ A
{
 	
var
 
data
 
=
 
new
 
Object
 !
(
! "
)
" #
;
# $
try
 
{
 
data
 
=
 
_context
 
.
  
objeto
  &
.
& '
Where
' ,
(
, -
x
- .
=>
/ 1
x
2 3
.
3 4
id
4 6
==
7 9
objetoB
: A
.
A B
id
B D
)
D E
.
E F
First
F K
(
K L
)
L M
;
M N
if
 
(
 
data
 
==
 
null
 
)
  
{
 
return
   
null
   
;
    
}
¡¡ 
}
¢¢ 
catch
££ 
(
££ 
	Exception
££ 
e
££ 
)
££ 
{
¤¤ 
var
¥¥ 
st
¥¥ 
=
¥¥ 
new
¥¥ 

StackTrace
¥¥ '
(
¥¥' (
)
¥¥( )
;
¥¥) *
var
¦¦ 
sf
¦¦ 
=
¦¦ 
st
¦¦ 
.
¦¦ 
GetFrame
¦¦ $
(
¦¦$ %
$num
¦¦% &
)
¦¦& '
;
¦¦' (

MethodBase
§§ 
site
§§ 
=
§§  !
e
§§" #
.
§§# $

TargetSite
§§$ .
;
§§. /
string
¨¨ 

methodName
¨¨ !
=
¨¨" #
site
¨¨$ (
==
¨¨) +
null
¨¨, 0
?
¨¨1 2
null
¨¨3 7
:
¨¨8 9
site
¨¨: >
.
¨¨> ?
Name
¨¨? C
;
¨¨C D
General
©© 
.
©© 
CrearLogError
©© %
(
©©% &
sf
©©& (
.
©©( )
	GetMethod
©©) 2
(
©©2 3
)
©©3 4
.
©©4 5
Name
©©5 9
,
©©9 :
$str
©©; C
,
©©C D
e
©©E F
.
©©F G
Message
©©G N
,
©©N O
e
©©O P
.
©©P Q
Source
©©Q W
,
©©W X
e
©©X Y
.
©©Y Z

StackTrace
©©Z d
,
©©d e

methodName
©©e o
,
©©o p
_config
©©q x
.
©©x y"
GetConnectionString©©y 
(©© 
$str©© 
)©© 
)©© 
;©© 
}
ªª 
return
«« 
Ok
«« 
(
«« 
data
«« 
)
«« 
;
«« 
}
¬¬ 	
public
®® 
List
®® 
<
®® #
articulosBusquedaFijo
®® )
>
®®) *
getArticuloFijo
®®+ :
(
®®: ;
string
®®; A
id
®®B D
)
®®D E
{
¯¯ 	
List
°° 
<
°° #
articulosBusquedaFijo
°° &
>
°°& '
articulosFijos
°°( 6
=
°°7 8
new
°°9 <
List
°°= A
<
°°A B#
articulosBusquedaFijo
°°B W
>
°°W X
(
°°X Y
)
°°Y Z
;
°°Z [
string
±± 
qwery
±± 
=
±± 
$str
±± 
;
±± 
try
²² 
{
³³ 
qwery
´´ 
=
´´ 
$str
´´ 7
+
´´7 8
$str
µµ ;
+
µµ; <
$str
¶¶ 9
+
¶¶9 :
$str
·· 5
+
··5 6
$str
¸¸ B
+
¸¸B C
$str
¹¹ 6
+
¹¹6 7
$str
ºº 7
+
ºº7 8
$str
»» 6
+
»»6 7
$str
¼¼ :
+
¼¼: ;
$str
½½ .
+
½½. /
$str
¾¾ c
+
¾¾c d
$str
¿¿ _
+
¿¿_ `
$str
ÀÀ 5
;
ÀÀ5 6
using
ÁÁ 
(
ÁÁ 
SqlConnection
ÁÁ $
con
ÁÁ% (
=
ÁÁ) *
new
ÁÁ+ .
SqlConnection
ÁÁ/ <
(
ÁÁ< =
_config
ÁÁ= D
.
ÁÁD E!
GetConnectionString
ÁÁE X
(
ÁÁX Y
$str
ÁÁY c
)
ÁÁc d
)
ÁÁd e
)
ÁÁe f
{
ÂÂ 
using
ÃÃ 
(
ÃÃ 

SqlCommand
ÃÃ %
cmd
ÃÃ& )
=
ÃÃ* +
new
ÃÃ, /

SqlCommand
ÃÃ0 :
(
ÃÃ: ;
qwery
ÃÃ; @
)
ÃÃ@ A
)
ÃÃA B
{
ÄÄ 
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
Add
ÅÅ' *
(
ÅÅ* +
new
ÅÅ+ .
SqlParameter
ÅÅ/ ;
(
ÅÅ; <
$str
ÅÅ< A
,
ÅÅA B
System
ÅÅC I
.
ÅÅI J
Data
ÅÅJ N
.
ÅÅN O
	SqlDbType
ÅÅO X
.
ÅÅX Y
VarChar
ÅÅY `
)
ÅÅ` a
)
ÅÅa b
;
ÅÅb c
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
[
ÆÆ& '
$str
ÆÆ' ,
]
ÆÆ, -
.
ÆÆ- .
Value
ÆÆ. 3
=
ÆÆ4 5
id
ÆÆ6 8
;
ÆÆ8 9
cmd
ÇÇ 
.
ÇÇ 

Connection
ÇÇ &
=
ÇÇ' (
con
ÇÇ) ,
;
ÇÇ, -
con
ÈÈ 
.
ÈÈ 
Open
ÈÈ  
(
ÈÈ  !
)
ÈÈ! "
;
ÈÈ" #
using
ÉÉ 
(
ÉÉ 
SqlDataReader
ÉÉ ,
srd
ÉÉ- 0
=
ÉÉ1 2
cmd
ÉÉ3 6
.
ÉÉ6 7
ExecuteReader
ÉÉ7 D
(
ÉÉD E
)
ÉÉE F
)
ÉÉF G
{
ÊÊ 
while
ËË !
(
ËË" #
srd
ËË# &
.
ËË& '
Read
ËË' +
(
ËË+ ,
)
ËË, -
)
ËË- .
{
ÌÌ 
articulosFijos
ÍÍ  .
.
ÍÍ. /
Add
ÍÍ/ 2
(
ÍÍ2 3
new
ÍÍ3 6#
articulosBusquedaFijo
ÍÍ7 L
{
ÎÎ  !
Id
ÏÏ$ &
=
ÏÏ' (
Convert
ÏÏ) 0
.
ÏÏ0 1
ToInt32
ÏÏ1 8
(
ÏÏ8 9
srd
ÏÏ9 <
[
ÏÏ< =
$str
ÏÏ= A
]
ÏÏA B
)
ÏÏB C
,
ÏÏC D
Id_ped
ÐÐ$ *
=
ÐÐ+ ,
Convert
ÐÐ- 4
.
ÐÐ4 5
ToInt32
ÐÐ5 <
(
ÐÐ< =
srd
ÐÐ= @
[
ÐÐ@ A
$str
ÐÐA I
]
ÐÐI J
)
ÐÐJ K
,
ÐÐK L
Codigo
ÑÑ$ *
=
ÑÑ+ ,
srd
ÑÑ- 0
[
ÑÑ0 1
$str
ÑÑ1 9
]
ÑÑ9 :
+
ÑÑ; <
$str
ÑÑ= ?
,
ÑÑ? @
Usuario
ÒÒ$ +
=
ÒÒ, -
srd
ÒÒ. 1
[
ÒÒ1 2
$str
ÒÒ2 ;
]
ÒÒ; <
+
ÒÒ= >
$str
ÒÒ? A
,
ÒÒA B
Descripcion
ÓÓ$ /
=
ÓÓ0 1
srd
ÓÓ2 5
[
ÓÓ5 6
$str
ÓÓ6 C
]
ÓÓC D
+
ÓÓE F
$str
ÓÓG I
,
ÓÓI J
Grupo
ÔÔ$ )
=
ÔÔ* +
srd
ÔÔ, /
[
ÔÔ/ 0
$str
ÔÔ0 7
]
ÔÔ7 8
+
ÔÔ9 :
$str
ÔÔ; =
,
ÔÔ= >
Valor
ÕÕ$ )
=
ÕÕ* +
Convert
ÕÕ, 3
.
ÕÕ3 4
ToDouble
ÕÕ4 <
(
ÕÕ< =
srd
ÕÕ= @
[
ÕÕ@ A
$str
ÕÕA H
]
ÕÕH I
)
ÕÕI J
,
ÕÕJ K
CECO
ÖÖ$ (
=
ÖÖ) *
srd
ÖÖ+ .
[
ÖÖ. /
$str
ÖÖ/ 5
]
ÖÖ5 6
+
ÖÖ7 8
$str
ÖÖ9 ;
,
ÖÖ; <
V_util
××$ *
=
××+ ,
Convert
××- 4
.
××4 5
ToInt32
××5 <
(
××< =
srd
××= @
[
××@ A
$str
××A I
]
××I J
)
××J K
}
ØØ  !
)
ØØ! "
;
ØØ" #
}
ÙÙ 
}
ÚÚ 
con
ÛÛ 
.
ÛÛ 
Close
ÛÛ !
(
ÛÛ! "
)
ÛÛ" #
;
ÛÛ# $
}
ÜÜ 
}
ÝÝ 
}
ÞÞ 
catch
ßß 
(
ßß 
	Exception
ßß 
e
ßß 
)
ßß 
{
àà 
var
áá 
st
áá 
=
áá 
new
áá 

StackTrace
áá '
(
áá' (
)
áá( )
;
áá) *
var
ââ 
sf
ââ 
=
ââ 
st
ââ 
.
ââ 
GetFrame
ââ $
(
ââ$ %
$num
ââ% &
)
ââ& '
;
ââ' (

MethodBase
ãã 
site
ãã 
=
ãã  !
e
ãã" #
.
ãã# $

TargetSite
ãã$ .
;
ãã. /
string
ää 

methodName
ää !
=
ää" #
site
ää$ (
==
ää) +
null
ää, 0
?
ää1 2
null
ää3 7
:
ää8 9
site
ää: >
.
ää> ?
Name
ää? C
;
ääC D
General
åå 
.
åå 
CrearLogError
åå %
(
åå% &
sf
åå& (
.
åå( )
	GetMethod
åå) 2
(
åå2 3
)
åå3 4
.
åå4 5
Name
åå5 9
,
åå9 :
$str
åå; I
,
ååI J
e
ååK L
.
ååL M
Message
ååM T
,
ååT U
e
ååU V
.
ååV W
Source
ååW ]
,
åå] ^
e
åå^ _
.
åå_ `

StackTrace
åå` j
,
ååj k

methodName
ååk u
,
ååu v
_config
ååw ~
.
åå~ "
GetConnectionStringåå 
(åå 
$stråå 
)åå 
)åå 
;åå  
}
ææ 
return
çç 
articulosFijos
çç !
;
çç! "
}
èè 	
public
êê 
int
êê 
TipoArticulo
êê 
(
êê  
int
êê  #
codigoArticulo
êê$ 2
)
êê2 3
{
ëë 	
int
ìì 
tipo
ìì 
=
ìì 
$num
ìì 
;
ìì 
var
íí 
data
íí 
=
íí 
_context
íí 
.
íí  
articulos_af
íí  ,
.
íí, -
Where
íí- 2
(
íí2 3
x
íí3 4
=>
íí5 7
x
íí8 9
.
íí9 :
codigo
íí: @
==
ííA C
codigoArticulo
ííD R
)
ííR S
.
ííS T
First
ííT Y
(
ííY Z
)
ííZ [
;
íí[ \
if
îî 
(
îî 
data
îî 
!=
îî 
null
îî 
)
îî 
{
ïï 
switch
ðð 
(
ðð 
data
ðð 
.
ðð 
grupo
ðð "
)
ðð" #
{
ññ 
case
òò 
$str
òò "
:
òò" #
tipo
óó 
=
óó 
$num
óó  
;
óó  !
break
ôô 
;
ôô 
case
õõ 
$str
õõ '
:
õõ' (
tipo
öö 
=
öö 
$num
öö  
;
öö  !
break
÷÷ 
;
÷÷ 
case
øø 
$str
øø &
:
øø& '
tipo
ùù 
=
ùù 
$num
ùù  
;
ùù  !
break
úú 
;
úú 
case
ûû 
$str
ûû #
:
ûû# $
tipo
üü 
=
üü 
$num
üü  
;
üü  !
break
ýý 
;
ýý 
case
þþ 
$str
þþ %
:
þþ% &
tipo
ÿÿ 
=
ÿÿ 
$num
ÿÿ  
;
ÿÿ  !
break
 
;
 
case
 
$str
 
:
 
tipo
 
=
 
$num
  
;
  !
break
 
;
 
default
 
:
 
tipo
 
=
 
$num
  
;
  !
break
 
;
 
}
 
}
 
return
 
tipo
 
;
 
}
 	
}
 
} â¥
JE:\GITEA\siscointBKII\siscointBKII\Controllers\busquedaRapidaController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
busquedaRapidaController )
:* +
ControllerBase, :
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public $
busquedaRapidaController '
(' (
AplicationDbContext( ;
context< C
,C D
IConfigurationE S
configT Z
)Z [
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpPost	 
( 
$str 
) 
] 
[ 	
	Authorize	 
] 
public 
IActionResult 
Index "
(" #
dynamic# *
dato+ /
)/ 0
{   	
List!! 
<!! 
dataBusqueda!! 
>!! 
buscados!! '
=!!( )
new!!* -
List!!. 2
<!!2 3
dataBusqueda!!3 ?
>!!? @
(!!@ A
)!!A B
;!!B C
try"" 
{## 
string$$ 
dat$$ 
=$$ 
System$$ #
.$$# $
Text$$$ (
.$$( )
Json$$) -
.$$- .
JsonSerializer$$. <
.$$< =
	Serialize$$= F
($$F G
dato$$G K
)$$K L
;$$L M
List%% 
<%% 
busquedaRapidaModel%% (
>%%( )
abuscar%%* 1
=%%2 3
JsonConvert%%4 ?
.%%? @
DeserializeObject%%@ Q
<%%Q R
List%%R V
<%%V W
busquedaRapidaModel%%W j
>%%j k
>%%k l
(%%l m
dat%%m p
)%%p q
;%%q r
buscados&& 
=&&  
searchBusquedaRapida&& /
(&&/ 0
abuscar&&0 7
)&&7 8
;&&8 9
}'' 
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 
var++ 
st++ 
=++ 
new++ 

StackTrace++ '
(++' (
)++( )
;++) *
var,, 
sf,, 
=,, 
st,, 
.,, 
GetFrame,, $
(,,$ %
$num,,% &
),,& '
;,,' (

MethodBase-- 
site-- 
=--  !
e--" #
.--# $

TargetSite--$ .
;--. /
string.. 

methodName.. !
=.." #
site..$ (
==..) +
null.., 0
?..1 2
null..3 7
:..8 9
site..: >
...> ?
Name..? C
;..C D
General// 
.// 
CrearLogError// %
(//% &
sf//& (
.//( )
	GetMethod//) 2
(//2 3
)//3 4
.//4 5
Name//5 9
,//9 :
$str//; I
,//I J
e//K L
.//L M
Message//M T
,//T U
e//V W
.//W X
Source//X ^
,//^ _
e//` a
.//a b

StackTrace//b l
,//l m

methodName//n x
,//x y
_config	//z 
.
// !
GetConnectionString
// 
(
// 
$str
//  
)
//  ¡
)
//¡ ¢
;
//¢ £
}00 
return11 
Ok11 
(11 
buscados11 
)11 
;11  
}22 	
private55 
List55 
<55 
dataBusqueda55 "
>55" # 
searchBusquedaRapida55$ 8
(558 9
List559 =
<55= >
busquedaRapidaModel55> Q
>55Q R
	abusqueda55S \
)55\ ]
{66 	
List77 
<77 
dataBusqueda77 
>77 
	buscadosS77 (
=77) *
new77+ .
List77/ 3
<773 4
dataBusqueda774 @
>77@ A
(77A B
)77B C
;77C D
string88 
valor88 
=88 
$str88 
;88 
string99 
	parametro99 
=99 
$str99 !
;99! "
foreach:: 
(:: 
busquedaRapidaModel:: '
item::( ,
in::- /
	abusqueda::0 9
)::9 :
{;; 
var<< 
busqueda<< 
=<< 
new<< "
Object<<# )
(<<) *
)<<* +
;<<+ ,
try== 
{>> 
switch?? 
(?? 
item??  
.??  !
entidad??! (
)??( )
{@@ 
caseAA 
$strAA *
:AA* +
ListBB  
<BB  !
area_ccostoBB! ,
>BB, -
area_ccostosBB. :
=BB; <
newBB= @
ListBBA E
<BBE F
area_ccostoBBF Q
>BBQ R
(BBR S
)BBS T
;BBT U
valorCC !
=CC" #
itemCC$ (
.CC( )
valorCC) .
;CC. /
ifDD 
(DD  
valorDD  %
==DD& (
$strDD) ,
)DD, -
{EE 
area_ccostosGG  ,
=GG- .
_contextGG/ 7
.GG7 8
area_ccostoGG8 C
.GGC D
ToListGGD J
(GGJ K
)GGK L
;GGL M
;GGN O
}HH 
elseII  
{JJ 
area_ccostosKK  ,
=KK- .
_contextKK/ 7
.KK7 8
area_ccostoKK8 C
.KKC D
WhereKKD I
(KKI J
xKKJ K
=>KKL N
xKKO P
.KKP Q
ccostoKKQ W
==KKX Z
ConvertKK[ b
.KKb c
ToInt32KKc j
(KKj k
valorKKk p
)KKp q
||KKr t
xKKu v
.KKv w
areaKKw {
==KK| ~
valor	KK 
)
KK 
.
KK 
ToList
KK 
(
KK 
)
KK 
;
KK 
}LL 
ifNN 
(NN 
area_ccostosNN +
.NN+ ,
CountNN, 1
(NN1 2
)NN2 3
>NN4 5
$numNN6 7
)NN7 8
{OO 
foreachPP  '
(PP' (
area_ccostoPP( 3
iPP4 5
inPP6 8
area_ccostosPP9 E
)PPE F
{QQ  !
dataBusquedaRR$ 0
dataRR1 5
=RR6 7
newRR8 ;
dataBusquedaRR< H
(RRH I
)RRI J
;RRJ K
dataSS$ (
.SS( )
idSS) +
=SS, -
iSS. /
.SS/ 0
idSS0 2
;SS2 3
dataTT$ (
.TT( )
valor1TT) /
=TT0 1
iTT2 3
.TT3 4
ccostoTT4 :
+TT; <
$strTT= ?
;TT? @
dataUU$ (
.UU( )
valor2UU) /
=UU0 1
iUU2 3
.UU3 4
areaUU4 8
;UU8 9
dataVV$ (
.VV( )
valor3VV) /
=VV0 1
$strVV2 4
;VV4 5
dataWW$ (
.WW( )
valor4WW) /
=WW0 1
$strWW2 4
;WW4 5
dataXX$ (
.XX( )
valor5XX) /
=XX0 1
$strXX2 4
;XX4 5
dataYY$ (
.YY( )
valor6YY) /
=YY0 1
$strYY2 4
;YY4 5
dataZZ$ (
.ZZ( )
valor7ZZ) /
=ZZ0 1
$strZZ2 4
;ZZ4 5
data[[$ (
.[[( )
valor8[[) /
=[[0 1
$str[[2 4
;[[4 5
	buscadosS\\$ -
.\\- .
Add\\. 1
(\\1 2
data\\2 6
)\\6 7
;\\7 8
}]]  !
}^^ 
break__ !
;__! "
case`` 
$str`` 0
:``0 1
Listaa  
<aa  !
area_ccostoaa! ,
>aa, -
area_ccostos_aa. ;
=aa< =
newaa> A
ListaaB F
<aaF G
area_ccostoaaG R
>aaR S
(aaS T
)aaT U
;aaU V
valorbb !
=bb" #
itembb$ (
.bb( )
valorbb) .
;bb. /
ifcc 
(cc  
valorcc  %
==cc& (
$strcc) ,
)cc, -
{dd 
area_ccostos_ff  -
=ff. /
_contextff0 8
.ff8 9
area_ccostoff9 D
.ffD E
ToListffE K
(ffK L
)ffL M
;ffM N
;ffO P
}gg 
elsehh  
{ii 
area_ccostos_jj  -
=jj. /
_contextjj0 8
.jj8 9
area_ccostojj9 D
.jjD E
WherejjE J
(jjJ K
xjjK L
=>jjM O
xjjP Q
.jjQ R
ccostojjR X
==jjY [
Convertjj\ c
.jjc d
ToInt32jjd k
(jjk l
valorjjl q
)jjq r
||jjs u
xjjv w
.jjw x
areajjx |
==jj} 
valor
jj 
)
jj 
.
jj 
ToList
jj 
(
jj 
)
jj 
;
jj 
}kk 
ifmm 
(mm  
area_ccostos_mm  -
.mm- .
Countmm. 3
(mm3 4
)mm4 5
>mm6 7
$nummm8 9
)mm9 :
{nn 
foreachoo  '
(oo( )
area_ccostooo) 4
ioo5 6
inoo7 9
area_ccostos_oo: G
)ooG H
{pp  !
dataBusquedaqq$ 0
dataqq1 5
=qq6 7
newqq8 ;
dataBusquedaqq< H
(qqH I
)qqI J
;qqJ K
datarr$ (
.rr( )
idrr) +
=rr, -
irr. /
.rr/ 0
idrr0 2
;rr2 3
datass$ (
.ss( )
valor1ss) /
=ss0 1
iss2 3
.ss3 4
ccostoss4 :
+ss; <
$strss= ?
;ss? @
datatt$ (
.tt( )
valor2tt) /
=tt0 1
itt2 3
.tt3 4
areatt4 8
;tt8 9
datauu$ (
.uu( )
valor3uu) /
=uu0 1
$struu2 4
;uu4 5
datavv$ (
.vv( )
valor4vv) /
=vv0 1
$strvv2 4
;vv4 5
dataww$ (
.ww( )
valor5ww) /
=ww0 1
$strww2 4
;ww4 5
dataxx$ (
.xx( )
valor6xx) /
=xx0 1
$strxx2 4
;xx4 5
datayy$ (
.yy( )
valor7yy) /
=yy0 1
$stryy2 4
;yy4 5
datazz$ (
.zz( )
valor8zz) /
=zz0 1
$strzz2 4
;zz4 5
	buscadosS{{$ -
.{{- .
Add{{. 1
({{1 2
data{{2 6
){{6 7
;{{7 8
}||  !
}}} 
break~~ !
;~~! "
case
 
$str
 1
:
1 2
valor
 !
=
" #
item
$ (
.
( )
valor
) .
;
. /
if
 
(
 
valor
 $
!=
% '
$str
( *
)
* +
{
 
List
  $
<
$ %
articulosBusqueda
% 6
>
6 7!
articulosDevolucion
8 K
=
L M*
busquedaArticulosDevolutivos
N j
(
j k
valor
k p
)
p q
;
q r
if
  "
(
" #!
articulosDevolucion
# 6
.
6 7
Count
7 <
(
< =
)
= >
>
? @
$num
A B
)
B C
{
  !
foreach
# *
(
* +
articulosBusqueda
+ <
i
= >
in
? A!
articulosDevolucion
B U
)
U V
{
$ %
dataBusqueda
( 4
data
5 9
=
: ;
new
< ?
dataBusqueda
@ L
(
L M
)
M N
;
N O
data
( ,
.
, -
id
- /
=
0 1
i
2 3
.
3 4
Id
4 6
;
6 7
data
( ,
.
, -
valor1
- 3
=
4 5
i
6 7
.
7 8
Codigo
8 >
;
> ?
data
( ,
.
, -
valor2
- 3
=
4 5
i
6 7
.
7 8
Descripcion
8 C
;
C D
data
( ,
.
, -
valor3
- 3
=
4 5
i
6 7
.
7 8
Tipo
8 <
+
< =
$str
= ?
;
? @
data
( ,
.
, -
valor4
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor5
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor6
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor7
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor8
- 3
=
4 5
$str
6 8
;
8 9
	buscadosS
( 1
.
1 2
Add
2 5
(
5 6
data
6 :
)
: ;
;
; <
}
$ %
}
  !
}
 
break
 !
;
! "
case
 
$str
 1
:
1 2
valor
 !
=
" #
item
$ (
.
( )
valor
) .
;
. /
if
 
(
 
valor
 $
!=
% '
$str
( *
)
* +
{
 
List
  $
<
$ %#
articulosBusquedaFijo
% :
>
: ;!
articulosActivoFijo
< O
=
P Q"
BusquedaArticuloFijo
R f
(
f g
valor
g l
)
l m
;
m n
if
  "
(
" #!
articulosActivoFijo
# 6
.
6 7
Count
7 <
(
< =
)
= >
>
? @
$num
A B
)
B C
{
  !
foreach
$ +
(
+ ,#
articulosBusquedaFijo
, A
i
B C
in
D F!
articulosActivoFijo
G Z
)
Z [
{
  $ %
dataBusqueda
¡¡( 4
data
¡¡5 9
=
¡¡: ;
new
¡¡< ?
dataBusqueda
¡¡@ L
(
¡¡L M
)
¡¡M N
;
¡¡N O
data
¢¢( ,
.
¢¢, -
id
¢¢- /
=
¢¢0 1
i
¢¢2 3
.
¢¢3 4
Id
¢¢4 6
;
¢¢6 7
data
££( ,
.
££, -
valor1
££- 3
=
££4 5
i
££6 7
.
££7 8
Id_ped
££8 >
+
££? @
$str
££A C
;
££C D
data
¤¤( ,
.
¤¤, -
valor2
¤¤- 3
=
¤¤4 5
i
¤¤6 7
.
¤¤7 8
Codigo
¤¤8 >
;
¤¤> ?
data
¥¥( ,
.
¥¥, -
valor3
¥¥- 3
=
¥¥4 5
i
¥¥6 7
.
¥¥7 8
Usuario
¥¥8 ?
;
¥¥? @
data
¦¦( ,
.
¦¦, -
valor4
¦¦- 3
=
¦¦4 5
i
¦¦6 7
.
¦¦7 8
Descripcion
¦¦8 C
;
¦¦C D
data
§§( ,
.
§§, -
valor5
§§- 3
=
§§4 5
i
§§6 7
.
§§7 8
Grupo
§§8 =
;
§§= >
data
¨¨( ,
.
¨¨, -
valor6
¨¨- 3
=
¨¨4 5
i
¨¨6 7
.
¨¨7 8
Valor
¨¨8 =
+
¨¨> ?
$str
¨¨@ B
;
¨¨B C
data
©©( ,
.
©©, -
valor7
©©- 3
=
©©4 5
i
©©6 7
.
©©7 8
CECO
©©8 <
;
©©< =
data
ªª( ,
.
ªª, -
valor8
ªª- 3
=
ªª4 5
i
ªª6 7
.
ªª7 8
V_util
ªª8 >
+
ªª? @
$str
ªªA C
;
ªªC D
	buscadosS
««( 1
.
««1 2
Add
««2 5
(
««5 6
data
««6 :
)
««: ;
;
««; <
}
¬¬$ %
}
­­  !
}
®® 
break
°° !
;
°°! "
case
±± 
$str
±± )
:
±±) *
valor
²² !
=
²²" #
item
²²$ (
.
²²( )
valor
²²) .
;
²². /
	parametro
³³ %
=
³³& '
item
³³( ,
.
³³, -
	parametro
³³- 6
;
³³6 7
if
´´ 
(
´´  
valor
´´  %
!=
´´& (
$str
´´) +
)
´´+ ,
{
µµ 
List
¶¶  $
<
¶¶$ %
objeto
¶¶% +
>
¶¶+ ,
Objetos
¶¶- 4
=
¶¶5 6&
busquedaActivoDisponible
¶¶7 O
(
¶¶O P
valor
¶¶P U
,
¶¶U V
	parametro
¶¶W `
)
¶¶` a
;
¶¶a b
if
··  "
(
··" #
Objetos
··# *
.
··* +
Count
··+ 0
(
··0 1
)
··1 2
>
··3 4
$num
··5 6
)
··6 7
{
¸¸  !
foreach
¹¹$ +
(
¹¹+ ,
objeto
¹¹, 2
i
¹¹3 4
in
¹¹5 7
Objetos
¹¹8 ?
)
¹¹? @
{
ºº$ %
dataBusqueda
»»( 4
data
»»5 9
=
»»: ;
new
»»< ?
dataBusqueda
»»@ L
(
»»L M
)
»»M N
;
»»N O
data
¼¼( ,
.
¼¼, -
id
¼¼- /
=
¼¼0 1
i
¼¼2 3
.
¼¼3 4
id
¼¼4 6
;
¼¼6 7
data
½½( ,
.
½½, -
valor1
½½- 3
=
½½4 5
i
½½6 7
.
½½7 8
af
½½8 :
;
½½: ;
data
¾¾( ,
.
¾¾, -
valor2
¾¾- 3
=
¾¾4 5
i
¾¾6 7
.
¾¾7 8
imei
¾¾8 <
;
¾¾< =
data
¿¿( ,
.
¿¿, -
valor3
¿¿- 3
=
¿¿4 5
i
¿¿6 7
.
¿¿7 8
descripcion
¿¿8 C
;
¿¿C D
data
ÀÀ( ,
.
ÀÀ, -
valor4
ÀÀ- 3
=
ÀÀ4 5
$str
ÀÀ6 8
;
ÀÀ8 9
data
ÁÁ( ,
.
ÁÁ, -
valor5
ÁÁ- 3
=
ÁÁ4 5
$str
ÁÁ6 8
;
ÁÁ8 9
data
ÂÂ( ,
.
ÂÂ, -
valor6
ÂÂ- 3
=
ÂÂ4 5
$str
ÂÂ6 8
;
ÂÂ8 9
data
ÃÃ( ,
.
ÃÃ, -
valor7
ÃÃ- 3
=
ÃÃ4 5
$str
ÃÃ6 8
;
ÃÃ8 9
data
ÄÄ( ,
.
ÄÄ, -
valor8
ÄÄ- 3
=
ÄÄ4 5
$str
ÄÄ6 8
;
ÄÄ8 9
	buscadosS
ÅÅ( 1
.
ÅÅ1 2
Add
ÅÅ2 5
(
ÅÅ5 6
data
ÅÅ6 :
)
ÅÅ: ;
;
ÅÅ; <
}
ÆÆ$ %
}
ÇÇ  !
}
ÈÈ 
break
ÉÉ !
;
ÉÉ! "
case
ËË 
$str
ËË /
:
ËË/ 0
valor
ÌÌ !
=
ÌÌ" #
item
ÌÌ$ (
.
ÌÌ( )
valor
ÌÌ) .
;
ÌÌ. /
	parametro
ÍÍ %
=
ÍÍ& '
item
ÍÍ( ,
.
ÍÍ, -
	parametro
ÍÍ- 6
;
ÍÍ6 7
if
ÎÎ 
(
ÎÎ 
valor
ÎÎ $
!=
ÎÎ% '
$str
ÎÎ( *
)
ÎÎ* +
{
ÏÏ 
List
ÑÑ  $
<
ÑÑ$ %
objeto
ÑÑ% +
>
ÑÑ+ ,
Objetos
ÑÑ- 4
=
ÑÑ5 6)
busquedaDevolitvoDisponible
ÑÑ7 R
(
ÑÑR S
valor
ÑÑS X
,
ÑÑX Y
	parametro
ÑÑZ c
)
ÑÑc d
;
ÑÑd e
if
ÒÒ  "
(
ÒÒ# $
Objetos
ÒÒ$ +
.
ÒÒ+ ,
Count
ÒÒ, 1
(
ÒÒ1 2
)
ÒÒ2 3
>
ÒÒ4 5
$num
ÒÒ6 7
)
ÒÒ7 8
{
ÓÓ  !
foreach
ÔÔ$ +
(
ÔÔ, -
objeto
ÔÔ- 3
i
ÔÔ4 5
in
ÔÔ6 8
Objetos
ÔÔ9 @
)
ÔÔ@ A
{
ÕÕ$ %
dataBusqueda
ÖÖ( 4
data
ÖÖ5 9
=
ÖÖ: ;
new
ÖÖ< ?
dataBusqueda
ÖÖ@ L
(
ÖÖL M
)
ÖÖM N
;
ÖÖN O
data
××( ,
.
××, -
id
××- /
=
××0 1
i
××2 3
.
××3 4
id
××4 6
;
××6 7
data
ØØ( ,
.
ØØ, -
valor1
ØØ- 3
=
ØØ4 5
i
ØØ6 7
.
ØØ7 8
af
ØØ8 :
;
ØØ: ;
data
ÙÙ( ,
.
ÙÙ, -
valor2
ÙÙ- 3
=
ÙÙ4 5
i
ÙÙ6 7
.
ÙÙ7 8
imei
ÙÙ8 <
;
ÙÙ< =
data
ÚÚ( ,
.
ÚÚ, -
valor3
ÚÚ- 3
=
ÚÚ4 5
i
ÚÚ6 7
.
ÚÚ7 8
descripcion
ÚÚ8 C
;
ÚÚC D
data
ÛÛ( ,
.
ÛÛ, -
valor4
ÛÛ- 3
=
ÛÛ4 5
$str
ÛÛ6 8
;
ÛÛ8 9
data
ÜÜ( ,
.
ÜÜ, -
valor5
ÜÜ- 3
=
ÜÜ4 5
$str
ÜÜ6 8
;
ÜÜ8 9
data
ÝÝ( ,
.
ÝÝ, -
valor6
ÝÝ- 3
=
ÝÝ4 5
$str
ÝÝ6 8
;
ÝÝ8 9
data
ÞÞ( ,
.
ÞÞ, -
valor7
ÞÞ- 3
=
ÞÞ4 5
$str
ÞÞ6 8
;
ÞÞ8 9
data
ßß( ,
.
ßß, -
valor8
ßß- 3
=
ßß4 5
$str
ßß6 8
;
ßß8 9
	buscadosS
àà( 1
.
àà1 2
Add
àà2 5
(
àà5 6
data
àà6 :
)
àà: ;
;
àà; <
}
áá$ %
}
ââ  !
}
ãã 
break
ää !
;
ää! "
case
ææ 
$str
ææ -
:
ææ- .
valor
çç !
=
çç" #
item
çç$ (
.
çç( )
valor
çç) .
;
çç. /
if
èè 
(
èè 
valor
èè $
!=
èè% '
$str
èè( *
)
èè* +
{
éé 
List
êê  $
<
êê$ %
empleado
êê% -
>
êê- .
	Empleados
êê/ 8
=
êê9 :
busquedaEmpleados
êê; L
(
êêL M
valor
êêM R
)
êêR S
;
êêS T
if
ëë  "
(
ëë" #
	Empleados
ëë# ,
.
ëë, -
Count
ëë- 2
(
ëë2 3
)
ëë3 4
>
ëë5 6
$num
ëë7 8
)
ëë8 9
{
ìì  !
foreach
íí$ +
(
íí+ ,
empleado
íí, 4
i
íí5 6
in
íí7 9
	Empleados
íí: C
)
ííC D
{
îî$ %
dataBusqueda
ïï( 4
data
ïï5 9
=
ïï: ;
new
ïï< ?
dataBusqueda
ïï@ L
(
ïïL M
)
ïïM N
;
ïïN O
data
ðð( ,
.
ðð, -
id
ðð- /
=
ðð0 1
i
ðð2 3
.
ðð3 4
id
ðð4 6
;
ðð6 7
data
ññ( ,
.
ññ, -
valor1
ññ- 3
=
ññ4 5
i
ññ6 7
.
ññ7 8

cedula_emp
ññ8 B
;
ññB C
data
òò( ,
.
òò, -
valor2
òò- 3
=
òò4 5
i
òò6 7
.
òò7 8
nombre
òò8 >
;
òò> ?
data
óó( ,
.
óó, -
valor3
óó- 3
=
óó4 5
i
óó6 7
.
óó7 8
snombre
óó8 ?
;
óó? @
data
ôô( ,
.
ôô, -
valor4
ôô- 3
=
ôô4 5
i
ôô6 7
.
ôô7 8
ppellido
ôô8 @
;
ôô@ A
data
õõ( ,
.
õõ, -
valor5
õõ- 3
=
õõ4 5
i
õõ6 7
.
õõ7 8
spellido
õõ8 @
;
õõ@ A
data
öö( ,
.
öö, -
valor6
öö- 3
=
öö4 5
$str
öö6 8
;
öö8 9
data
÷÷( ,
.
÷÷, -
valor7
÷÷- 3
=
÷÷4 5
$str
÷÷6 8
;
÷÷8 9
data
øø( ,
.
øø, -
valor8
øø- 3
=
øø4 5
$str
øø6 8
;
øø8 9
	buscadosS
ùù( 1
.
ùù1 2
Add
ùù2 5
(
ùù5 6
data
ùù6 :
)
ùù: ;
;
ùù; <
}
úú$ %
}
ûû  !
}
üü 
break
ýý !
;
ýý! "
case
þþ 
$str
þþ /
:
þþ/ 0
valor
ÿÿ !
=
ÿÿ" #
item
ÿÿ$ (
.
ÿÿ( )
valor
ÿÿ) .
;
ÿÿ. /
if
 
(
 
valor
 $
!=
% '
$str
( *
)
* +
{
 
List
  $
<
% &
busquedaProveedor
& 7
>
7 8

proveedors
9 C
=
D E 
busquedaProvedores
F X
(
X Y
valor
Y ^
)
^ _
;
_ `
if
  "
(
" #

proveedors
# -
.
- .
Count
. 3
(
3 4
)
4 5
>
6 7
$num
8 9
)
9 :
{
  !
foreach
$ +
(
+ ,
busquedaProveedor
, =
i
> ?
in
@ B

proveedors
C M
)
M N
{
$ %
dataBusqueda
( 4
data
5 9
=
: ;
new
< ?
dataBusqueda
@ L
(
L M
)
M N
;
N O
data
( ,
.
, -
id
- /
=
0 1
i
2 3
.
3 4
id
4 6
;
6 7
data
( ,
.
, -
valor1
- 3
=
4 5
i
6 7
.
7 8
nit
8 ;
;
; <
data
( ,
.
, -
valor2
- 3
=
4 5
i
6 7
.
7 8
razon_social
8 D
;
D E
data
( ,
.
, -
valor3
- 3
=
4 5
i
6 7
.
7 8
contrato
8 @
;
@ A
data
( ,
.
, -
valor4
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor5
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor6
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor7
- 3
=
4 5
$str
6 8
;
8 9
data
( ,
.
, -
valor8
- 3
=
4 5
$str
6 8
;
8 9
	buscadosS
( 1
.
1 2
Add
2 5
(
5 6
data
6 :
)
: ;
;
; <
}
$ %
}
  !
}
 
break
 !
;
! "
case
 
$str
 /
:
/ 0
valor
 !
=
" #
item
$ (
.
( )
valor
) .
;
. /
if
 
(
  
valor
  %
!=
& (
$str
) +
)
+ ,
{
 
List
  $
<
$ %
articulosPedidos
% 5
>
5 6
	articulos
7 @
=
A B-
busquedaArticulosComprasPedidos
C b
(
b c
valor
c h
)
h i
;
i j
if
  "
(
" #
	articulos
# ,
.
, -
Count
- 2
(
2 3
)
3 4
>
5 6
$num
7 8
)
8 9
{
  !
foreach
$ +
(
+ ,
articulosPedidos
, <
i
= >
in
? A
	articulos
B K
)
K L
{
$ %
dataBusqueda
( 4
data
5 9
=
: ;
new
< ?
dataBusqueda
@ L
(
L M
)
M N
;
N O
data
  ( ,
.
  , -
id
  - /
=
  0 1
i
  2 3
.
  3 4
Id
  4 6
;
  6 7
data
¡¡( ,
.
¡¡, -
valor1
¡¡- 3
=
¡¡4 5
i
¡¡6 7
.
¡¡7 8
Codigo
¡¡8 >
+
¡¡> ?
$str
¡¡? A
;
¡¡A B
data
¢¢( ,
.
¢¢, -
valor2
¢¢- 3
=
¢¢4 5
i
¢¢6 7
.
¢¢7 8
Descripcion
¢¢8 C
;
¢¢C D
data
££( ,
.
££, -
valor3
££- 3
=
££4 5
i
££6 7
.
££7 8
und
££8 ;
;
££; <
data
¤¤( ,
.
¤¤, -
valor4
¤¤- 3
=
¤¤4 5
i
¤¤6 7
.
¤¤7 8
cuenta
¤¤8 >
;
¤¤> ?
data
¥¥( ,
.
¥¥, -
valor5
¥¥- 3
=
¥¥4 5
$str
¥¥6 8
;
¥¥8 9
data
¦¦( ,
.
¦¦, -
valor6
¦¦- 3
=
¦¦4 5
$str
¦¦6 8
;
¦¦8 9
data
§§( ,
.
§§, -
valor7
§§- 3
=
§§4 5
$str
§§6 8
;
§§8 9
data
¨¨( ,
.
¨¨, -
valor8
¨¨- 3
=
¨¨4 5
$str
¨¨6 8
;
¨¨8 9
	buscadosS
©©( 1
.
©©1 2
Add
©©2 5
(
©©5 6
data
©©6 :
)
©©: ;
;
©©; <
}
ªª$ %
}
««  !
}
¬¬ 
break
­­ !
;
­­! "
case
¯¯ 
$str
¯¯ ;
:
¯¯; <
valor
°° !
=
°°" #
item
°°$ (
.
°°( )
valor
°°) .
;
°°. /
List
²²  
<
²²  !
articulosPedidos
²²! 1
>
²²1 2
articulosAF
²²3 >
=
²²? @)
busquedaArticulosFijoPedido
²²A \
(
²²\ ]
valor
²²] b
)
²²b c
;
²²c d
if
³³ 
(
³³  
articulosAF
³³  +
.
³³+ ,
Count
³³, 1
(
³³1 2
)
³³2 3
>
³³4 5
$num
³³6 7
)
³³7 8
{
´´ 
foreach
µµ  '
(
µµ( )
articulosPedidos
µµ) 9
i
µµ: ;
in
µµ< >
articulosAF
µµ? J
)
µµJ K
{
¶¶  !
dataBusqueda
··$ 0
data
··1 5
=
··6 7
new
··8 ;
dataBusqueda
··< H
(
··H I
)
··I J
;
··J K
data
¸¸$ (
.
¸¸( )
id
¸¸) +
=
¸¸, -
i
¸¸. /
.
¸¸/ 0
Id
¸¸0 2
;
¸¸2 3
data
¹¹$ (
.
¹¹( )
valor1
¹¹) /
=
¹¹0 1
i
¹¹2 3
.
¹¹3 4
Codigo
¹¹4 :
+
¹¹; <
$str
¹¹= ?
;
¹¹? @
data
ºº$ (
.
ºº( )
valor2
ºº) /
=
ºº0 1
i
ºº2 3
.
ºº3 4
Descripcion
ºº4 ?
;
ºº? @
data
»»$ (
.
»»( )
valor3
»») /
=
»»0 1
i
»»2 3
.
»»3 4
und
»»4 7
;
»»7 8
data
¼¼$ (
.
¼¼( )
valor4
¼¼) /
=
¼¼0 1
i
¼¼2 3
.
¼¼3 4
cuenta
¼¼4 :
;
¼¼: ;
data
½½$ (
.
½½( )
valor5
½½) /
=
½½0 1
$str
½½2 4
;
½½4 5
data
¾¾$ (
.
¾¾( )
valor6
¾¾) /
=
¾¾0 1
$str
¾¾2 4
;
¾¾4 5
data
¿¿$ (
.
¿¿( )
valor7
¿¿) /
=
¿¿0 1
$str
¿¿2 4
;
¿¿4 5
data
ÀÀ$ (
.
ÀÀ( )
valor8
ÀÀ) /
=
ÀÀ0 1
$str
ÀÀ2 4
;
ÀÀ4 5
	buscadosS
ÁÁ$ -
.
ÁÁ- .
Add
ÁÁ. 1
(
ÁÁ1 2
data
ÁÁ2 6
)
ÁÁ6 7
;
ÁÁ7 8
}
ÂÂ  !
}
ÃÃ 
break
ÄÄ !
;
ÄÄ! "
}
ÆÆ 
}
ÇÇ 
catch
ÈÈ 
(
ÈÈ 
	Exception
ÈÈ  
e
ÈÈ! "
)
ÈÈ" #
{
ÉÉ 
var
ÊÊ 
st
ÊÊ 
=
ÊÊ 
new
ÊÊ  

StackTrace
ÊÊ! +
(
ÊÊ+ ,
)
ÊÊ, -
;
ÊÊ- .
var
ËË 
sf
ËË 
=
ËË 
st
ËË 
.
ËË  
GetFrame
ËË  (
(
ËË( )
$num
ËË) *
)
ËË* +
;
ËË+ ,

MethodBase
ÌÌ 
site
ÌÌ #
=
ÌÌ$ %
e
ÌÌ& '
.
ÌÌ' (

TargetSite
ÌÌ( 2
;
ÌÌ2 3
string
ÍÍ 

methodName
ÍÍ %
=
ÍÍ& '
site
ÍÍ( ,
==
ÍÍ- /
null
ÍÍ0 4
?
ÍÍ5 6
null
ÍÍ7 ;
:
ÍÍ< =
site
ÍÍ> B
.
ÍÍB C
Name
ÍÍC G
;
ÍÍG H
General
ÎÎ 
.
ÎÎ 
CrearLogError
ÎÎ )
(
ÎÎ) *
sf
ÎÎ* ,
.
ÎÎ, -
	GetMethod
ÎÎ- 6
(
ÎÎ6 7
)
ÎÎ7 8
.
ÎÎ8 9
Name
ÎÎ9 =
,
ÎÎ= >
$str
ÎÎ? M
,
ÎÎM N
e
ÎÎO P
.
ÎÎP Q
Message
ÎÎQ X
,
ÎÎX Y
e
ÎÎY Z
.
ÎÎZ [
Source
ÎÎ[ a
,
ÎÎa b
e
ÎÎb c
.
ÎÎc d

StackTrace
ÎÎd n
,
ÎÎn o

methodName
ÎÎo y
,
ÎÎy z
_configÎÎ{ 
.ÎÎ #
GetConnectionStringÎÎ 
(ÎÎ 
$strÎÎ ¡
)ÎÎ¡ ¢
)ÎÎ¢ £
;ÎÎ£ ¤
}
ÏÏ 
}
ÑÑ 
return
ÒÒ 
	buscadosS
ÒÒ 
;
ÒÒ 
}
ÓÓ 	
public
×× 
List
×× 
<
×× 
articulosBusqueda
×× %
>
××% &*
busquedaArticulosDevolutivos
××' C
(
××C D
string
××D J
valor
××K P
)
××P Q
{
ØØ 	
List
ÙÙ 
<
ÙÙ 
articulosBusqueda
ÙÙ "
>
ÙÙ" #!
articulosDevolucion
ÙÙ$ 7
=
ÙÙ8 9
new
ÙÙ: =
List
ÙÙ> B
<
ÙÙB C
articulosBusqueda
ÙÙC T
>
ÙÙT U
(
ÙÙU V
)
ÙÙV W
;
ÙÙW X
string
ÚÚ 
qwery
ÚÚ 
=
ÚÚ 
$str
ÚÚ 
;
ÚÚ 
try
ÛÛ 
{
ÜÜ 
qwery
ÝÝ 
=
ÝÝ 
$str
ÝÝ -
+
ÝÝ. /
$str
ÞÞ .
+
ÞÞ/ 0
$str
ßß 8
+
ßß9 :
$str
àà 8
+
àà9 :
$str
áá C
+
ááD E
$str
ââ E
+
ââF G
$str
ãã >
+
ãã? @
$str
ää =
;
ää= >
using
åå 
(
åå 
SqlConnection
åå $
con
åå% (
=
åå) *
new
åå+ .
SqlConnection
åå/ <
(
åå< =
_config
åå= D
.
ååD E!
GetConnectionString
ååE X
(
ååX Y
$str
ååY c
)
ååc d
)
ååd e
)
ååe f
{
ææ 
using
çç 
(
çç 

SqlCommand
çç $
cmd
çç% (
=
çç) *
new
çç+ .

SqlCommand
çç/ 9
(
çç9 :
qwery
çç: ?
)
çç? @
)
çç@ A
{
èè 
cmd
éé 
.
éé 

Connection
éé &
=
éé' (
con
éé) ,
;
éé, -
SqlParameter
êê $
vlr
êê% (
=
êê) *
new
êê+ .
SqlParameter
êê/ ;
(
êê; <
$str
êê< D
,
êêD E
	SqlDbType
êêF O
.
êêO P
VarChar
êêP W
)
êêW X
;
êêX Y
vlr
ëë 
.
ëë 
Value
ëë !
=
ëë" #
valor
ëë$ )
;
ëë) *
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
Add
ìì' *
(
ìì* +
vlr
ìì+ .
)
ìì. /
;
ìì/ 0
con
íí 
.
íí 
Open
íí  
(
íí  !
)
íí! "
;
íí" #
using
îî 
(
îî 
SqlDataReader
îî +
srd
îî, /
=
îî0 1
cmd
îî2 5
.
îî5 6
ExecuteReader
îî6 C
(
îîC D
)
îîD E
)
îîE F
{
ïï 
while
ðð !
(
ðð" #
srd
ðð# &
.
ðð& '
Read
ðð' +
(
ðð+ ,
)
ðð, -
)
ðð- .
{
ññ !
articulosDevolucion
òò  3
.
òò3 4
Add
òò4 7
(
òò7 8
new
òò8 ;
articulosBusqueda
òò< M
{
óó  !
Id
ôô$ &
=
ôô0 1
Convert
ôô2 9
.
ôô9 :
ToInt32
ôô: A
(
ôôA B
srd
ôôB E
[
ôôE F
$str
ôôF J
]
ôôJ K
)
ôôK L
,
ôôL M
Codigo
õõ$ *
=
õõ0 1
srd
õõ2 5
[
õõ5 6
$str
õõ6 >
]
õõ> ?
+
õõ? @
$str
õõ@ B
,
õõB C
Descripcion
öö$ /
=
öö0 1
srd
öö2 5
[
öö5 6
$str
öö6 C
]
ööC D
+
ööD E
$str
ööE G
,
ööG H
Tipo
÷÷$ (
=
÷÷0 1
Convert
÷÷2 9
.
÷÷9 :
ToInt32
÷÷: A
(
÷÷A B
srd
÷÷B E
[
÷÷E F
$str
÷÷F L
]
÷÷L M
)
÷÷M N
}
øø  !
)
øø! "
;
øø" #
}
ùù 
}
úú 
con
ûû 
.
ûû 
Close
ûû !
(
ûû! "
)
ûû" #
;
ûû# $
}
üü 
}
ýý 
}
þþ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
e
ÿÿ 
)
ÿÿ 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; F
,
F G
e
H I
.
I J
Message
J Q
,
Q R
e
R S
.
S T
Source
T Z
,
Z [
e
[ \
.
\ ]

StackTrace
] g
,
g h

methodName
h r
,
r s
_config
t {
.
{ |"
GetConnectionString| 
( 
$str 
) 
) 
; 
}
 
return
 !
articulosDevolucion
 &
;
& '
}
 	
public
 
List
 
<
 #
articulosBusquedaFijo
 )
>
) *"
BusquedaArticuloFijo
+ ?
(
? @
string
@ F
valor
G L
)
L M
{
 	
List
 
<
 #
articulosBusquedaFijo
 &
>
& '
articulosFijo
( 5
=
6 7
new
8 ;
List
< @
<
@ A#
articulosBusquedaFijo
A V
>
V W
(
W X
)
X Y
;
Y Z
string
 
qwery
 
=
 
$str
 
;
 
try
 
{
 
qwery
 
=
 
$str
 ;
+
< =
$str
 ?
+
? @
$str
 =
+
= >
$str
 9
+
9 :
$str
 F
+
F G
$str
 :
+
; <
$str
 :
+
: ;
$str
 :
+
: ;
$str
 ;
+
; <
$str
 /
+
/ 0
$str
 d
+
d e
$str
 `
+
` a
$str
 E
+
E F
$str
 ;
+
; <
$str
 J
+
K L
$str
 N
+
O P
$str
   M
+
  N O
$str
¡¡ H
+
¡¡I J
$str
¢¢ Q
+
¢¢R S
$str
££ K
+
££L M
$str
¤¤ K
+
¤¤L M
$str
¥¥ L
+
¥¥M N
$str
¦¦ K
;
¦¦K L
using
§§ 
(
§§ 
SqlConnection
§§ $
con
§§% (
=
§§) *
new
§§+ .
SqlConnection
§§/ <
(
§§< =
_config
§§= D
.
§§D E!
GetConnectionString
§§E X
(
§§X Y
$str
§§Y c
)
§§c d
)
§§d e
)
§§e f
{
¨¨ 
using
©© 
(
©© 

SqlCommand
©© %
cmd
©©& )
=
©©* +
new
©©, /

SqlCommand
©©0 :
(
©©: ;
qwery
©©; @
)
©©@ A
)
©©A B
{
ªª 
cmd
«« 
.
«« 

Connection
«« &
=
««' (
con
««) ,
;
««, -
SqlParameter
¬¬ $
vlr
¬¬% (
=
¬¬) *
new
¬¬+ .
SqlParameter
¬¬/ ;
(
¬¬; <
$str
¬¬< D
,
¬¬D E
	SqlDbType
¬¬F O
.
¬¬O P
VarChar
¬¬P W
)
¬¬W X
;
¬¬X Y
vlr
­­ 
.
­­ 
Value
­­ !
=
­­" #
valor
­­$ )
;
­­) *
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
Add
®®' *
(
®®* +
vlr
®®+ .
)
®®. /
;
®®/ 0
con
¯¯ 
.
¯¯ 
Open
¯¯  
(
¯¯  !
)
¯¯! "
;
¯¯" #
using
°° 
(
°° 
SqlDataReader
°° ,
srd
°°- 0
=
°°1 2
cmd
°°3 6
.
°°6 7
ExecuteReader
°°7 D
(
°°D E
)
°°E F
)
°°F G
{
±± 
while
²² !
(
²²" #
srd
²²# &
.
²²& '
Read
²²' +
(
²²+ ,
)
²², -
)
²²- .
{
³³ 
articulosFijo
´´  -
.
´´- .
Add
´´. 1
(
´´1 2
new
´´2 5#
articulosBusquedaFijo
´´6 K
{
µµ  !
Id
¶¶$ &
=
¶¶' (
Convert
¶¶) 0
.
¶¶0 1
ToInt32
¶¶1 8
(
¶¶8 9
srd
¶¶9 <
[
¶¶< =
$str
¶¶= A
]
¶¶A B
)
¶¶B C
,
¶¶C D
Id_ped
··$ *
=
··+ ,
Convert
··- 4
.
··4 5
ToInt32
··5 <
(
··< =
srd
··= @
[
··@ A
$str
··A I
]
··I J
)
··J K
,
··K L
Codigo
¸¸$ *
=
¸¸+ ,
srd
¸¸- 0
[
¸¸0 1
$str
¸¸1 9
]
¸¸9 :
+
¸¸: ;
$str
¸¸; =
,
¸¸= >
Usuario
¹¹$ +
=
¹¹, -
srd
¹¹. 1
[
¹¹1 2
$str
¹¹2 ;
]
¹¹; <
+
¹¹< =
$str
¹¹= ?
,
¹¹? @
Descripcion
ºº$ /
=
ºº0 1
srd
ºº2 5
[
ºº5 6
$str
ºº6 C
]
ººC D
+
ººD E
$str
ººE G
,
ººG H
Grupo
»»$ )
=
»»* +
srd
»», /
[
»»/ 0
$str
»»0 7
]
»»7 8
+
»»8 9
$str
»»9 ;
,
»»; <
Valor
¼¼$ )
=
¼¼* +
Convert
¼¼, 3
.
¼¼3 4
ToDouble
¼¼4 <
(
¼¼< =
srd
¼¼= @
[
¼¼@ A
$str
¼¼A H
]
¼¼H I
)
¼¼I J
,
¼¼J K
CECO
½½$ (
=
½½) *
srd
½½+ .
[
½½. /
$str
½½/ 5
]
½½5 6
+
½½6 7
$str
½½7 9
,
½½9 :
V_util
¾¾$ *
=
¾¾+ ,
Convert
¾¾- 4
.
¾¾4 5
ToInt32
¾¾5 <
(
¾¾< =
srd
¾¾= @
[
¾¾@ A
$str
¾¾A I
]
¾¾I J
)
¾¾J K
}
¿¿  !
)
¿¿! "
;
¿¿" #
}
ÀÀ 
}
ÁÁ 
con
ÂÂ 
.
ÂÂ 
Close
ÂÂ !
(
ÂÂ! "
)
ÂÂ" #
;
ÂÂ# $
}
ÃÃ 
}
ÄÄ 
}
ÅÅ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
e
ÆÆ 
)
ÆÆ 
{
ÇÇ 
var
ÈÈ 
st
ÈÈ 
=
ÈÈ 
new
ÈÈ 

StackTrace
ÈÈ '
(
ÈÈ' (
)
ÈÈ( )
;
ÈÈ) *
var
ÉÉ 
sf
ÉÉ 
=
ÉÉ 
st
ÉÉ 
.
ÉÉ 
GetFrame
ÉÉ $
(
ÉÉ$ %
$num
ÉÉ% &
)
ÉÉ& '
;
ÉÉ' (

MethodBase
ÊÊ 
site
ÊÊ 
=
ÊÊ  !
e
ÊÊ" #
.
ÊÊ# $

TargetSite
ÊÊ$ .
;
ÊÊ. /
string
ËË 

methodName
ËË !
=
ËË" #
site
ËË$ (
==
ËË) +
null
ËË, 0
?
ËË1 2
null
ËË3 7
:
ËË8 9
site
ËË: >
.
ËË> ?
Name
ËË? C
;
ËËC D
General
ÌÌ 
.
ÌÌ 
CrearLogError
ÌÌ %
(
ÌÌ% &
sf
ÌÌ& (
.
ÌÌ( )
	GetMethod
ÌÌ) 2
(
ÌÌ2 3
)
ÌÌ3 4
.
ÌÌ4 5
Name
ÌÌ5 9
,
ÌÌ9 :
$str
ÌÌ; I
,
ÌÌI J
e
ÌÌK L
.
ÌÌL M
Message
ÌÌM T
,
ÌÌT U
e
ÌÌU V
.
ÌÌV W
Source
ÌÌW ]
,
ÌÌ] ^
e
ÌÌ^ _
.
ÌÌ_ `

StackTrace
ÌÌ` j
,
ÌÌj k

methodName
ÌÌk u
,
ÌÌu v
_config
ÌÌw ~
.
ÌÌ~ "
GetConnectionStringÌÌ 
(ÌÌ 
$strÌÌ 
)ÌÌ 
)ÌÌ 
;ÌÌ  
}
ÍÍ 
return
ÏÏ 
articulosFijo
ÏÏ  
;
ÏÏ  !
}
ÐÐ 	
public
ÑÑ 
List
ÑÑ 
<
ÑÑ 
objeto
ÑÑ 
>
ÑÑ &
busquedaActivoDisponible
ÑÑ 4
(
ÑÑ4 5
string
ÑÑ5 ;
valor
ÑÑ< A
,
ÑÑA B
string
ÑÑC I
	parametro
ÑÑJ S
)
ÑÑS T
{
ÒÒ 	
string
ÓÓ 
param
ÓÓ 
=
ÓÓ 
	parametro
ÓÓ $
;
ÓÓ$ %
int
ÔÔ 
indexOf
ÔÔ 
=
ÔÔ 
	parametro
ÔÔ #
.
ÔÔ# $
Length
ÔÔ$ *
;
ÔÔ* +
string
ÕÕ 
Estado
ÕÕ 
=
ÕÕ 
	parametro
ÕÕ %
.
ÕÕ% &
	Substring
ÕÕ& /
(
ÕÕ/ 0
indexOf
ÕÕ0 7
-
ÕÕ7 8
$num
ÕÕ8 9
)
ÕÕ9 :
;
ÕÕ: ;
List
ÖÖ 
<
ÖÖ 
objeto
ÖÖ 
>
ÖÖ 
Objetos
ÖÖ  
=
ÖÖ! "
new
ÖÖ# &
List
ÖÖ' +
<
ÖÖ+ ,
objeto
ÖÖ, 2
>
ÖÖ2 3
(
ÖÖ3 4
)
ÖÖ4 5
;
ÖÖ5 6
Objetos
×× 
=
×× 
_context
×× 
.
×× 
objeto
×× %
.
××% &
Where
××& +
(
××+ ,
x
××, -
=>
××. 0
(
××1 2
x
××2 3
.
××3 4
af
××4 6
==
××7 9
valor
××: ?
||
ØØ, .
x
ØØ/ 0
.
ØØ0 1
imei
ØØ1 5
==
ØØ6 8
valor
ØØ9 >
||
ÙÙ, .
x
ÙÙ/ 0
.
ÙÙ0 1
descripcion
ÙÙ1 <
.
ÙÙ< =
Contains
ÙÙ= E
(
ÙÙE F
valor
ÙÙF K
)
ÙÙK L
)
ÙÙL M
&&
ÚÚ, .
x
ÚÚ/ 0
.
ÚÚ0 1
estado
ÚÚ1 7
==
ÚÚ8 :
Convert
ÚÚ; B
.
ÚÚB C
ToInt32
ÚÚC J
(
ÚÚJ K
Estado
ÚÚK Q
)
ÚÚQ R
&&
ÛÛ, .
x
ÛÛ/ 0
.
ÛÛ0 1
tipo_articulo
ÛÛ1 >
==
ÛÛ? A
$num
ÛÛB C
)
ÛÛC D
.
ÛÛD E
ToList
ÛÛE K
(
ÛÛK L
)
ÛÛL M
;
ÛÛM N
return
ÜÜ 
Objetos
ÜÜ 
;
ÜÜ 
}
ÝÝ 	
public
ßß 
List
ßß 
<
ßß 
objeto
ßß 
>
ßß )
busquedaDevolitvoDisponible
ßß 7
(
ßß7 8
string
ßß8 >
valor
ßß? D
,
ßßD E
string
ßßF L
	parametro
ßßM V
)
ßßV W
{
àà 	
string
áá 
param
áá 
=
áá 
	parametro
áá $
;
áá$ %
int
ââ 
indexOf
ââ 
=
ââ 
	parametro
ââ #
.
ââ# $
Length
ââ$ *
;
ââ* +
string
ãã 
Estado
ãã 
=
ãã 
	parametro
ãã %
.
ãã% &
	Substring
ãã& /
(
ãã/ 0
indexOf
ãã0 7
-
ãã8 9
$num
ãã: ;
)
ãã; <
;
ãã< =
List
ää 
<
ää 
objeto
ää 
>
ää 
Objetos
ää  
=
ää! "
new
ää# &
List
ää' +
<
ää+ ,
objeto
ää, 2
>
ää2 3
(
ää3 4
)
ää4 5
;
ää5 6
Objetos
åå 
=
åå 
_context
åå 
.
åå 
objeto
åå %
.
åå% &
Where
åå& +
(
åå+ ,
x
åå, -
=>
åå. 0
(
åå1 2
x
åå2 3
.
åå3 4
af
åå4 6
==
åå7 9
valor
åå: ?
||
ææ, .
x
ææ/ 0
.
ææ0 1
imei
ææ1 5
==
ææ6 8
valor
ææ9 >
||
çç, .
x
çç/ 0
.
çç0 1
descripcion
çç1 <
.
çç< =
Contains
çç= E
(
ççE F
valor
ççF K
)
ççK L
)
ççL M
&&
èè, .
x
èè/ 0
.
èè0 1
estado
èè1 7
==
èè8 :
Convert
èè; B
.
èèB C
ToInt32
èèC J
(
èèJ K
Estado
èèK Q
)
èèQ R
&&
éé, .
x
éé/ 0
.
éé0 1
tipo_articulo
éé1 >
==
éé? A
$num
ééB C
)
ééC D
.
ééD E
ToList
ééE K
(
ééK L
)
ééL M
;
ééM N
return
êê 
Objetos
êê 
;
êê 
}
ëë 	
public
íí 
List
íí 
<
íí 
empleado
íí 
>
íí 
busquedaEmpleados
íí /
(
íí/ 0
string
íí0 6
valor
íí7 <
)
íí< =
{
îî 	
List
ïï 
<
ïï 
empleado
ïï 
>
ïï 
	Empleados
ïï $
=
ïï% &
new
ïï' *
List
ïï+ /
<
ïï/ 0
empleado
ïï0 8
>
ïï8 9
(
ïï9 :
)
ïï: ;
;
ïï; <
try
ðð 
{
ññ 
	Empleados
òò 
=
òò 
_context
òò $
.
òò$ %
empleado
òò% -
.
òò- .
Where
òò. 3
(
òò3 4
x
òò4 5
=>
òò6 8
x
òò9 :
.
òò: ;

cedula_emp
òò; E
==
òòF H
valor
òòI N
||
óó4 6
x
óó7 8
.
óó8 9
nombre
óó9 ?
.
óó? @
Contains
óó@ H
(
óóH I
valor
óóI N
)
óóN O
||
ôô4 6
x
ôô7 8
.
ôô8 9
snombre
ôô9 @
.
ôô@ A
Contains
ôôA I
(
ôôI J
valor
ôôJ O
)
ôôO P
||
õõ4 6
x
õõ7 8
.
õõ8 9
ppellido
õõ9 A
.
õõA B
Contains
õõB J
(
õõJ K
valor
õõK P
)
õõP Q
||
öö4 6
x
öö7 8
.
öö8 9
spellido
öö9 A
.
ööA B
Contains
ööB J
(
ööJ K
valor
ööK P
)
ööP Q
&&
÷÷4 6
x
÷÷7 8
.
÷÷8 9
estado
÷÷9 ?
==
÷÷@ B
$num
÷÷C D
)
÷÷D E
.
÷÷E F
ToList
÷÷F L
(
÷÷L M
)
÷÷M N
;
÷÷N O
if
øø 
(
øø 
	Empleados
øø 
==
øø 
null
øø  $
)
øø$ %
{
ùù 
return
úú 
null
úú 
;
úú  
}
ûû 
}
üü 
catch
ýý 
(
ýý 
	Exception
ýý 
e
ýý 
)
ýý 
{
þþ 
var
ÿÿ 
st
ÿÿ 
=
ÿÿ 
new
ÿÿ 

StackTrace
ÿÿ '
(
ÿÿ' (
)
ÿÿ( )
;
ÿÿ) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; E
,
E F
e
G H
.
H I
Message
I P
,
P Q
e
Q R
.
R S
Source
S Y
,
Y Z
e
Z [
.
[ \

StackTrace
\ f
,
f g

methodName
g q
,
q r
_config
s z
.
z {"
GetConnectionString{ 
( 
$str 
) 
) 
; 
}
 
return
 
	Empleados
 
;
 
}
 	
public
 
List
 
<
 
busquedaProveedor
 %
>
% & 
busquedaProvedores
' 9
(
9 :
string
: @
valor
A F
)
F G
{
 	
List
 
<
 
busquedaProveedor
 "
>
" #
proveedores
$ /
=
0 1
new
2 5
List
6 :
<
: ;
busquedaProveedor
; L
>
L M
(
M N
)
N O
;
O P
string
 
qwery
 
=
 
$str
 
;
 
try
 
{
 
qwery
 
=
 
$str
 `
+
` a
$str
 O
+
O P
$str 
+ 
$str
 <
;
< =
using
 
(
 
SqlConnection
 $
con
% (
=
) *
new
+ .
SqlConnection
/ <
(
< =
_config
= D
.
D E!
GetConnectionString
E X
(
X Y
$str
Y c
)
c d
)
d e
)
e f
{
 
using
 
(
 

SqlCommand
 %
cmd
& )
=
* +
new
, /

SqlCommand
0 :
(
: ;
qwery
; @
)
@ A
)
A B
{
 
cmd
 
.
 

Parameters
 &
.
& '
Add
' *
(
* +
new
+ .
SqlParameter
/ ;
(
; <
$str
< D
,
D E
System
F L
.
L M
Data
M Q
.
Q R
	SqlDbType
R [
.
[ \
VarChar
\ c
)
c d
)
d e
;
e f
cmd
 
.
 

Parameters
 &
[
& '
$str
' /
]
/ 0
.
0 1
Value
1 6
=
7 8
valor
9 >
;
> ?
cmd
 
.
 

Connection
 &
=
' (
con
) ,
;
, -
con
 
.
 
Open
  
(
  !
)
! "
;
" #
using
 
(
 
SqlDataReader
 ,
srd
- 0
=
1 2
cmd
3 6
.
6 7
ExecuteReader
7 D
(
D E
)
E F
)
F G
{
 
while
 !
(
" #
srd
# &
.
& '
Read
' +
(
+ ,
)
, -
)
- .
{
 
proveedores
  +
.
+ ,
Add
, /
(
/ 0
new
0 3
busquedaProveedor
4 E
{
  !
id
  $ &
=
  ' (
Convert
  ) 0
.
  0 1
ToInt32
  1 8
(
  8 9
srd
  9 <
[
  < =
$str
  = A
]
  A B
)
  B C
,
  C D
nit
¡¡$ '
=
¡¡( )
srd
¡¡* -
[
¡¡- .
$str
¡¡. 3
]
¡¡3 4
+
¡¡4 5
$str
¡¡5 7
,
¡¡7 8
razon_social
¢¢$ 0
=
¢¢1 2
srd
¢¢3 6
[
¢¢6 7
$str
¢¢7 E
]
¢¢E F
+
¢¢F G
$str
¢¢G I
,
¢¢I J
contrato
££$ ,
=
££- .
srd
££/ 2
[
££2 3
$str
££3 =
]
££= >
+
££> ?
$str
££? A
}
¤¤  !
)
¤¤! "
;
¤¤" #
}
¥¥ 
}
¦¦ 
con
§§ 
.
§§ 
Close
§§ !
(
§§! "
)
§§" #
;
§§# $
}
©© 
}
ªª 
}
«« 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ 
e
¬¬ 
)
¬¬ 
{
­­ 
var
®® 
st
®® 
=
®® 
new
®® 

StackTrace
®® '
(
®®' (
)
®®( )
;
®®) *
var
¯¯ 
sf
¯¯ 
=
¯¯ 
st
¯¯ 
.
¯¯ 
GetFrame
¯¯ $
(
¯¯$ %
$num
¯¯% &
)
¯¯& '
;
¯¯' (

MethodBase
°° 
site
°° 
=
°°  !
e
°°" #
.
°°# $

TargetSite
°°$ .
;
°°. /
string
±± 

methodName
±± !
=
±±" #
site
±±$ (
==
±±) +
null
±±, 0
?
±±1 2
null
±±3 7
:
±±8 9
site
±±: >
.
±±> ?
Name
±±? C
;
±±C D
General
²² 
.
²² 
CrearLogError
²² %
(
²²% &
sf
²²& (
.
²²( )
	GetMethod
²²) 2
(
²²2 3
)
²²3 4
.
²²4 5
Name
²²5 9
,
²²9 :
$str
²²; H
,
²²H I
e
²²J K
.
²²K L
Message
²²L S
,
²²S T
e
²²T U
.
²²U V
Source
²²V \
,
²²\ ]
e
²²] ^
.
²²^ _

StackTrace
²²_ i
,
²²i j

methodName
²²j t
,
²²t u
_config
²²v }
.
²²} ~"
GetConnectionString²²~ 
(²² 
$str²² 
)²² 
)²² 
;²² 
}
³³ 
return
µµ 
proveedores
µµ 
;
µµ 
}
¶¶ 	
public
¸¸ 
List
¸¸ 
<
¸¸ 
articulosPedidos
¸¸ $
>
¸¸$ %-
busquedaArticulosComprasPedidos
¸¸& E
(
¸¸E F
string
¸¸F L
valor
¸¸M R
)
¸¸R S
{
¹¹ 	
List
ºº 
<
ºº 
articulosPedidos
ºº !
>
ºº! "
	articulos
ºº# ,
=
ºº- .
new
ºº/ 2
List
ºº3 7
<
ºº7 8
articulosPedidos
ºº8 H
>
ººH I
(
ººI J
)
ººJ K
;
ººK L
string
»» 
query
»» 
=
»» 
$str
»» 
;
»» 
try
¼¼ 
{
½½ 
query
¾¾ 
=
¾¾ 
$str
¾¾ _
+
¾¾_ `
$str¿¿ ¥
;¿¿¥ ¦
using
ÀÀ 
(
ÀÀ 
SqlConnection
ÀÀ $
con
ÀÀ% (
=
ÀÀ) *
new
ÀÀ+ .
SqlConnection
ÀÀ/ <
(
ÀÀ< =
_config
ÀÀ= D
.
ÀÀD E!
GetConnectionString
ÀÀE X
(
ÀÀX Y
$str
ÀÀY c
)
ÀÀc d
)
ÀÀd e
)
ÀÀe f
{
ÁÁ 
using
ÂÂ 
(
ÂÂ 

SqlCommand
ÂÂ %
cmd
ÂÂ& )
=
ÂÂ* +
new
ÂÂ, /

SqlCommand
ÂÂ0 :
(
ÂÂ: ;
query
ÂÂ; @
)
ÂÂ@ A
)
ÂÂA B
{
ÃÃ 
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
Add
ÄÄ' *
(
ÄÄ* +
new
ÄÄ+ .
SqlParameter
ÄÄ/ ;
(
ÄÄ; <
$str
ÄÄ< D
,
ÄÄD E
System
ÄÄF L
.
ÄÄL M
Data
ÄÄM Q
.
ÄÄQ R
	SqlDbType
ÄÄR [
.
ÄÄ[ \
VarChar
ÄÄ\ c
)
ÄÄc d
)
ÄÄd e
;
ÄÄe f
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
[
ÅÅ& '
$str
ÅÅ' /
]
ÅÅ/ 0
.
ÅÅ0 1
Value
ÅÅ1 6
=
ÅÅ7 8
valor
ÅÅ9 >
;
ÅÅ> ?
cmd
ÆÆ 
.
ÆÆ 

Connection
ÆÆ &
=
ÆÆ' (
con
ÆÆ) ,
;
ÆÆ, -
con
ÇÇ 
.
ÇÇ 
Open
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
using
ÈÈ 
(
ÈÈ 
SqlDataReader
ÈÈ ,
srd
ÈÈ- 0
=
ÈÈ1 2
cmd
ÈÈ3 6
.
ÈÈ6 7
ExecuteReader
ÈÈ7 D
(
ÈÈD E
)
ÈÈE F
)
ÈÈF G
{
ÉÉ 
while
ÊÊ !
(
ÊÊ" #
srd
ÊÊ# &
.
ÊÊ& '
Read
ÊÊ' +
(
ÊÊ+ ,
)
ÊÊ, -
)
ÊÊ- .
{
ËË 
	articulos
ÌÌ  )
.
ÌÌ) *
Add
ÌÌ* -
(
ÌÌ- .
new
ÌÌ. 1
articulosPedidos
ÌÌ2 B
{
ÍÍ  !
Id
ÎÎ$ &
=
ÎÎ' (
Convert
ÎÎ) 0
.
ÎÎ0 1
ToInt32
ÎÎ1 8
(
ÎÎ8 9
srd
ÎÎ9 <
[
ÎÎ< =
$str
ÎÎ= A
]
ÎÎA B
)
ÎÎB C
,
ÎÎC D
Codigo
ÏÏ$ *
=
ÏÏ+ ,
Convert
ÏÏ- 4
.
ÏÏ4 5
ToInt32
ÏÏ5 <
(
ÏÏ< =
srd
ÏÏ= @
[
ÏÏ@ A
$str
ÏÏA I
]
ÏÏI J
)
ÏÏJ K
,
ÏÏK L
Descripcion
ÐÐ$ /
=
ÐÐ0 1
srd
ÐÐ2 5
[
ÐÐ5 6
$str
ÐÐ6 C
]
ÐÐC D
+
ÐÐD E
$str
ÐÐE G
,
ÐÐG H
und
ÑÑ$ '
=
ÑÑ( )
srd
ÑÑ* -
[
ÑÑ- .
$str
ÑÑ. 3
]
ÑÑ3 4
+
ÑÑ4 5
$str
ÑÑ5 7
,
ÑÑ7 8
cuenta
ÒÒ$ *
=
ÒÒ+ ,
srd
ÒÒ- 0
[
ÒÒ0 1
$str
ÒÒ1 9
]
ÒÒ9 :
+
ÒÒ: ;
$str
ÒÒ; =
}
ÓÓ  !
)
ÓÓ! "
;
ÓÓ" #
}
ÔÔ 
}
ÕÕ 
con
ÖÖ 
.
ÖÖ 
Close
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
;
ÖÖ# $
}
×× 
}
ØØ 
}
ÙÙ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
e
ÚÚ 
)
ÚÚ 
{
ÛÛ 
var
ÜÜ 
st
ÜÜ 
=
ÜÜ 
new
ÜÜ 

StackTrace
ÜÜ '
(
ÜÜ' (
)
ÜÜ( )
;
ÜÜ) *
var
ÝÝ 
sf
ÝÝ 
=
ÝÝ 
st
ÝÝ 
.
ÝÝ 
GetFrame
ÝÝ $
(
ÝÝ$ %
$num
ÝÝ% &
)
ÝÝ& '
;
ÝÝ' (

MethodBase
ÞÞ 
site
ÞÞ 
=
ÞÞ  !
e
ÞÞ" #
.
ÞÞ# $

TargetSite
ÞÞ$ .
;
ÞÞ. /
string
ßß 

methodName
ßß !
=
ßß" #
site
ßß$ (
==
ßß) +
null
ßß, 0
?
ßß1 2
null
ßß3 7
:
ßß8 9
site
ßß: >
.
ßß> ?
Name
ßß? C
;
ßßC D
General
àà 
.
àà 
CrearLogError
àà %
(
àà% &
sf
àà& (
.
àà( )
	GetMethod
àà) 2
(
àà2 3
)
àà3 4
.
àà4 5
Name
àà5 9
,
àà9 :
$str
àà; N
,
ààN O
e
ààP Q
.
ààQ R
Message
ààR Y
,
ààY Z
e
ààZ [
.
àà[ \
Source
àà\ b
,
ààb c
e
ààc d
.
ààd e

StackTrace
ààe o
,
àào p

methodName
ààp z
,
ààz {
_configàà| 
.àà #
GetConnectionStringàà 
(àà 
$stràà ¢
)àà¢ £
)àà£ ¤
;àà¤ ¥
}
áá 
return
ââ 
	articulos
ââ 
;
ââ 
}
ãã 	
public
åå 
List
åå 
<
åå 
articulosPedidos
åå $
>
åå$ %)
busquedaArticulosFijoPedido
åå& A
(
ååA B
string
ååB H
valor
ååI N
)
ååN O
{
ææ 	
List
çç 
<
çç 
articulosPedidos
çç !
>
çç! "
	articulos
çç# ,
=
çç- .
new
çç/ 2
List
çç3 7
<
çç7 8
articulosPedidos
çç8 H
>
ççH I
(
ççI J
)
ççJ K
;
ççK L
string
èè 
query
èè 
=
èè 
$str
èè 
;
èè 
try
éé 
{
êê 
query
ëë 
=
ëë 
$str
ëë Z
+
ëëZ [
$strìì ¥
;ìì¥ ¦
using
îî 
(
îî 
SqlConnection
îî $
con
îî% (
=
îî) *
new
îî+ .
SqlConnection
îî/ <
(
îî< =
_config
îî= D
.
îîD E!
GetConnectionString
îîE X
(
îîX Y
$str
îîY c
)
îîc d
)
îîd e
)
îîe f
{
ïï 
using
ðð 
(
ðð 

SqlCommand
ðð %
cmd
ðð& )
=
ðð* +
new
ðð, /

SqlCommand
ðð0 :
(
ðð: ;
query
ðð; @
)
ðð@ A
)
ððA B
{
ññ 
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
Add
òò' *
(
òò* +
new
òò+ .
SqlParameter
òò/ ;
(
òò; <
$str
òò< D
,
òòD E
System
òòF L
.
òòL M
Data
òòM Q
.
òòQ R
	SqlDbType
òòR [
.
òò[ \
VarChar
òò\ c
)
òòc d
)
òòd e
;
òòe f
cmd
óó 
.
óó 

Parameters
óó &
[
óó& '
$str
óó' /
]
óó/ 0
.
óó0 1
Value
óó1 6
=
óó7 8
valor
óó9 >
;
óó> ?
cmd
ôô 
.
ôô 

Connection
ôô &
=
ôô' (
con
ôô) ,
;
ôô, -
con
õõ 
.
õõ 
Open
õõ  
(
õõ  !
)
õõ! "
;
õõ" #
using
öö 
(
öö 
SqlDataReader
öö ,
srd
öö- 0
=
öö1 2
cmd
öö3 6
.
öö6 7
ExecuteReader
öö7 D
(
ööD E
)
ööE F
)
ööF G
{
÷÷ 
while
øø !
(
øø" #
srd
øø# &
.
øø& '
Read
øø' +
(
øø+ ,
)
øø, -
)
øø- .
{
ùù 
	articulos
úú  )
.
úú) *
Add
úú* -
(
úú- .
new
úú. 1
articulosPedidos
úú2 B
{
ûû  !
Id
üü$ &
=
üü' (
Convert
üü) 0
.
üü0 1
ToInt32
üü1 8
(
üü8 9
srd
üü9 <
[
üü< =
$str
üü= A
]
üüA B
)
üüB C
,
üüC D
Codigo
ýý$ *
=
ýý+ ,
Convert
ýý- 4
.
ýý4 5
ToInt32
ýý5 <
(
ýý< =
srd
ýý= @
[
ýý@ A
$str
ýýA I
]
ýýI J
)
ýýJ K
,
ýýK L
Descripcion
þþ$ /
=
þþ0 1
srd
þþ2 5
[
þþ5 6
$str
þþ6 C
]
þþC D
+
þþE F
$str
þþG I
,
þþI J
und
ÿÿ$ '
=
ÿÿ( )
srd
ÿÿ* -
[
ÿÿ- .
$str
ÿÿ. 3
]
ÿÿ3 4
+
ÿÿ5 6
$str
ÿÿ7 9
,
ÿÿ9 :
cuenta
$ *
=
+ ,
srd
- 0
[
0 1
$str
1 9
]
9 :
+
; <
$str
= ?
}
  !
)
! "
;
" #
}
 
}
 
con
 
.
 
Close
 !
(
! "
)
" #
;
# $
}
 
}
 
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; I
,
I J
e
K L
.
L M
Message
M T
,
T U
e
U V
.
V W
Source
W ]
,
] ^
e
^ _
.
_ `

StackTrace
` j
,
j k

methodName
k u
,
u v
_config
w ~
.
~ "
GetConnectionString 
( 
$str 
) 
) 
;  
}
 
return
 
	articulos
 
;
 
}
 	
}
 
} /
GE:\GITEA\siscointBKII\siscointBKII\Controllers\CentroCostoController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class !
CentroCostoController &
:' (
ControllerBase) 7
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public !
CentroCostoController $
($ %
AplicationDbContext% 8
context9 @
,@ A
IConfigurationB P
configQ W
)W X
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpPost	 
( 
$str "
)" #
]# $
[ 	
	Authorize	 
] 
public 
IActionResult 
getCentroCosto +
(+ ,
[, -
FromBody- 5
]5 6
area_ccosto7 B
area_ccostosC O
)O P
{ 	
var 
dato 
= 
new 
Object !
(! "
)" #
;# $
try 
{ 
dato   
=   
_context   
.    
area_ccosto    +
.  + ,
Where  , 1
(  1 2
x  2 3
=>  4 6
x  7 8
.  8 9
id  9 ;
==  < >
area_ccostos  ? K
.  K L
id  L N
||  O Q
x  R S
.  S T
ccosto  T Z
==  [ ]
area_ccostos  ^ j
.  j k
ccosto  k q
)  q r
.  r s
ToList  s y
(  y z
)  z {
;  { |
}!! 
catch"" 
("" 
	Exception"" 
e"" 
)"" 
{## 
var%% 
st%% 
=%% 
new%% 

StackTrace%% '
(%%' (
)%%( )
;%%) *
var&& 
sf&& 
=&& 
st&& 
.&& 
GetFrame&& $
(&&$ %
$num&&% &
)&&& '
;&&' (

MethodBase'' 
site'' 
=''  !
e''" #
.''# $

TargetSite''$ .
;''. /
string(( 

methodName(( !
=((" #
site(($ (
==(() +
null((, 0
?((1 2
null((3 7
:((8 9
site((: >
.((> ?
Name((? C
;((C D
General)) 
.)) 
CrearLogError)) %
())% &
sf))& (
.))( )
	GetMethod))) 2
())2 3
)))3 4
.))4 5
Name))5 9
,))9 :
$str)); H
,))H I
e))J K
.))K L
Message))L S
,))S T
e))T U
.))U V
Source))V \
,))\ ]
e))] ^
.))^ _

StackTrace))_ i
,))i j

methodName))k u
,))u v
_config))w ~
.))~  
GetConnectionString	)) 
(
)) 
$str
)) 
)
)) 
)
)) 
;
))  
}** 
return++ 
Ok++ 
(++ 
dato++ 
)++ 
;++ 
},, 	
[.. 	
HttpGet..	 
(.. 
$str.. %
)..% &
]..& '
[// 	
	Authorize//	 
]// 
public00 
IActionResult00 "
getListAreaCentroCosto00 3
(003 4
)004 5
{11 	
var22 
data22 
=22 
new22 
Object22 !
(22! "
)22" #
;22# $
try33 
{44 
data55 
=55 
_context55 
.55  
area_ccosto55  +
.55+ ,
ToList55, 2
(552 3
)553 4
;554 5
if66 
(66 
data66 
==66 
null66 
)66  
{77 
return88 
null88 
;88  
}99 
}:: 
catch;; 
(;; 
	Exception;; 
e;; 
);; 
{<< 
var== 
st== 
=== 
new== 

StackTrace== '
(==' (
)==( )
;==) *
var>> 
sf>> 
=>> 
st>> 
.>> 
GetFrame>> $
(>>$ %
$num>>% &
)>>& '
;>>' (

MethodBase?? 
site?? 
=??  !
e??" #
.??# $

TargetSite??$ .
;??. /
string@@ 

methodName@@ !
=@@" #
site@@$ (
==@@) +
null@@, 0
?@@1 2
null@@3 7
:@@8 9
site@@: >
.@@> ?
Name@@? C
;@@C D
GeneralAA 
.AA 
CrearLogErrorAA %
(AA% &
sfAA& (
.AA( )
	GetMethodAA) 2
(AA2 3
)AA3 4
.AA4 5
NameAA5 9
,AA9 :
$strAA; H
,AAH I
eAAJ K
.AAK L
MessageAAL S
,AAS T
eAAT U
.AAU V
SourceAAV \
,AA\ ]
eAA] ^
.AA^ _

StackTraceAA_ i
,AAi j

methodNameAAj t
,AAt u
_configAAv }
.AA} ~ 
GetConnectionString	AA~ 
(
AA 
$str
AA 
)
AA 
)
AA 
;
AA 
}BB 
returnCC 
OkCC 
(CC 
dataCC 
)CC 
;CC 
}DD 	
}EE 
}FF Ô
DE:\GITEA\siscointBKII\siscointBKII\Controllers\empleadoController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
empleadoController #
:$ %

Controller& 0
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
object  
JavaScriptSerializer *
{+ ,
get- 0
;0 1
private2 9
set: =
;= >
}? @
public 
empleadoController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
]  
[ 	
	Authorize	 
] 
public   
IActionResult   
getEmpresas   (
(  ( )
)  ) *
{!! 	
var"" 
data"" 
="" 
_context"" 
.""  
empresa""  '
.""' (
ToList""( .
("". /
)""/ 0
;""0 1
if## 
(## 
data## 
==## 
null## 
)## 
return$$ 
null$$ 
;$$ 
return&& 
Ok&& 
(&& 
data&& 
)&& 
;&& 
}'' 	
[)) 	
HttpPost))	 
()) 
$str)) !
)))! "
]))" #
[** 	
	Authorize**	 
]** 
public++ 
IActionResult++ 
getAreaCcosto++ *
(++* +
dynamic+++ 2
data++3 7
)++7 8
{,, 	
return99 
Ok99 
(99 
)99 
;99 
}:: 	
[<< 	
HttpPost<<	 
(<< 
$str<< $
)<<$ %
]<<% &
[== 	
	Authorize==	 
]== 
public>> 
IActionResult>> 
busquedaEmpleado>> -
(>>- .
[>>. /
FromBody>>/ 7
]>>7 8
empleado>>9 A
Empleado>>B J
)>>J K
{?? 	
ListAA 
<AA  
dataBusquedaCompletaAA %
>AA% &
busquedaAA' /
=AA0 1
newAA2 5
ListAA6 :
<AA: ; 
dataBusquedaCompletaAA; O
>AAO P
(AAP Q
)AAQ R
;AAR S
tryBB 
{CC 
varDD 
dataDD 
=DD 
_contextDD #
.DD# $
empleadoDD$ ,
.DD, -
WhereDD- 2
(DD2 3
xDD3 4
=>DD5 7
xDD8 9
.DD9 :

cedula_empDD: D
==DDE G
EmpleadoDDH P
.DDP Q

cedula_empDDQ [
||DD\ ^
xEE4 5
.EE5 6
nombreEE6 <
.EE< =
ContainsEE= E
(EEE F
EmpleadoEEF N
.EEN O
nombreEEO U
)EEU V
||EEW Y
xFF4 5
.FF5 6
snombreFF6 =
.FF= >
ContainsFF> F
(FFF G
EmpleadoFFG O
.FFO P
snombreFFP W
)FFW X
||FFY [
xGG4 5
.GG5 6
ppellidoGG6 >
.GG> ?
ContainsGG? G
(GGG H
EmpleadoGGH P
.GGP Q
ppellidoGGQ Y
)GGY Z
||GG[ ]
xHH4 5
.HH5 6
spellidoHH6 >
.HH> ?
ContainsHH? G
(HHG H
EmpleadoHHH P
.HHP Q
spellidoHHQ Y
)HHY Z
)HHZ [
.HH[ \
ToListHH\ b
(HHb c
)HHc d
;HHd e
ifJJ 
(JJ 
dataJJ 
==JJ 
nullJJ  
)JJ  !
returnKK 
nullKK 
;KK  
foreachMM 
(MM 
empleadoMM  
itemMM! %
inMM& (
dataMM) -
)MM- .
{NN  
dataBusquedaCompletaOO (
busqOO) -
=OO. /
newOO0 3 
dataBusquedaCompletaOO4 H
(OOH I
)OOI J
;OOJ K
busqPP 
.PP 
idPP 
=PP 
itemPP "
.PP" #
idPP# %
;PP% &
busqQQ 
.QQ 
valor1QQ 
=QQ  !
itemQQ" &
.QQ& '

cedula_empQQ' 1
;QQ1 2
busqRR 
.RR 
valor2RR 
=RR  !
itemRR" &
.RR& '
nombreRR' -
;RR- .
busqSS 
.SS 
valor3SS 
=SS  !
itemSS" &
.SS& '
snombreSS' .
;SS. /
busqTT 
.TT 
valor4TT 
=TT  !
itemTT" &
.TT& '
ppellidoTT' /
;TT/ 0
busqUU 
.UU 
valor5UU 
=UU  !
itemUU" &
.UU& '
spellidoUU' /
;UU/ 0
busquedaWW 
.WW 
AddWW  
(WW  !
busqWW! %
)WW% &
;WW& '
}XX 
}YY 
catchZZ 
(ZZ 
	ExceptionZZ 
eZZ 
)ZZ 
{[[ 
var]] 
st]] 
=]] 
new]] 

StackTrace]] '
(]]' (
)]]( )
;]]) *
var^^ 
sf^^ 
=^^ 
st^^ 
.^^ 
GetFrame^^ $
(^^$ %
$num^^% &
)^^& '
;^^' (

MethodBase__ 
site__ 
=__  !
e__" #
.__# $

TargetSite__$ .
;__. /
string`` 

methodName`` !
=``" #
site``$ (
==``) +
null``, 0
?``1 2
null``3 7
:``8 9
site``: >
.``> ?
Name``? C
;``C D
Generalaa 
.aa 
CrearLogErroraa %
(aa% &
sfaa& (
.aa( )
	GetMethodaa) 2
(aa2 3
)aa3 4
.aa4 5
Nameaa5 9
,aa9 :
$straa; E
,aaE F
eaaG H
.aaH I
MessageaaI P
,aaP Q
eaaQ R
.aaR S
SourceaaS Y
,aaY Z
eaaZ [
.aa[ \

StackTraceaa\ f
,aaf g

methodNameaag q
,aaq r
_configaas z
.aaz { 
GetConnectionString	aa{ 
(
aa 
$str
aa 
)
aa 
)
aa 
;
aa 
}bb 
returncc 
Okcc 
(cc 
busquedacc 
)cc 
;cc  
}dd 	
[ff 	
HttpPostff	 
(ff 
$strff &
)ff& '
]ff' (
[gg 	
	Authorizegg	 
]gg 
publichh 
IActionResulthh 
busquedaEmpleadoIdhh /
(hh/ 0
[hh0 1
FromBodyhh1 9
]hh9 :
empleadohh; C
EmpleadohhD L
)hhL M
{ii 	
varjj 
datajj 
=jj 
newjj 
Objectjj !
(jj! "
)jj" #
;jj# $
trykk 
{ll 
datamm 
=mm 
_contextmm 
.mm  
empleadomm  (
.mm( )
Wheremm) .
(mm. /
xmm/ 0
=>mm1 3
xmm4 5
.mm5 6
idmm6 8
==mm9 ;
Empleadomm< D
.mmD E
idmmE G
)mmG H
.mmH I
ToListmmI O
(mmO P
)mmP Q
;mmQ R
ifnn 
(nn 
datann 
==nn 
nullnn  
)nn  !
returnoo 
nulloo 
;oo  
}pp 
catchqq 
(qq 
	Exceptionqq 
eqq 
)qq 
{rr 
varss 
stss 
=ss 
newss 

StackTracess '
(ss' (
)ss( )
;ss) *
vartt 
sftt 
=tt 
sttt 
.tt 
GetFramett $
(tt$ %
$numtt% &
)tt& '
;tt' (

MethodBaseuu 
siteuu 
=uu  !
euu" #
.uu# $

TargetSiteuu$ .
;uu. /
stringvv 

methodNamevv !
=vv" #
sitevv$ (
==vv) +
nullvv, 0
?vv1 2
nullvv3 7
:vv8 9
sitevv: >
.vv> ?
Namevv? C
;vvC D
Generalww 
.ww 
CrearLogErrorww %
(ww% &
sfww& (
.ww( )
	GetMethodww) 2
(ww2 3
)ww3 4
.ww4 5
Nameww5 9
,ww9 :
$strww; E
,wwE F
ewwG H
.wwH I
MessagewwI P
,wwP Q
ewwQ R
.wwR S
SourcewwS Y
,wwY Z
ewwZ [
.ww[ \

StackTraceww\ f
,wwf g

methodNamewwg q
,wwq r
_configwws z
.wwz { 
GetConnectionString	ww{ 
(
ww 
$str
ww 
)
ww 
)
ww 
;
ww 
}xx 
returnyy 
Okyy 
(yy 
datayy 
)yy 
;yy 
}zz 	
[{{ 	
HttpPost{{	 
({{ 
$str{{ #
){{# $
]{{$ %
[|| 	
	Authorize||	 
]|| 
public}} 
IActionResult}} 
agregarEmpleado}} ,
(}}, -
[}}- .
FromBody}}. 6
]}}6 7
empleado}}8 @
Empleado}}A I
)}}I J
{~~ 	
Boolean
 
EsEmpleadoValido
 $
=
% &
false
' ,
;
, -
EsEmpleadoValido
 
=
 
validoEmpleado
 -
(
- .
Empleado
. 6
.
6 7

cedula_emp
7 A
)
A B
;
B C
if
 
(
 
EsEmpleadoValido
  
)
  !
{
 
_context
 
.
 
Add
 
(
 
Empleado
 %
)
% &
;
& '
return
 
Ok
 
(
 
_context
 "
.
" #
SaveChanges
# .
(
. /
)
/ 0
)
0 1
;
1 2
}
 
{
 
return
 
null
 
;
 
}
 
}
 	
[
 	
HttpPut
	 
(
 
$str
 &
)
& '
]
' (
[
 	
	Authorize
	 
]
 
public
 
IActionResult
 
Edit
 !
(
! "
int
" %
id
& (
,
( )
[
* +
FromBody
+ 3
]
3 4
empleado
5 =
Empleado
> F
)
F G
{
 	
int
 
result
 
=
 
$num
 
;
 
string
 
mensaje
 
=
 
$str
 
;
  
try
 
{
 
if
 
(
 
id
 
==
 
Empleado
 "
.
" #
id
# %
)
% &
{
 
_context
 
.
 
Update
 #
(
# $
Empleado
$ ,
)
, -
;
- .
result
 
=
 
_context
 %
.
% &
SaveChanges
& 1
(
1 2
)
2 3
;
3 4
mensaje
 
=
 
$str
 !
;
! "
if
 
(
 
result
 
>
  
$num
! "
)
" #
{
 
mensaje
 
=
  !
$str
" 8
;
8 9
}
 
else
 
{
 
mensaje
   
=
    !
$str
  " 7
;
  7 8
}
¡¡ 
}
££ 
}
¤¤ 
catch
¥¥ 
(
¥¥ 
	Exception
¥¥ 
e
¥¥ 
)
¥¥ 
{
¦¦ 
var
¨¨ 
st
¨¨ 
=
¨¨ 
new
¨¨ 

StackTrace
¨¨ '
(
¨¨' (
)
¨¨( )
;
¨¨) *
var
©© 
sf
©© 
=
©© 
st
©© 
.
©© 
GetFrame
©© $
(
©©$ %
$num
©©% &
)
©©& '
;
©©' (

MethodBase
ªª 
site
ªª 
=
ªª  !
e
ªª" #
.
ªª# $

TargetSite
ªª$ .
;
ªª. /
string
«« 

methodName
«« !
=
««" #
site
««$ (
==
««) +
null
««, 0
?
««1 2
null
««3 7
:
««8 9
site
««: >
.
««> ?
Name
««? C
;
««C D
General
¬¬ 
.
¬¬ 
CrearLogError
¬¬ %
(
¬¬% &
sf
¬¬& (
.
¬¬( )
	GetMethod
¬¬) 2
(
¬¬2 3
)
¬¬3 4
.
¬¬4 5
Name
¬¬5 9
,
¬¬9 :
$str
¬¬; E
,
¬¬E F
e
¬¬G H
.
¬¬H I
Message
¬¬I P
,
¬¬P Q
e
¬¬Q R
.
¬¬R S
Source
¬¬S Y
,
¬¬Y Z
e
¬¬Z [
.
¬¬[ \

StackTrace
¬¬\ f
,
¬¬f g

methodName
¬¬g q
,
¬¬q r
_config
¬¬s z
.
¬¬z {"
GetConnectionString¬¬{ 
(¬¬ 
$str¬¬ 
)¬¬ 
)¬¬ 
;¬¬ 
}
­­ 
string
¯¯ 
json
¯¯ 
=
¯¯ 
JsonConvert
¯¯ %
.
¯¯% &
SerializeObject
¯¯& 5
(
¯¯5 6
new
¯¯6 9
{
¯¯: ;
Result
¯¯< B
=
¯¯C D
result
¯¯E K
,
¯¯K L
Mensaje
¯¯M T
=
¯¯U V
mensaje
¯¯W ^
}
¯¯_ `
)
¯¯` a
;
¯¯a b
return
°° 
Ok
°° 
(
°° 
json
°° 
)
°° 
;
°° 
}
±± 	
private
³³ 
Boolean
³³ 
validoEmpleado
³³ &
(
³³& '
string
³³' -
cedulaEmpleado
³³. <
)
³³< =
{
´´ 	
Boolean
µµ 
EsValido
µµ 
=
µµ 
false
µµ $
;
µµ$ %
try
¶¶ 
{
·· 
var
¸¸ 
dato
¸¸ 
=
¸¸ 
_context
¸¸ #
.
¸¸# $
empleado
¸¸$ ,
.
¸¸, -
FirstOrDefault
¸¸- ;
(
¸¸; <
x
¸¸< =
=>
¸¸> @
x
¸¸A B
.
¸¸B C

cedula_emp
¸¸C M
==
¸¸N P
cedulaEmpleado
¸¸Q _
)
¸¸_ `
;
¸¸` a
if
¹¹ 
(
¹¹ 
dato
¹¹ 
==
¹¹ 
null
¹¹  
)
¹¹  !
EsValido
ºº 
=
ºº 
true
ºº #
;
ºº# $
}
»» 
catch
¼¼ 
(
¼¼ 
	Exception
¼¼ 
e
¼¼ 
)
¼¼ 
{
½½ 
var
¿¿ 
st
¿¿ 
=
¿¿ 
new
¿¿ 

StackTrace
¿¿ '
(
¿¿' (
)
¿¿( )
;
¿¿) *
var
ÀÀ 
sf
ÀÀ 
=
ÀÀ 
st
ÀÀ 
.
ÀÀ 
GetFrame
ÀÀ $
(
ÀÀ$ %
$num
ÀÀ% &
)
ÀÀ& '
;
ÀÀ' (

MethodBase
ÁÁ 
site
ÁÁ 
=
ÁÁ  !
e
ÁÁ" #
.
ÁÁ# $

TargetSite
ÁÁ$ .
;
ÁÁ. /
string
ÂÂ 

methodName
ÂÂ !
=
ÂÂ" #
site
ÂÂ$ (
==
ÂÂ) +
null
ÂÂ, 0
?
ÂÂ1 2
null
ÂÂ3 7
:
ÂÂ8 9
site
ÂÂ: >
.
ÂÂ> ?
Name
ÂÂ? C
;
ÂÂC D
General
ÃÃ 
.
ÃÃ 
CrearLogError
ÃÃ %
(
ÃÃ% &
sf
ÃÃ& (
.
ÃÃ( )
	GetMethod
ÃÃ) 2
(
ÃÃ2 3
)
ÃÃ3 4
.
ÃÃ4 5
Name
ÃÃ5 9
,
ÃÃ9 :
$str
ÃÃ; E
,
ÃÃE F
e
ÃÃG H
.
ÃÃH I
Message
ÃÃI P
,
ÃÃP Q
e
ÃÃQ R
.
ÃÃR S
Source
ÃÃS Y
,
ÃÃY Z
e
ÃÃZ [
.
ÃÃ[ \

StackTrace
ÃÃ\ f
,
ÃÃf g

methodName
ÃÃg q
,
ÃÃq r
_config
ÃÃs z
.
ÃÃz {"
GetConnectionStringÃÃ{ 
(ÃÃ 
$strÃÃ 
)ÃÃ 
)ÃÃ 
;ÃÃ 
}
ÄÄ 
return
ÆÆ 
EsValido
ÆÆ 
;
ÆÆ 
}
ÇÇ 	
}
 
} Å©
DE:\GITEA\siscointBKII\siscointBKII\Controllers\EntradasController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
EntradasController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
EntradasController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
)  
]  !
[ 	
	Authorize	 
] 
public   
IActionResult   
getJefes   %
(  % &
)  & '
{!! 	
var"" 
data"" 
="" 
new"" 
Object"" !
(""! "
)""" #
;""# $
try## 
{$$ 
data%% 
=%% 
_context%% 
.%%  
jefes%%  %
.%%% &
ToList%%& ,
(%%, -
)%%- .
;%%. /
if&& 
(&& 
data&& 
==&& 
null&& 
)&&  
{'' 
return(( 
null(( 
;((  
})) 
}** 
catch++ 
(++ 
	Exception++ 
e++ 
)++ 
{,, 
var-- 
st-- 
=-- 
new-- 

StackTrace-- '
(--' (
)--( )
;--) *
var.. 
sf.. 
=.. 
st.. 
... 
GetFrame.. $
(..$ %
$num..% &
)..& '
;..' (

MethodBase// 
site// 
=//  !
e//" #
.//# $

TargetSite//$ .
;//. /
string00 

methodName00 !
=00" #
site00$ (
==00) +
null00, 0
?001 2
null003 7
:008 9
site00: >
.00> ?
Name00? C
;00C D
General11 
.11 
CrearLogError11 %
(11% &
sf11& (
.11( )
	GetMethod11) 2
(112 3
)113 4
.114 5
Name115 9
,119 :
$str11; B
,11B C
e11D E
.11E F
Message11F M
,11M N
e11N O
.11O P
Source11P V
,11V W
e11W X
.11X Y

StackTrace11Y c
,11c d

methodName11d n
,11n o
_config11p w
.11w x 
GetConnectionString	11x 
(
11 
$str
11 
)
11 
)
11 
;
11 
}22 
return33 
Ok33 
(33 
data33 
)33 
;33 
}44 	
[55 	
HttpGet55	 
(55 
$str55 $
)55$ %
]55% &
[66 	
	Authorize66	 
]66 
public77 
IActionResult77 
	getObjeto77 &
(77& '
int77' *
id77+ -
)77- .
{88 	
var99 
data99 
=99 
new99 
Object99 !
(99! "
)99" #
;99# $
try:: 
{;; 
data<< 
=<< 
_context<< 
.<<  
objeto<<  &
.<<& '
Where<<' ,
(<<, -
x<<- .
=><</ 1
x<<2 3
.<<3 4
id<<4 6
==<<7 9
id<<: <
)<<< =
.<<= >
ToList<<> D
(<<D E
)<<E F
;<<F G
if== 
(== 
data== 
==== 
null== 
)==  
{>> 
return?? 
null?? 
;??  
}@@ 
}AA 
catchBB 
(BB 
	ExceptionBB 
eBB 
)BB 
{CC 
varDD 
stDD 
=DD 
newDD 

StackTraceDD '
(DD' (
)DD( )
;DD) *
varEE 
sfEE 
=EE 
stEE 
.EE 
GetFrameEE $
(EE$ %
$numEE% &
)EE& '
;EE' (

MethodBaseFF 
siteFF 
=FF  !
eFF" #
.FF# $

TargetSiteFF$ .
;FF. /
stringGG 

methodNameGG !
=GG" #
siteGG$ (
==GG) +
nullGG, 0
?GG1 2
nullGG3 7
:GG8 9
siteGG: >
.GG> ?
NameGG? C
;GGC D
GeneralHH 
.HH 
CrearLogErrorHH %
(HH% &
sfHH& (
.HH( )
	GetMethodHH) 2
(HH2 3
)HH3 4
.HH4 5
NameHH5 9
,HH9 :
$strHH; C
,HHC D
eHHE F
.HHF G
MessageHHG N
,HHN O
eHHO P
.HHP Q
SourceHHQ W
,HHW X
eHHX Y
.HHY Z

StackTraceHHZ d
,HHd e

methodNameHHe o
,HHo p
_configHHq x
.HHx y 
GetConnectionString	HHy 
(
HH 
$str
HH 
)
HH 
)
HH 
;
HH 
}II 
returnKK 
OkKK 
(KK 
dataKK 
)KK 
;KK 
}LL 	
[NN 	
HttpPostNN	 
(NN 
$strNN "
)NN" #
]NN# $
[OO 	
	AuthorizeOO	 
]OO 
publicPP 
IActionResultPP 
crearEntredaPP )
(PP) *
dynamicPP* 1
jsonPP2 6
)PP6 7
{QQ 	
stringRR 

jsonResultRR 
=RR 
$strRR  "
;RR" #
trySS 
{TT 
varUU 
dataJsonUU 
=UU 
SystemUU %
.UU% &
TextUU& *
.UU* +
JsonUU+ /
.UU/ 0
JsonSerializerUU0 >
.UU> ?
	SerializeUU? H
(UUH I
jsonUUI M
)UUM N
;UUN O
varWW 
	datObjectWW 
=WW 
JObjectWW  '
.WW' (
ParseWW( -
(WW- .
dataJsonWW. 6
)WW6 7
;WW7 8
stringXX 
tipoEntregasXX #
=XX$ %
ConvertXX& -
.XX- .
ToStringXX. 6
(XX6 7
	datObjectXX7 @
[XX@ A
$strXXA N
]XXN O
)XXO P
;XXP Q
tipoEntregaYY 
TipoEntregasYY (
=YY) *
JsonConvertYY+ 6
.YY6 7
DeserializeObjectYY7 H
<YYH I
tipoEntregaYYI T
>YYT U
(YYU V
tipoEntregasYYV b
)YYb c
;YYc d
ifZZ 
(ZZ 
TipoEntregasZZ 
.ZZ  
entregaZZ  '
==ZZ( *
$strZZ+ .
||ZZ/ 1
TipoEntregasZZ2 >
.ZZ> ?
prestamoZZ? G
==ZZH J
$strZZK N
)ZZN O
{[[ 
string]] 
Entregas]] #
=]]$ %
Convert]]& -
.]]- .
ToString]]. 6
(]]6 7
	datObject]]7 @
[]]@ A
$str]]A J
]]]J K
)]]K L
;]]L M
string^^ 
DetalleEntregas^^ *
=^^+ ,
Convert^^- 4
.^^4 5
ToString^^5 =
(^^= >
	datObject^^> G
[^^G H
$str^^H X
]^^X Y
)^^Y Z
;^^Z [

jsonResult`` 
=``  
CrearEntrega``! -
(``- .
Entregas``. 6
,``6 7
DetalleEntregas``8 G
)``G H
;``H I
}aa 
elsebb 
ifbb 
(bb 
TipoEntregasbb $
.bb$ %

devolucionbb% /
==bb0 2
$strbb3 6
)bb6 7
{cc 
stringee 

devolucionee %
=ee& '
Convertee( /
.ee/ 0
ToStringee0 8
(ee8 9
	datObjectee9 B
[eeB C
$streeC L
]eeL M
)eeM N
;eeN O
stringff 
detalleDevolucionff ,
=ff- .
Convertff/ 6
.ff6 7
ToStringff7 ?
(ff? @
	datObjectff@ I
[ffI J
$strffJ Z
]ffZ [
)ff[ \
;ff\ ]

jsonResulthh 
=hh  
CrearDevolucionhh! 0
(hh0 1

devolucionhh1 ;
,hh; <
detalleDevolucionhh= N
)hhN O
;hhO P
}ii 
}jj 
catchkk 
(kk 
	Exceptionkk 
ekk 
)kk 
{ll 
varmm 
stmm 
=mm 
newmm 

StackTracemm '
(mm' (
)mm( )
;mm) *
varnn 
sfnn 
=nn 
stnn 
.nn 
GetFramenn $
(nn$ %
$numnn% &
)nn& '
;nn' (

MethodBaseoo 
siteoo 
=oo  !
eoo" #
.oo# $

TargetSiteoo$ .
;oo. /
stringpp 

methodNamepp !
=pp" #
sitepp$ (
==pp) +
nullpp, 0
?pp1 2
nullpp3 7
:pp8 9
sitepp: >
.pp> ?
Namepp? C
;ppC D
Generalqq 
.qq 
CrearLogErrorqq %
(qq% &
sfqq& (
.qq( )
	GetMethodqq) 2
(qq2 3
)qq3 4
.qq4 5
Nameqq5 9
,qq9 :
$strqq; E
,qqE F
eqqG H
.qqH I
MessageqqI P
,qqP Q
eqqQ R
.qqR S
SourceqqS Y
,qqY Z
eqqZ [
.qq[ \

StackTraceqq\ f
,qqf g

methodNameqqg q
,qqq r
_configqqs z
.qqz { 
GetConnectionString	qq{ 
(
qq 
$str
qq 
)
qq 
)
qq 
;
qq 
}rr 
returntt 
Oktt 
(tt 

jsonResulttt  
)tt  !
;tt! "
}uu 	
[vv 	
HttpPostvv	 
(vv 
$strvv "
)vv" #
]vv# $
[ww 	
	Authorizeww	 
]ww 
publicxx 
IActionResultxx 
listarEntregasxx +
(xx+ ,
dynamicxx, 3
tipoxx4 8
)xx8 9
{yy 	
var{{ 
data{{ 
={{ 
System{{ 
.{{ 
Text{{ "
.{{" #
Json{{# '
.{{' (
JsonSerializer{{( 6
.{{6 7
	Serialize{{7 @
({{@ A
tipo{{A E
){{E F
;{{F G
var|| 
datObejt|| 
=|| 
JObject|| "
.||" #
Parse||# (
(||( )
data||) -
)||- .
;||. /
int}} 
tipo_articulo}} 
=}} 
Convert}}  '
.}}' (
ToInt32}}( /
(}}/ 0
datObejt}}0 8
[}}8 9
$str}}9 K
]}}K L
)}}L M
;}}M N
int~~ 
tipo_objeto~~ 
=~~ 
Convert~~ %
.~~% &
ToInt32~~& -
(~~- .
datObejt~~. 6
[~~6 7
$str~~7 A
]~~A B
)~~B C
;~~C D
List 
< 
reporte_objetos  
>  !
rptObj" (
=) *"
getQueryListarReportes+ A
(A B
tipo_articuloB O
,O P
tipo_objetoQ \
)\ ]
;] ^
return
 
Ok
 
(
 
rptObj
 
)
 
;
 
}
 	
[
 	
HttpGet
	 
(
 
$str
 8
)
8 9
]
9 :
[
 	
	Authorize
	 
]
 
public
 
IActionResult
 
listarTipoReporte
 .
(
. /
int
/ 2
tipo_reporte_page
3 D
)
D E
{
 	
var
 
data
 
=
 
new
 
Object
 !
(
! "
)
" #
;
# $
try
 
{
 
data
 
=
 
_context
 
.
  
tipo_reporte
  ,
.
, -
Where
- 2
(
2 3
x
3 4
=>
5 7
x
8 9
.
9 : 
tipo_reporte_tabla
: L
==
M O
tipo_reporte_page
P a
)
a b
.
b c
ToList
c i
(
i j
)
j k
;
k l
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; I
,
I J
e
K L
.
L M
Message
M T
,
T U
e
U V
.
V W
Source
W ]
,
] ^
e
^ _
.
_ `

StackTrace
` j
,
j k

methodName
k u
,
u v
_config
w ~
.
~ "
GetConnectionString 
( 
$str 
) 
) 
;  
}
 
return
 
Ok
 
(
 
data
 
)
 
;
 
}
 	
public
 
List
 
<
 
reporte_objetos
 #
>
# $$
getQueryListarReportes
% ;
(
; <
int
< ?
tipo_articulo
@ M
,
M N
int
O R
tipo
S W
)
W X
{
 	
List
 
<
 
reporte_objetos
  
>
  !
rptObj
" (
=
) *
new
+ .
List
/ 3
<
3 4
reporte_objetos
4 C
>
C D
(
D E
)
E F
;
F G
string
 
query
 
=
 
$str
 
;
 
try
 
{
 
if
 
(
 
tipo
 
!=
 
$num
 
)
 
{
   
query
¢¢ 
=
¢¢ 
$str
¢¢ '
+
¢¢( )
$str
££ J
+
££K L
$str
¤¤ 9
+
¤¤: ;
$str¥¥ ¹
+¥¥º »
$str
¦¦ 5
+
¦¦6 7
$str
§§ 7
+
§§8 9
$str
¨¨ r
+
¨¨s t
$str
©© 4
+
©©5 6
$str
ªª R
+
ªªS T
$str
«« H
+
««I J
$str
¬¬ Q
+
¬¬R S
$str
­­ O
;
­­O P
}
®® 
else
¯¯ 
{
°° 
query
±± 
=
±± 
$str
±± '
+
±±( )
$str
²² J
+
²²K L
$str
³³ 9
+
³³: ;
$str´´ ¹
+´´º »
$str
µµ 5
+
µµ6 7
$str
¶¶ 7
+
¶¶8 9
$str
·· r
+
··s t
$str
¸¸ 4
+
¸¸5 6
$str
¹¹ R
+
¹¹S T
$str
ºº H
+
ººI J
$str
»» Q
+
»»R S
$str
¼¼ =
;
¼¼= >
}
½½ 
using
¿¿ 
(
¿¿ 
SqlConnection
¿¿ $
con
¿¿% (
=
¿¿) *
new
¿¿+ .
SqlConnection
¿¿/ <
(
¿¿< =
_config
¿¿= D
.
¿¿D E!
GetConnectionString
¿¿E X
(
¿¿X Y
$str
¿¿Y c
)
¿¿c d
)
¿¿d e
)
¿¿e f
{
ÀÀ 
using
ÁÁ 
(
ÁÁ 

SqlCommand
ÁÁ %
cmd
ÁÁ& )
=
ÁÁ* +
new
ÁÁ, /

SqlCommand
ÁÁ0 :
(
ÁÁ: ;
query
ÁÁ; @
)
ÁÁ@ A
)
ÁÁA B
{
ÂÂ 
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ &
.
ÃÃ& '
Add
ÃÃ' *
(
ÃÃ* +
new
ÃÃ+ .
SqlParameter
ÃÃ/ ;
(
ÃÃ; <
$str
ÃÃ< C
,
ÃÃC D
System
ÃÃE K
.
ÃÃK L
Data
ÃÃL P
.
ÃÃP Q
	SqlDbType
ÃÃQ Z
.
ÃÃZ [
Int
ÃÃ[ ^
)
ÃÃ^ _
)
ÃÃ_ `
;
ÃÃ` a
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
Add
ÄÄ' *
(
ÄÄ* +
new
ÄÄ+ .
SqlParameter
ÄÄ/ ;
(
ÄÄ; <
$str
ÄÄ< L
,
ÄÄL M
System
ÄÄN T
.
ÄÄT U
Data
ÄÄU Y
.
ÄÄY Z
	SqlDbType
ÄÄZ c
.
ÄÄc d
Int
ÄÄd g
)
ÄÄg h
)
ÄÄh i
;
ÄÄi j
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
[
ÅÅ& '
$str
ÅÅ' .
]
ÅÅ. /
.
ÅÅ/ 0
Value
ÅÅ0 5
=
ÅÅ6 7
tipo
ÅÅ8 <
;
ÅÅ< =
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
[
ÆÆ& '
$str
ÆÆ' 7
]
ÆÆ7 8
.
ÆÆ8 9
Value
ÆÆ9 >
=
ÆÆ? @
tipo_articulo
ÆÆA N
;
ÆÆN O
cmd
ÇÇ 
.
ÇÇ 

Connection
ÇÇ &
=
ÇÇ' (
con
ÇÇ) ,
;
ÇÇ, -
con
ÈÈ 
.
ÈÈ 
Open
ÈÈ  
(
ÈÈ  !
)
ÈÈ! "
;
ÈÈ" #
using
ÉÉ 
(
ÉÉ 
SqlDataReader
ÉÉ ,
sdr
ÉÉ- 0
=
ÉÉ1 2
cmd
ÉÉ3 6
.
ÉÉ6 7
ExecuteReader
ÉÉ7 D
(
ÉÉD E
)
ÉÉE F
)
ÉÉF G
{
ÊÊ 
while
ËË !
(
ËË" #
sdr
ËË# &
.
ËË& '
Read
ËË' +
(
ËË+ ,
)
ËË, -
)
ËË- .
{
ÌÌ 
rptObj
ÍÍ  &
.
ÍÍ& '
Add
ÍÍ' *
(
ÍÍ* +
new
ÍÍ+ .
reporte_objetos
ÍÍ/ >
{
ÎÎ  !
Item
ÏÏ$ (
=
ÏÏ) *
Convert
ÏÏ+ 2
.
ÏÏ2 3
ToInt64
ÏÏ3 :
(
ÏÏ: ;
sdr
ÏÏ; >
[
ÏÏ> ?
$str
ÏÏ? E
]
ÏÏE F
)
ÏÏF G
,
ÏÏG H
Descripcion
ÐÐ$ /
=
ÐÐ0 1
sdr
ÐÐ2 5
[
ÐÐ5 6
$str
ÐÐ6 C
]
ÐÐC D
+
ÐÐD E
$str
ÐÐE G
,
ÐÐG H
Estado
ÑÑ$ *
=
ÑÑ+ ,
sdr
ÑÑ- 0
[
ÑÑ0 1
$str
ÑÑ1 9
]
ÑÑ9 :
+
ÑÑ: ;
$str
ÑÑ; =
,
ÑÑ= >
EstadoNumber
ÒÒ$ 0
=
ÒÒ1 2
Convert
ÒÒ3 :
.
ÒÒ: ;
ToInt32
ÒÒ; B
(
ÒÒB C
sdr
ÒÒC F
[
ÒÒF G
$str
ÒÒG U
]
ÒÒU V
)
ÒÒV W
,
ÒÒW X
Af
ÓÓ$ &
=
ÓÓ' (
sdr
ÓÓ) ,
[
ÓÓ, -
$str
ÓÓ- 1
]
ÓÓ1 2
+
ÓÓ2 3
$str
ÓÓ3 5
,
ÓÓ5 6
Imei
ÔÔ$ (
=
ÔÔ) *
sdr
ÔÔ+ .
[
ÔÔ. /
$str
ÔÔ/ 5
]
ÔÔ5 6
+
ÔÔ6 7
$str
ÔÔ7 9
,
ÔÔ9 :
usuario
ÕÕ$ +
=
ÕÕ, -
sdr
ÕÕ. 1
[
ÕÕ1 2
$str
ÕÕ2 ;
]
ÕÕ; <
+
ÕÕ< =
$str
ÕÕ= ?
,
ÕÕ? @
Id
ÖÖ$ &
=
ÖÖ' (
Convert
ÖÖ) 0
.
ÖÖ0 1
ToInt32
ÖÖ1 8
(
ÖÖ8 9
sdr
ÖÖ9 <
[
ÖÖ< =
$str
ÖÖ= A
]
ÖÖA B
)
ÖÖB C
}
××  !
)
××! "
;
××" #
}
ØØ 
}
ÙÙ 
}
ÚÚ 
}
ÛÛ 
}
ÜÜ 
catch
ÝÝ 
(
ÝÝ 
	Exception
ÝÝ 
e
ÝÝ 
)
ÝÝ 
{
ÞÞ 
var
ßß 
st
ßß 
=
ßß 
new
ßß 

StackTrace
ßß '
(
ßß' (
)
ßß( )
;
ßß) *
var
àà 
sf
àà 
=
àà 
st
àà 
.
àà 
GetFrame
àà $
(
àà$ %
$num
àà% &
)
àà& '
;
àà' (

MethodBase
áá 
site
áá 
=
áá  !
e
áá" #
.
áá# $

TargetSite
áá$ .
;
áá. /
string
ââ 

methodName
ââ !
=
ââ" #
site
ââ$ (
==
ââ) +
null
ââ, 0
?
ââ1 2
null
ââ3 7
:
ââ8 9
site
ââ: >
.
ââ> ?
Name
ââ? C
;
ââC D
General
ãã 
.
ãã 
CrearLogError
ãã %
(
ãã% &
sf
ãã& (
.
ãã( )
	GetMethod
ãã) 2
(
ãã2 3
)
ãã3 4
.
ãã4 5
Name
ãã5 9
,
ãã9 :
$str
ãã; C
,
ããC D
e
ããE F
.
ããF G
Message
ããG N
,
ããN O
e
ããO P
.
ããP Q
Source
ããQ W
,
ããW X
e
ããX Y
.
ããY Z

StackTrace
ããZ d
,
ããd e

methodName
ããe o
,
ãão p
_config
ããq x
.
ããx y"
GetConnectionStringããy 
(ãã 
$strãã 
)ãã 
)ãã 
;ãã 
}
ää 
return
åå 
rptObj
åå 
;
åå 
}
ææ 	
public
èè 
string
èè 
CrearEntrega
èè "
(
èè" #
string
èè# )
Entregas
èè* 2
,
èè2 3
string
èè4 :
detalleEntregas
èè; J
)
èèJ K
{
éé 	
string
êê 
data
êê 
=
êê 
$str
êê 
;
êê 
string
ëë 
mensaje
ëë 
=
ëë 
$str
ëë 
;
ëë  
int
ìì 
ResultEntregas
ìì 
=
ìì  
$num
ìì! "
;
ìì" #
int
íí 
ResultDetalles
íí 
=
íí  
$num
íí! "
;
íí" #
try
îî 
{
ïï 
entregas
ðð 
	EntregasS
ðð "
=
ðð# $
JsonConvert
ðð% 0
.
ðð0 1
DeserializeObject
ðð1 B
<
ððB C
entregas
ððC K
>
ððK L
(
ððL M
Entregas
ððM U
)
ððU V
;
ððV W
_context
ññ 
.
ññ 
entregas
ññ !
.
ññ! "
Add
ññ" %
(
ññ% &
	EntregasS
ññ& /
)
ññ/ 0
;
ññ0 1
ResultEntregas
òò 
=
òò  
_context
òò! )
.
òò) *
SaveChanges
òò* 5
(
òò5 6
)
òò6 7
;
òò7 8
if
óó 
(
óó 
ResultEntregas
óó !
>
óó" #
$num
óó$ %
)
óó% &
{
ôô 
entregas
õõ 
entityEntrega
õõ *
=
õõ+ ,
_context
õõ- 5
.
õõ5 6
entregas
õõ6 >
.
õõ> ?
OrderByDescending
õõ? P
(
õõP Q
x
õõQ R
=>
õõS U
x
õõV W
.
õõW X
id_ent
õõX ^
)
õõ^ _
.
õõ_ `
First
õõ` e
(
õõe f
)
õõf g
;
õõg h
int
öö 
id_ent
öö 
=
öö  
entityEntrega
öö! .
.
öö. /
id_ent
öö/ 5
;
öö5 6
List
÷÷ 
<
÷÷ 
detalle_entregaII
÷÷ *
>
÷÷* +
detalleEntregasS
÷÷, <
=
÷÷= >
JsonConvert
÷÷? J
.
÷÷J K
DeserializeObject
÷÷K \
<
÷÷\ ]
List
÷÷] a
<
÷÷a b
detalle_entregaII
÷÷b s
>
÷÷s t
>
÷÷t u
(
÷÷u v
detalleEntregas÷÷v 
)÷÷ 
;÷÷ 
foreach
øø 
(
øø 
detalle_entregaII
øø -
det
øø. 1
in
øø2 4
detalleEntregasS
øø5 E
)
øøE F
{
ùù 
try
úú 
{
ûû 
det
üü 
.
üü  
id_ent
üü  &
=
üü' (
id_ent
üü) /
;
üü/ 0
_context
ýý $
.
ýý$ %
detalle_entregaII
ýý% 6
.
ýý6 7
Add
ýý7 :
(
ýý: ;
det
ýý; >
)
ýý> ?
;
ýý? @
ResultDetalles
þþ )
=
þþ* +
_context
þþ- 5
.
þþ5 6
SaveChanges
þþ6 A
(
þþA B
)
þþB C
;
þþC D
if
ÿÿ 
(
ÿÿ 
ResultDetalles
ÿÿ -
>
ÿÿ. /
$num
ÿÿ0 1
)
ÿÿ1 2
{
 
objeto
  &
obj
' *
=
+ ,
_context
- 5
.
5 6
objeto
6 <
.
< =
Where
= B
(
B C
x
C D
=>
E G
x
H I
.
I J
imei
J N
==
O Q
det
R U
.
U V
imei_inv
V ^
)
^ _
.
_ `
First
` e
(
e f
)
f g
;
g h
if
  "
(
" #
obj
# &
!=
' )
null
* .
)
. /
{
  !
obj
$ '
.
' (
estado
( .
=
/ 0
$num
1 2
;
2 3
_context
$ ,
.
, -
objeto
- 3
.
3 4
Update
4 :
(
: ;
obj
; >
)
> ?
;
? @
_context
$ ,
.
, -
SaveChanges
- 8
(
8 9
)
9 :
;
: ;
}
  !
}
 
}
 
catch
 
(
 
	Exception
 '
e
( )
)
) *
{
 
ResultDetalles
 *
=
+ ,
$num
- .
;
. /
entregas
 $
ent
% (
=
) *
_context
+ 3
.
3 4
entregas
4 <
.
< =
Where
= B
(
B C
x
C D
=>
E G
x
H I
.
I J
id_ent
J P
==
Q S
id_ent
T Z
)
Z [
.
[ \
First
\ a
(
a b
)
b c
;
c d
_context
 $
.
$ %
entregas
% -
.
- .
Remove
. 4
(
4 5
ent
5 8
)
8 9
;
9 :
_context
 $
.
$ %
SaveChanges
% 0
(
0 1
)
1 2
;
2 3
}
 
}
 
}
 
if
 
(
 
ResultEntregas
 "
>
# $
$num
% &
&&
' )
ResultDetalles
* 8
>
9 :
$num
; <
)
< =
{
 
mensaje
 
=
 
$str
 <
;
< =
}
 
else
 
{
 
mensaje
 
=
 
$str
 :
;
: ;
}
 
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
   
sf
   
=
   
st
   
.
   
GetFrame
   $
(
  $ %
$num
  % &
)
  & '
;
  ' (

MethodBase
¡¡ 
site
¡¡ 
=
¡¡  !
e
¡¡" #
.
¡¡# $

TargetSite
¡¡$ .
;
¡¡. /
string
¢¢ 

methodName
¢¢ !
=
¢¢" #
site
¢¢$ (
==
¢¢) +
null
¢¢, 0
?
¢¢1 2
null
¢¢3 7
:
¢¢8 9
site
¢¢: >
.
¢¢> ?
Name
¢¢? C
;
¢¢C D
General
££ 
.
££ 
CrearLogError
££ %
(
££% &
sf
££& (
.
££( )
	GetMethod
££) 2
(
££2 3
)
££3 4
.
££4 5
Name
££5 9
,
££9 :
$str
££; E
,
££E F
e
££G H
.
££H I
Message
££I P
,
££P Q
e
££Q R
.
££R S
Source
££S Y
,
££Y Z
e
££Z [
.
££[ \

StackTrace
££\ f
,
££f g

methodName
££g q
,
££q r
_config
££s z
.
££z {"
GetConnectionString££{ 
(££ 
$str££ 
)££ 
)££ 
;££ 
}
¤¤ 
data
¦¦ 
=
¦¦ 
JsonConvert
¦¦ 
.
¦¦ 
SerializeObject
¦¦ .
(
¦¦. /
new
¦¦/ 2
{
¦¦3 4
Result
¦¦5 ;
=
¦¦< =
ResultEntregas
¦¦> L
,
¦¦L M
Mensaje
¦¦N U
=
¦¦V W
mensaje
¦¦X _
}
¦¦` a
)
¦¦a b
;
¦¦b c
return
§§ 
data
§§ 
;
§§ 
}
¨¨ 	
public
ªª 
string
ªª 
CrearDevolucion
ªª %
(
ªª% &
string
ªª& ,

Devolucion
ªª- 7
,
ªª7 8
string
ªª9 ?
detalleDevolucion
ªª@ Q
)
ªªQ R
{
«« 	
string
¬¬ 
data
¬¬ 
=
¬¬ 
$str
¬¬ 
;
¬¬ 
string
­­ 
mensaje
­­ 
=
­­ 
$str
­­ 
;
­­  
int
®®  
ResultDevoluciones
®® "
=
®®# $
$num
®®% &
;
®®& '
int
¯¯ 
ResultDetallesDev
¯¯ !
=
¯¯" #
$num
¯¯$ %
;
¯¯% &
try
°° 
{
±± 
devoluciones
²² 
devoluciones
²² )
=
²²* +
JsonConvert
²², 7
.
²²7 8
DeserializeObject
²²8 I
<
²²I J
devoluciones
²²J V
>
²²V W
(
²²W X

Devolucion
²²X b
)
²²b c
;
²²c d
_context
³³ 
.
³³ 
devoluciones
³³ %
.
³³% &
Add
³³& )
(
³³) *
devoluciones
³³* 6
)
³³6 7
;
³³7 8 
ResultDevoluciones
´´ "
=
´´# $
_context
´´% -
.
´´- .
SaveChanges
´´. 9
(
´´9 :
)
´´: ;
;
´´; <
if
µµ 
(
µµ  
ResultDevoluciones
µµ %
>
µµ& '
$num
µµ( )
)
µµ) *
{
¶¶ 
devoluciones
··  
entityDevolucion
··! 1
=
··2 3
_context
··4 <
.
··< =
devoluciones
··= I
.
··I J
OrderByDescending
··J [
(
··[ \
x
··\ ]
=>
··^ `
x
··a b
.
··b c
id_dev
··c i
)
··i j
.
··j k
First
··k p
(
··p q
)
··q r
;
··r s
int
¸¸ 
id_dev
¸¸ 
=
¸¸  
entityDevolucion
¸¸! 1
.
¸¸1 2
id_dev
¸¸2 8
;
¸¸8 9
List
¹¹ 
<
¹¹ "
detalle_devolucionII
¹¹ -
>
¹¹- ."
detalleDevolucionesS
¹¹/ C
=
¹¹D E
JsonConvert
¹¹F Q
.
¹¹Q R
DeserializeObject
¹¹R c
<
¹¹c d
List
¹¹d h
<
¹¹h i"
detalle_devolucionII
¹¹i }
>
¹¹} ~
>
¹¹~ 
(¹¹ !
detalleDevolucion¹¹ 
)¹¹ 
;¹¹ 
foreach
ºº 
(
ºº "
detalle_devolucionII
ºº 0
det
ºº1 4
in
ºº5 7"
detalleDevolucionesS
ºº8 L
)
ººL M
{
»» 
try
¼¼ 
{
½½ 
det
¾¾ 
.
¾¾  
id_dev
¾¾  &
=
¾¾' (
id_dev
¾¾) /
;
¾¾/ 0
_context
¿¿ $
.
¿¿$ %"
detalle_devolucionII
¿¿% 9
.
¿¿9 :
Add
¿¿: =
(
¿¿= >
det
¿¿> A
)
¿¿A B
;
¿¿B C
ResultDetallesDev
ÀÀ -
=
ÀÀ. /
_context
ÀÀ0 8
.
ÀÀ8 9
SaveChanges
ÀÀ9 D
(
ÀÀD E
)
ÀÀE F
;
ÀÀF G
if
ÁÁ 
(
ÁÁ 
ResultDetallesDev
ÁÁ 0
>
ÁÁ1 2
$num
ÁÁ3 4
)
ÁÁ4 5
{
ÂÂ 
objeto
ÃÃ  &
obj
ÃÃ' *
=
ÃÃ+ ,
_context
ÃÃ- 5
.
ÃÃ5 6
objeto
ÃÃ6 <
.
ÃÃ< =
Where
ÃÃ= B
(
ÃÃB C
x
ÃÃC D
=>
ÃÃE G
x
ÃÃH I
.
ÃÃI J
imei
ÃÃJ N
==
ÃÃO Q
det
ÃÃR U
.
ÃÃU V
imei_inv
ÃÃV ^
)
ÃÃ^ _
.
ÃÃ_ `
First
ÃÃ` e
(
ÃÃe f
)
ÃÃf g
;
ÃÃg h
if
ÄÄ  "
(
ÄÄ# $
obj
ÄÄ$ '
!=
ÄÄ( *
null
ÄÄ+ /
)
ÄÄ/ 0
{
ÅÅ  !
obj
ÆÆ$ '
.
ÆÆ' (
estado
ÆÆ( .
=
ÆÆ/ 0
$num
ÆÆ1 2
;
ÆÆ2 3
_context
ÇÇ$ ,
.
ÇÇ, -
objeto
ÇÇ- 3
.
ÇÇ3 4
Update
ÇÇ4 :
(
ÇÇ: ;
obj
ÇÇ; >
)
ÇÇ> ?
;
ÇÇ? @
_context
ÈÈ$ ,
.
ÈÈ, -
SaveChanges
ÈÈ- 8
(
ÈÈ8 9
)
ÈÈ9 :
;
ÈÈ: ;
}
ÉÉ  !
}
ÊÊ 
}
ËË 
catch
ÌÌ 
(
ÌÌ 
	Exception
ÌÌ '
e
ÌÌ( )
)
ÌÌ) *
{
ÍÍ 
ResultDetallesDev
ÎÎ -
=
ÎÎ. /
$num
ÎÎ0 1
;
ÎÎ1 2
devoluciones
ÏÏ (
dev
ÏÏ) ,
=
ÏÏ- .
_context
ÏÏ/ 7
.
ÏÏ7 8
devoluciones
ÏÏ8 D
.
ÏÏD E
Where
ÏÏE J
(
ÏÏJ K
x
ÏÏK L
=>
ÏÏM O
x
ÏÏP Q
.
ÏÏQ R
id_dev
ÏÏR X
==
ÏÏY [
id_dev
ÏÏ\ b
)
ÏÏb c
.
ÏÏc d
First
ÏÏd i
(
ÏÏi j
)
ÏÏj k
;
ÏÏk l
_context
ÐÐ $
.
ÐÐ$ %
devoluciones
ÐÐ% 1
.
ÐÐ1 2
Remove
ÐÐ2 8
(
ÐÐ8 9
dev
ÐÐ9 <
)
ÐÐ< =
;
ÐÐ= >
_context
ÑÑ $
.
ÑÑ$ %
SaveChanges
ÑÑ% 0
(
ÑÑ0 1
)
ÑÑ1 2
;
ÑÑ2 3
}
ÒÒ 
}
ÔÔ 
}
ÕÕ 
if
ÖÖ 
(
ÖÖ  
ResultDevoluciones
ÖÖ &
>
ÖÖ' (
$num
ÖÖ) *
&&
ÖÖ+ -
ResultDetallesDev
ÖÖ. ?
>
ÖÖ@ A
$num
ÖÖB C
)
ÖÖC D
{
×× 
mensaje
ØØ 
=
ØØ 
$str
ØØ <
;
ØØ< =
}
ÙÙ 
else
ÚÚ 
{
ÛÛ 
mensaje
ÜÜ 
=
ÜÜ 
$str
ÜÜ :
;
ÜÜ: ;
}
ÝÝ 
}
ÞÞ 
catch
ßß 
(
ßß 
	Exception
ßß 
e
ßß 
)
ßß 
{
àà 
var
áá 
st
áá 
=
áá 
new
áá 

StackTrace
áá '
(
áá' (
)
áá( )
;
áá) *
var
ââ 
sf
ââ 
=
ââ 
st
ââ 
.
ââ 
GetFrame
ââ $
(
ââ$ %
$num
ââ% &
)
ââ& '
;
ââ' (

MethodBase
ãã 
site
ãã 
=
ãã  !
e
ãã" #
.
ãã# $

TargetSite
ãã$ .
;
ãã. /
string
ää 

methodName
ää !
=
ää" #
site
ää$ (
==
ää) +
null
ää, 0
?
ää1 2
null
ää3 7
:
ää8 9
site
ää: >
.
ää> ?
Name
ää? C
;
ääC D
General
åå 
.
åå 
CrearLogError
åå %
(
åå% &
sf
åå& (
.
åå( )
	GetMethod
åå) 2
(
åå2 3
)
åå3 4
.
åå4 5
Name
åå5 9
,
åå9 :
$str
åå; I
,
ååI J
e
ååK L
.
ååL M
Message
ååM T
,
ååT U
e
ååU V
.
ååV W
Source
ååW ]
,
åå] ^
e
åå^ _
.
åå_ `

StackTrace
åå` j
,
ååj k

methodName
ååk u
,
ååu v
_config
ååw ~
.
åå~ "
GetConnectionStringåå 
(åå 
$stråå 
)åå 
)åå 
;åå  
}
ææ 
data
çç 
=
çç 
JsonConvert
çç 
.
çç 
SerializeObject
çç .
(
çç. /
new
çç/ 2
{
çç3 4
Result
çç5 ;
=
çç< = 
ResultDevoluciones
çç> P
,
ççP Q
Mensaje
ççR Y
=
ççZ [
mensaje
çç\ c
}
ççd e
)
ççe f
;
ççf g
return
èè 
data
èè 
;
èè 
}
éé 	
}
êê 
}ëë ÙD
LE:\GITEA\siscointBKII\siscointBKII\Controllers\ExcelBcoAgrearioController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class &
ExcelBcoAgrearioController +
:, -
ControllerBase. <
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public &
ExcelBcoAgrearioController )
() *
AplicationDbContext* =
context> E
,F G
IConfigurationH V
configW ]
)] ^
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
}   	
["" 	
HttpPost""	 
("" 
$str"" +
)""+ ,
]"", -
[## 	
	Authorize##	 
]## 
public$$ 
IActionResult$$ #
procesarExcelBcoAgrario$$ 4
($$4 5
dynamic$$5 <
data_recibe$$= H
)$$H I
{%% 	
string&& 
	resultado&& 
=&& 
$str&& !
;&&! "
string'' 
base_'' 
='' 
$str'' 
;'' 
string(( 
usuario_(( 
=(( 
$str((  
;((  !
string)) 
nombreUsuario_)) !
=))" #
$str))$ &
;))& '
try** 
{++ 
var,, 
dataJson,, 
=,, 
System,, %
.,,% &
Text,,& *
.,,* +
Json,,+ /
.,,/ 0
JsonSerializer,,0 >
.,,> ?
	Serialize,,? H
(,,H I
data_recibe,,I T
),,T U
;,,U V
var-- 
	datObject-- 
=-- 
JObject--  '
.--' (
Parse--( -
(--- .
dataJson--. 6
)--6 7
;--7 8
base_.. 
=.. 
Convert.. 
...  
ToString..  (
(..( )
	datObject..) 2
[..2 3
$str..3 9
]..9 :
)..: ;
;..; <
usuario_// 
=// 
Convert// "
.//" #
ToString//# +
(//+ ,
	datObject//, 5
[//5 6
$str//6 ?
]//? @
)//@ A
;//A B
nombreUsuario_00 
=00  
Convert00! (
.00( )
ToString00) 1
(001 2
	datObject002 ;
[00; <
$str00< H
]00H I
)00I J
;00J K
Int6411 
ultimoConsecutivo11 '
=11( )
$num11* +
;11+ ,
List33 
<33 !
tmp_excel_bco_agrario33 *
>33* +
_bco_agrario33, 8
=339 :
new33; >
List33? C
<33C D!
tmp_excel_bco_agrario33D Y
>33Y Z
(33Z [
)33[ \
;33\ ]
_bco_agrario44 
=44 
JsonConvert44 *
.44* +
DeserializeObject44+ <
<44< =
List44= A
<44A B!
tmp_excel_bco_agrario44B W
>44W X
>44X Y
(44Y Z
base_44Z _
)44_ `
;44` a
if55 
(55 
_bco_agrario55 
.55  
Count55  %
(55% &
)55& '
>55( )
$num55* +
)55+ ,
{66 
ultimoConsecutivo77 %
=77& '&
consecutivoExcelBcoAgrario77( B
(77B C
)77C D
;77D E
excel_bco_agrario88 %
_excel_bco_agrario88& 8
=889 :
new88; >
excel_bco_agrario88? P
(88P Q
)88Q R
;88R S
_excel_bco_agrario99 &
.99& '
fecha99' ,
=99- .
DateTime99/ 7
.997 8
Now998 ;
;99; <
_excel_bco_agrario:: &
.::& '
ruta::' +
=::, -
$str::. 3
;::3 4
_excel_bco_agrario;; &
.;;& '
estado;;' -
=;;. /
$num;;0 1
;;;1 2
_excel_bco_agrario<< &
.<<& '
usuario<<' .
=<</ 0
usuario_<<1 9
;<<9 :
_excel_bco_agrario>> &
.>>& '
consecutivo>>' 2
=>>3 4
ultimoConsecutivo>>5 F
;>>F G
_context?? 
.?? 
Add??  
(??  !
_excel_bco_agrario??! 3
)??3 4
;??4 5
if@@ 
(@@ 
_excel_bco_agrario@@ )
!=@@* ,
null@@- 1
)@@1 2
{AA 
foreachBB 
(BB  !
tmp_excel_bco_agrarioBB  5
itemBB6 :
inBB; =
_bco_agrarioBB> J
)BBJ K
{CC !
tmp_excel_bco_agrarioEE 1"
_tmp_excel_bco_agrarioEE2 H
=EEI J
newEEK N!
tmp_excel_bco_agrarioEEO d
(EEd e
)EEe f
;EEf g"
_tmp_excel_bco_agrarioFF 2
.FF2 3
excel_bco_agrarioFF3 D
=FFE F
ultimoConsecutivoFFG X
;FFX Y"
_tmp_excel_bco_agrarioGG 2
=GG3 4
itemGG5 9
;GG9 :
_contextHH $
.HH$ %
AddHH% (
(HH( )"
_tmp_excel_bco_agrarioHH) ?
)HH? @
;HH@ A
}II 
}JJ 
}KK 
intPP 
rsPP 
=PP 
_contextPP !
.PP! "
SaveChangesPP" -
(PP- .
)PP. /
;PP/ 0
returnQQ 
OkQQ 
(QQ 
rsQQ 
)QQ 
;QQ 
}RR 
catchSS 
(SS 
	ExceptionSS 
eSS 
)SS 
{TT 
varUU 
stUU 
=UU 
newUU 

StackTraceUU '
(UU' (
)UU( )
;UU) *
varVV 
sfVV 
=VV 
stVV 
.VV 
GetFrameVV $
(VV$ %
$numVV% &
)VV& '
;VV' (

MethodBaseWW 
siteWW 
=WW  !
eWW" #
.WW# $

TargetSiteWW$ .
;WW. /
stringXX 

methodNameXX !
=XX" #
siteXX$ (
==XX) +
nullXX, 0
?XX1 2
nullXX3 7
:XX8 9
siteXX: >
.XX> ?
NameXX? C
;XXC D
GeneralYY 
.YY 
CrearLogErrorYY %
(YY% &
sfYY& (
.YY( )
	GetMethodYY) 2
(YY2 3
)YY3 4
.YY4 5
NameYY5 9
,YY9 :
$strYY; N
,YYN O
eYYP Q
.YYQ R
MessageYYR Y
,YYY Z
eYY[ \
.YY\ ]
SourceYY] c
,YYc d
eYYe f
.YYf g

StackTraceYYg q
,YYq r

methodNameYYs }
,YY} ~
_config	YY 
.
YY !
GetConnectionString
YY 
(
YY 
$str
YY ¥
)
YY¥ ¦
)
YY¦ §
;
YY§ ¨
}ZZ 
return[[ 
Ok[[ 
([[ 
	resultado[[ 
)[[  
;[[  !
}\\ 	
[^^ 	
HttpGet^^	 
(^^ 
$str^^ (
)^^( )
]^^) *
[__ 	
	Authorize__	 
]__ 
public`` 
IActionResult`` !
listarExcelBcoAgrario`` 2
(``2 3
)``3 4
{aa 	
returnbb 
Okbb 
(bb 
)bb 
;bb 
}cc 	
publicee 
Int64ee &
consecutivoExcelBcoAgrarioee /
(ee/ 0
)ee0 1
{ff 	
Int64gg 

consecutvogg 
=gg 
$numgg  
;gg  !

consecutvohh 
=hh 
_contexthh !
.hh! "
excel_bco_agrariohh" 3
.hh3 4
Wherehh4 9
(hh9 :
xhh: ;
=>hh< >
xhh? @
.hh@ A
estadohhA G
==hhH J
$numhhK L
)hhL M
.hhM N
SelecthhN T
(hhT U
xhhU V
=>hhW Y
xhhZ [
.hh[ \
consecutivohh\ g
)hhg h
.hhh i
Maxhhi l
(hhl m
)hhm n
;hhn o

consecutvoii 
=ii 

consecutvoii #
+ii$ %
$numii& '
;ii' (
returnjj 

consecutvojj 
;jj 
}kk 	
}ll 
}mm ªw
AE:\GITEA\siscointBKII\siscointBKII\Controllers\LoginController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
LoginController  
:! "
ControllerBase# 1
{ 
public 
List 
< 
UsuariosModel !
>! "
usuarios# +
=, -
new. 1
List2 6
<6 7
UsuariosModel7 D
>D E
(E F
)F G
;G H
private 
AplicationDbContext #
_context$ ,
;, -
private 
IConfiguration 
_config &
;& '
public 
LoginController 
( 
IConfiguration -
config. 4
,4 5
AplicationDbContext6 I
contextJ Q
)Q R
{ 	
_config 
= 
config 
; 
_context 
= 
context 
; 
} 	
[ 	
AllowAnonymous	 
] 
[ 	
HttpPost	 
] 
public   
IActionResult   
Login   "
(  " #
[  # $
FromBody  $ ,
]  , -
	UserLogin  . 7
	userLogin  8 A
)  A B
{!! 	
var"" 
user"" 
="" 
Authenticate"" #
(""# $
	userLogin""$ -
)""- .
;"". /
if## 
(## 
user## 
==## 
null## 
)## 
return$$ 
NotFound$$ 
($$  
$str$$  0
)$$0 1
;$$1 2
var&& 
token&& 
=&& 
Generate&&  
(&&  !
user&&! %
)&&% &
;&&& '
return'' 
Ok'' 
('' 
token'' 
)'' 
;'' 
}(( 	
[** 	
AllowAnonymous**	 
]** 
[++ 	
HttpPost++	 
(++ 
$str++ !
)++! "
]++" #
public,, 
IActionResult,, 
resetPassword,, *
(,,* +
[,,+ ,
FromBody,,, 4
],,4 5
	UserLogin,,6 ?
	userLogin,,@ I
),,I J
{-- 	
Boolean.. 
EsUsuarioValido.. #
=..$ %
validateUsuario..& 5
(..5 6
	userLogin..6 ?
...? @
Username..@ H
)..H I
;..I J
string// 
data_mensaje// 
=//  !
$str//" $
;//$ %
if00 
(00 
EsUsuarioValido00 
)00  
{11 
usuario22 
usuario22 
=22  !
_context22" *
.22* +
usuario22+ 2
.222 3
Where223 8
(228 9
x229 :
=>22; =
x22> ?
.22? @
username22@ H
==22I K
	userLogin22L U
.22U V
Username22V ^
)22^ _
.22_ `
FirstOrDefault22` n
(22n o
)22o p
;22p q
if33 
(33 
usuario33 
!=33 
null33 "
)33" #
{44 
string55 
_nombre_usuario55 *
=55+ ,
usuario55- 4
.554 5
nombre_usuario555 C
;55C D
string66 
nombre_usuario66 )
=66* +
System66, 2
.662 3
Text663 7
.667 8
RegularExpressions668 J
.66J K
Regex66K P
.66P Q
Replace66Q X
(66X Y
_nombre_usuario66Y h
,66h i
$str66j o
,66o p
$str66q s
)66s t
;66t u
string77 

nombreCapa77 %
=77& '
$str77( 4
+775 6
nombre_usuario777 E
+77F G
	userLogin77H Q
.77Q R
Password77R Z
;77Z [
usuario:: 
.:: 
pssword:: #
=::$ %
General::& -
.::- .
cifrarTextoAES::. <
(::< =
	userLogin::= F
.::F G
Password::G O
,::O P

nombreCapa::Q [
,::[ \

nombreCapa::] g
,::g h
$str::i o
,::o p
$num::q s
,::s t
$str	::u 
,
:: 
$num
:: 
)
:: 
;
:: 
_context;; 
.;; 
Update;; #
(;;# $
usuario;;$ +
);;+ ,
;;;, -
int<< 
saveChanges<< #
=<<$ %
_context<<& .
.<<. /
SaveChanges<</ :
(<<: ;
)<<; <
;<<< =
if== 
(== 
saveChanges== "
>==# $
$num==% &
)==& '
{>> 
data_mensaje?? $
=??% &
$str??' F
;??F G
}@@ 
}BB 
elseCC 
{DD 
data_mensajeEE  
=EE! "
$strEE# 7
;EE7 8
}FF 
}GG 
elseHH 
{II 
data_mensajeJJ 
=JJ 
$strJJ 2
;JJ2 3
}KK 
returnLL 
OkLL 
(LL 
data_mensajeLL "
)LL" #
;LL# $
}MM 	
privateOO 
BooleanOO 
validateUsuarioOO '
(OO' (
stringOO( .
usuarioOO/ 6
)OO6 7
{PP 	
BooleanQQ 
EsUsuarioValidoQQ #
=QQ$ %
falseQQ& +
;QQ+ ,
tryRR 
{SS 
varTT 
_usuarioTT 
=TT 
_contextTT '
.TT' (
usuarioTT( /
.TT/ 0
WhereTT0 5
(TT5 6
xTT6 7
=>TT8 :
xTT; <
.TT< =
usernameTT= E
==TTF H
usuarioTTI P
)TTP Q
.TTQ R
FirstOrDefaultTTR `
(TT` a
)TTa b
;TTb c
ifUU 
(UU 
_usuarioUU 
!=UU 
nullUU #
)UU# $
{VV 
EsUsuarioValidoWW #
=WW$ %
trueWW& *
;WW* +
}XX 
}YY 
catchZZ 
(ZZ 
	ExceptionZZ 
eZZ 
)ZZ 
{[[ 
var\\ 
st\\ 
=\\ 
new\\ 

StackTrace\\ '
(\\' (
)\\( )
;\\) *
var]] 
sf]] 
=]] 
st]] 
.]] 
GetFrame]] $
(]]$ %
$num]]% &
)]]& '
;]]' (

MethodBase^^ 
site^^ 
=^^  !
e^^" #
.^^# $

TargetSite^^$ .
;^^. /
string__ 

methodName__ !
=__" #
site__$ (
==__) +
null__, 0
?__1 2
null__3 7
:__8 9
site__: >
.__> ?
Name__? C
;__C D
General`` 
.`` 
CrearLogError`` %
(``% &
sf``& (
.``( )
	GetMethod``) 2
(``2 3
)``3 4
.``4 5
Name``5 9
,``9 :
$str``; E
,``E F
e``G H
.``H I
Message``I P
,``P Q
e``R S
.``S T
Source``T Z
,``Z [
e``\ ]
.``] ^

StackTrace``^ h
,``h i

methodName``j t
,``t u
_config``v }
.``} ~ 
GetConnectionString	``~ 
(
`` 
$str
`` 
)
`` 
)
`` 
;
`` 
}aa 
returnbb 
EsUsuarioValidobb "
;bb" #
}cc 	
privateee 
stringee 
Generateee 
(ee  
usuarioee  '
useree( ,
)ee, -
{ff 	
vargg 
securityKeygg 
=gg 
newgg ! 
SymmetricSecurityKeygg" 6
(gg6 7
Encodinggg7 ?
.gg? @
UTF8gg@ D
.ggD E
GetBytesggE M
(ggM N
_configggN U
[ggU V
$strggV _
]gg_ `
)gg` a
)gga b
;ggb c
varhh 
	credialeshh 
=hh 
newhh 
SigningCredentialshh  2
(hh2 3
securityKeyhh3 >
,hh> ?
SecurityAlgorithmshh@ R
.hhR S

HmacSha256hhS ]
)hh] ^
;hh^ _
varjj 
claimsjj 
=jj 
newjj 
[jj 
]jj 
{kk 
newmm 
Claimmm 
(mm 

ClaimTypesmm $
.mm$ %
SerialNumbermm% 1
,mm1 2
usermm3 7
.mm7 8
codigomm8 >
)mm> ?
,mm? @
newnn 
Claimnn 
(nn 

ClaimTypesnn $
.nn$ %
Namenn% )
,nn) *
usernn+ /
.nn/ 0
nombre_usuarionn0 >
)nn> ?
,nn? @
newoo 
Claimoo 
(oo 

ClaimTypesoo $
.oo$ %
NameIdentifieroo% 3
,oo3 4
useroo5 9
.oo9 :
usernameoo: B
)ooB C
}pp 
;pp 
varqq 
tokenqq 
=qq 
newqq 
JwtSecurityTokenqq ,
(qq, -
_configqq- 4
[qq4 5
$strqq5 A
]qqA B
,qqB C
_configrr 
[rr 
$strrr &
]rr& '
,rr' (
claimsss 
,ss 
expirestt 
:tt 
DateTimett !
.tt! "
Nowtt" %
.tt% &

AddMinutestt& 0
(tt0 1
$numtt1 3
)tt3 4
,tt4 5
signingCredentialsuu "
:uu" #
	credialesuu$ -
)uu- .
;uu. /
returnww 
newww #
JwtSecurityTokenHandlerww .
(ww. /
)ww/ 0
.ww0 1

WriteTokenww1 ;
(ww; <
tokenww< A
)wwA B
;wwB C
}xx 	
privatezz 
usuariozz 
Authenticatezz $
(zz$ %
	UserLoginzz% .
	userLoginzz/ 8
)zz8 9
{{{ 	
var|| 
user|| 
=|| 
new|| 
usuario|| "
(||" #
)||# $
;||$ %
Boolean}} 
EsUsuarioValido}} #
=}}$ %
false}}& +
;}}+ ,
string~~ 
_nombre_usuario~~ "
=~~# $
$str~~% '
;~~' (
string 
nombre_usuario !
=" #
$str$ &
;& '
string
 

nombreCapa
 
=
 
$str
  "
;
" #
try
 
{
 
user
 
=
 
_context
 
.
  
usuario
  '
.
' (
FirstOrDefault
( 6
(
6 7
o
7 8
=>
9 ;
o
< =
.
= >
username
> F
==
G I
	userLogin
J S
.
S T
Username
T \
)
\ ]
;
] ^
string
 
passwordHash
 #
=
$ %
$str
& (
;
( )
if
 
(
 
user
 
!=
 
null
  
)
  !
{
 
passwordHash
  
=
! "
user
# '
.
' (
pssword
( /
;
/ 0
_nombre_usuario
 #
=
$ %
user
& *
.
* +
nombre_usuario
+ 9
;
9 :
nombre_usuario
 "
=
# $
System
% +
.
+ ,
Text
, 0
.
0 1 
RegularExpressions
1 C
.
C D
Regex
D I
.
I J
Replace
J Q
(
Q R
_nombre_usuario
R a
,
a b
$str
c h
,
h i
$str
j l
)
l m
;
m n

nombreCapa
 
=
  
$str
! -
+
. /
nombre_usuario
0 >
+
? @
	userLogin
A J
.
J K
Password
K S
;
S T
}
 
passwordHash
 
=
 
General
 &
.
& '
descifrarTextoAES
' 8
(
8 9
passwordHash
9 E
,
E F

nombreCapa
G Q
,
Q R

nombreCapa
S ]
,
] ^
$str
_ e
,
e f
$num
g i
,
i j
$str
k }
,
} ~
$num 
) 
; 
if
 
(
 
passwordHash
  
!=
! #
$str
$ &
)
& '
{
 
if
 
(
 
passwordHash
 #
.
# $
Contains
$ ,
(
, -
	userLogin
- 6
.
6 7
Password
7 ?
)
? @
)
@ A
{
 
EsUsuarioValido
 '
=
( )
true
* .
;
. /
}
 
}
 
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; E
,
E F
e
G H
.
H I
Message
I P
,
P Q
e
Q R
.
R S
Source
S Y
,
Y Z
e
Z [
.
[ \

StackTrace
\ f
,
f g

methodName
g q
,
q r
_config
s z
.
z {"
GetConnectionString{ 
( 
$str 
) 
) 
; 
}
 
if
¦¦ 
(
¦¦ 
!
¦¦ 
EsUsuarioValido
¦¦  
)
¦¦  !
return
§§ 
null
§§ 
;
§§ 
return
¨¨ 
user
¨¨ 
;
¨¨ 
}
ªª 	
}
®® 
}¯¯ á
CE:\GITEA\siscointBKII\siscointBKII\Controllers\PedidosConreoller.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
PedidosConreoller "
:# $
ControllerBase% 3
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
PedidosConreoller  
(  !
AplicationDbContext! 4
context5 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str /
)/ 0
]0 1
[ 	
	Authorize	 
] 
public 
IActionResult 
getContratoProvedor 0
(0 1
int1 4
id5 7
)7 8
{ 	
var 
data 
= 
new 
Object !
(! "
)" #
;# $
try 
{ 
data 
= 
( 
from 
dp 
in  "
_context# +
.+ ,
detalle_proveedor, =
join   
p   
in   !
_context  " *
.  * +
proveedorII  + 6
on  7 9
dp  : <
.  < =
nit  = @
equals  A G
p  H I
.  I J
nit  J M
where!! 
(!! 
dp!! !
.!!! "
id!!" $
==!!% '
id!!( *
)!!* +
select"" 
new"" "
{## 
nit$$ 
=$$  !
dp$$" $
.$$$ %
nit$$% (
,$$( )
razon_social%% (
=%%) *
p%%+ ,
.%%, -
razon_social%%- 9
,%%9 :
contrato&& $
=&&% &
dp&&' )
.&&) *
contrato&&* 2
}'' 
)'' 
.'' 
First''  
(''  !
)''! "
;''" #
}(( 
catch)) 
()) 
	Exception)) 
e)) 
))) 
{** 
},, 
return-- 
Ok-- 
(-- 
data-- 
)-- 
;-- 
}.. 	
}// 
}00 ¼
CE:\GITEA\siscointBKII\siscointBKII\Controllers\PedidosController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
PedidosController "
:# $
ControllerBase% 3
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
PedidosController  
(  !
AplicationDbContext! 4
context5 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str /
)/ 0
]0 1
[ 	
	Authorize	 
] 
public 
IActionResult 
getContratoProvedor 0
(0 1
int1 4
id5 7
)7 8
{   	
var!! 
data!! 
=!! 
new!! 
Object!! !
(!!! "
)!!" #
;!!# $
try"" 
{## 
data$$ 
=$$ 
($$ 
from$$ 
dp$$ 
in$$  "
_context$$# +
.$$+ ,
detalle_proveedor$$, =
join%% 
p%% 
in%% !
_context%%" *
.%%* +
proveedorII%%+ 6
on%%7 9
dp%%: <
.%%< =
nit%%= @
equals%%A G
p%%H I
.%%I J
nit%%J M
where&& 
(&& 
dp&& !
.&&! "
id&&" $
==&&% '
id&&( *
)&&* +
select'' 
new'' "
{(( 
nit)) 
=))  !
dp))" $
.))$ %
nit))% (
,))( )
razon_social** (
=**) *
p**+ ,
.**, -
razon_social**- 9
,**9 :
contrato++ $
=++% &
dp++' )
.++) *
contrato++* 2
},, 
),, 
.,, 
First,,  
(,,  !
),,! "
;,," #
}-- 
catch.. 
(.. 
	Exception.. 
e.. 
).. 
{// 
var00 
st00 
=00 
new00 

StackTrace00 '
(00' (
)00( )
;00) *
var11 
sf11 
=11 
st11 
.11 
GetFrame11 $
(11$ %
$num11% &
)11& '
;11' (

MethodBase22 
site22 
=22  !
e22" #
.22# $

TargetSite22$ .
;22. /
string33 

methodName33 !
=33" #
site33$ (
==33) +
null33, 0
?331 2
null333 7
:338 9
site33: >
.33> ?
Name33? C
;33C D
General44 
.44 
CrearLogError44 %
(44% &
sf44& (
.44( )
	GetMethod44) 2
(442 3
)443 4
.444 5
Name445 9
,449 :
$str44; N
,44N O
e44P Q
.44Q R
Message44R Y
,44Y Z
e44Z [
.44[ \
Source44\ b
,44b c
e44c d
.44d e

StackTrace44e o
,44o p

methodName44p z
,44z {
_config	44| 
.
44 !
GetConnectionString
44 
(
44 
$str
44 ¢
)
44¢ £
)
44£ ¤
;
44¤ ¥
}55 
return66 
Ok66 
(66 
data66 
)66 
;66 
}77 	
[88 	
HttpGet88	 
(88 
$str88 0
)880 1
]881 2
[99 	
	Authorize99	 
]99 
public:: 
IActionResult::  
getArticuloComprasId:: 1
(::1 2
int::2 5
id::6 8
)::8 9
{;; 	
var<< 
data<< 
=<< 
new<< 
Object<< !
(<<! "
)<<" #
;<<# $
try== 
{>> 
data?? 
=?? 
(?? 
from?? 
ac?? 
in??  "
_context??# +
.??+ ,
compras_articulos??, =
join@@ 
i@@ 
in@@ !
_context@@" *
.@@* +
iva@@+ .
on@@/ 1
ac@@2 4
.@@4 5
tipo_iva@@5 =
equals@@> D
i@@E F
.@@F G
id@@G I
+@@J K
$str@@L N
whereAA 
(AA 
acAA !
.AA! "
idAA" $
==AA% '
idAA( *
)AA* +
selectBB 
newBB "
{CC 
codigoDD "
=DD# $
acDD% '
.DD' (
codigoDD( .
,DD. /
descripcionEE '
=EE( )
acEE* ,
.EE, -
descripcionEE- 8
,EE8 9
undFF 
=FF  !
acFF" $
.FF$ %
undFF% (
,FF( )
cuentaGG "
=GG# $
acGG% '
.GG' (
cuentaGG( .
,GG. /
ivaHH 
=HH  !
iHH" #
.HH# $

porcentajeHH$ .
}II 
)II 
.II 
FirstII  
(II  !
)II! "
;II" #
}JJ 
catchKK 
(KK 
	ExceptionKK 
eKK 
)KK 
{LL 
varMM 
stMM 
=MM 
newMM 

StackTraceMM '
(MM' (
)MM( )
;MM) *
varNN 
sfNN 
=NN 
stNN 
.NN 
GetFrameNN $
(NN$ %
$numNN% &
)NN& '
;NN' (

MethodBaseOO 
siteOO 
=OO  !
eOO" #
.OO# $

TargetSiteOO$ .
;OO. /
stringPP 

methodNamePP !
=PP" #
sitePP$ (
==PP) +
nullPP, 0
?PP1 2
nullPP3 7
:PP8 9
sitePP: >
.PP> ?
NamePP? C
;PPC D
GeneralQQ 
.QQ 
CrearLogErrorQQ %
(QQ% &
sfQQ& (
.QQ( )
	GetMethodQQ) 2
(QQ2 3
)QQ3 4
.QQ4 5
NameQQ5 9
,QQ9 :
$strQQ; N
,QQN O
eQQP Q
.QQQ R
MessageQQR Y
,QQY Z
eQQZ [
.QQ[ \
SourceQQ\ b
,QQb c
eQQc d
.QQd e

StackTraceQQe o
,QQo p

methodNameQQp z
,QQz {
_config	QQ| 
.
QQ !
GetConnectionString
QQ 
(
QQ 
$str
QQ ¢
)
QQ¢ £
)
QQ£ ¤
;
QQ¤ ¥
}RR 
returnSS 
OkSS 
(SS 
dataSS 
)SS 
;SS 
}TT 	
[UU 	
HttpGetUU	 
(UU 
$strUU -
)UU- .
]UU. /
[VV 	
	AuthorizeVV	 
]VV 
publicWW 
IActionResultWW 
getArticuloFijoIdWW .
(WW. /
intWW/ 2
idWW3 5
)WW5 6
{XX 	
varYY 
dataYY 
=YY 
newYY 
ObjectYY !
(YY! "
)YY" #
;YY# $
tryZZ 
{[[ 
data\\ 
=\\ 
(\\ 
from\\ 
af\\ 
in\\  "
_context\\# +
.\\+ ,
articulos_af\\, 8
join]] 
i]] 
in]] !
_context]]" *
.]]* +
iva]]+ .
on]]/ 1
af]]2 4
.]]4 5
tipo_iva]]5 =
equals]]> D
i]]E F
.]]F G
id]]G I
+]]J K
$str]]L N
where^^ 
(^^ 
af^^ !
.^^! "
id^^" $
==^^% '
id^^( *
)^^* +
select__ 
new__ "
{`` 
codigoaa "
=aa# $
afaa% '
.aa' (
codigoaa( .
,aa. /
descripcionbb '
=bb( )
afbb* ,
.bb, -
descripcionbb- 8
,bb8 9
undcc 
=cc  !
afcc" $
.cc$ %
undcc% (
,cc( )
cuentadd "
=dd# $
afdd% '
.dd' (
cuentadd( .
,dd. /
ivaee 
=ee  !
iee" #
.ee# $

porcentajeee$ .
}ff 
)ff 
.ff 
Firstff  
(ff  !
)ff! "
;ff" #
}gg 
catchhh 
(hh 
	Exceptionhh 
ehh 
)hh 
{ii 
varjj 
stjj 
=jj 
newjj 

StackTracejj '
(jj' (
)jj( )
;jj) *
varkk 
sfkk 
=kk 
stkk 
.kk 
GetFramekk $
(kk$ %
$numkk% &
)kk& '
;kk' (

MethodBasell 
sitell 
=ll  !
ell" #
.ll# $

TargetSitell$ .
;ll. /
stringmm 

methodNamemm !
=mm" #
sitemm$ (
==mm) +
nullmm, 0
?mm1 2
nullmm3 7
:mm8 9
sitemm: >
.mm> ?
Namemm? C
;mmC D
Generalnn 
.nn 
CrearLogErrornn %
(nn% &
sfnn& (
.nn( )
	GetMethodnn) 2
(nn2 3
)nn3 4
.nn4 5
Namenn5 9
,nn9 :
$strnn; I
,nnI J
ennK L
.nnL M
MessagennM T
,nnT U
ennU V
.nnV W
SourcennW ]
,nn] ^
enn^ _
.nn_ `

StackTracenn` j
,nnj k

methodNamennk u
,nnu v
_confignnw ~
.nn~  
GetConnectionString	nn 
(
nn 
$str
nn 
)
nn 
)
nn 
;
nn  
}oo 
returnpp 
Okpp 
(pp 
datapp 
)pp 
;pp 
}qq 	
[ss 	
HttpGetss	 
(ss 
$strss  
)ss  !
]ss! "
[tt 	
	Authorizett	 
]tt 
publicuu 
IActionResultuu 
getDirectivosuu *
(uu* +
)uu+ ,
{vv 	
varww 
dataww 
=ww 
newww 
Objectww !
(ww! "
)ww" #
;ww# $
tryxx 
{yy 
datazz 
=zz 
_contextzz 
.zz  

directivoszz  *
.zz* +
ToListzz+ 1
(zz1 2
)zz2 3
;zz3 4
if{{ 
({{ 
data{{ 
=={{ 
null{{ 
){{  
{|| 
return}} 
null}} 
;}}  
}~~ 
} 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; G
,
G H
e
I J
.
J K
Message
K R
,
R S
e
S T
.
T U
Source
U [
,
[ \
e
\ ]
.
] ^

StackTrace
^ h
,
h i

methodName
i s
,
s t
_config
u |
.
| }"
GetConnectionString} 
( 
$str 
) 
) 
; 
}
 
return
 
Ok
 
(
 
data
 
)
 
;
 
}
 	
[
 	
HttpPost
	 
(
 
$str
 !
)
! "
]
" #
[
 	
	Authorize
	 
]
 
public
 
IActionResult
 
agregarTipoPedido
 .
(
. /
dynamic
/ 6
data
7 ;
)
; <
{
 	
string
 
	resultado
 
=
 
$str
 !
;
! "
string
 
cadena_conexion
 "
=
# $
_config
% ,
.
, -!
GetConnectionString
- @
(
@ A
$str
A K
)
K L
;
L M
try
 
{
 
var
 
dataJson
 
=
 
System
 %
.
% &
Text
& *
.
* +
Json
+ /
.
/ 0
JsonSerializer
0 >
.
> ?
	Serialize
? H
(
H I
data
I M
)
M N
;
N O
var
 
	datObject
 
=
 
JObject
  '
.
' (
Parse
( -
(
- .
dataJson
. 6
)
6 7
;
7 8
string
 

tipoPedido
 !
=
" #
Convert
$ +
.
+ ,
ToString
, 4
(
4 5
	datObject
5 >
[
> ?
$str
? K
]
K L
)
L M
;
M N
string
 
pedido
 
=
 
Convert
  '
.
' (
ToString
( 0
(
0 1
	datObject
1 :
[
: ;
$str
; C
]
C D
)
D E
;
E F
string
 
detallePedido
 $
=
% &
Convert
' .
.
. /
ToString
/ 7
(
7 8
	datObject
8 A
[
A B
$str
B Q
]
Q R
)
R S
;
S T
pedidos
 

pedidosAdd
 "
=
# $
JsonConvert
% 0
.
0 1
DeserializeObject
1 B
<
B C
pedidos
C J
>
J K
(
K L
pedido
L R
)
R S
;
S T
List
 
<
 
detalle_pedido
 #
>
# $
detallePedidos
% 3
=
4 5
JsonConvert
6 A
.
A B
DeserializeObject
B S
<
S T
List
T X
<
X Y
detalle_pedido
Y g
>
g h
>
h i
(
i j
detallePedido
j w
)
w x
;
x y
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
   
site
   
=
    !
e
  " #
.
  # $

TargetSite
  $ .
;
  . /
string
¡¡ 

methodName
¡¡ !
=
¡¡" #
site
¡¡$ (
==
¡¡) +
null
¡¡, 0
?
¡¡1 2
null
¡¡3 7
:
¡¡8 9
site
¡¡: >
.
¡¡> ?
Name
¡¡? C
;
¡¡C D
General
¢¢ 
.
¢¢ 
CrearLogError
¢¢ %
(
¢¢% &
sf
¢¢& (
.
¢¢( )
	GetMethod
¢¢) 2
(
¢¢2 3
)
¢¢3 4
.
¢¢4 5
Name
¢¢5 9
,
¢¢9 :
$str
¢¢; D
,
¢¢D E
e
¢¢F G
.
¢¢G H
Message
¢¢H O
,
¢¢O P
e
¢¢P Q
.
¢¢Q R
Source
¢¢R X
,
¢¢X Y
e
¢¢Y Z
.
¢¢Z [

StackTrace
¢¢[ e
,
¢¢e f

methodName
¢¢f p
,
¢¢p q
_config
¢¢r y
.
¢¢y z"
GetConnectionString¢¢z 
(¢¢ 
$str¢¢ 
)¢¢ 
)¢¢ 
;¢¢ 
}
££ 
return
¥¥ 
Ok
¥¥ 
(
¥¥ 
	resultado
¥¥ 
)
¥¥  
;
¥¥  !
}
¦¦ 	
public
¨¨ 
static
¨¨ 
Boolean
¨¨ 
CrearPedido
¨¨ )
(
¨¨) *
pedidos
¨¨* 1
pedido
¨¨2 8
,
¨¨8 9
List
¨¨: >
<
¨¨> ?
detalle_pedido
¨¨? M
>
¨¨M N
detallePedido
¨¨O \
,
¨¨\ ]
string
¨¨^ d

tipoPedido
¨¨e o
,
¨¨o p"
AplicationDbContext¨¨q 
context¨¨ 
,¨¨ 
out¨¨ 
int¨¨ 
numero_pedido¨¨ £
,¨¨£ ¤
string¨¨¤ ª
cadena_conexion¨¨« º
)¨¨º »
{
©© 	
Boolean
ªª 
PedidoCreado
ªª  
=
ªª! "
false
ªª# (
;
ªª( )
int
«« 

numero_ped
«« 
=
«« 
$num
«« 
;
«« 
numero_pedido
­­ 
=
­­ 
Convert
­­ #
.
­­# $
ToInt32
­­$ +
(
­­+ ,
PreloadNro_pedido
­­, =
(
­­= >
context
­­> E
)
­­E F
)
­­F G
;
­­G H
if
®® 
(
®® 
numero_pedido
®® 
>
®® 
$num
®®  
)
®®  !
{
¯¯ 
pedido
°° 
.
°° 

nro_pedido
°° !
=
°°" #
numero_pedido
°°$ 1
;
°°1 2
pedido
±± 
.
±± 
aprobado_jefe
±± $
=
±±% &
$str
±±' *
;
±±* +
context
²² 
.
²² 
pedidos
²² 
.
²²  
Add
²²  #
(
²²# $
pedido
²²$ *
)
²²* +
;
²²+ ,
int
³³ 

creoPedido
³³ 
=
³³  
context
³³! (
.
³³( )
SaveChanges
³³) 4
(
³³4 5
)
³³5 6
;
³³6 7
if
´´ 
(
´´ 

creoPedido
´´ 
>
´´ 
$num
´´  !
)
´´! "
{
µµ 
foreach
¶¶ 
(
¶¶ 
detalle_pedido
¶¶ *
	detPedido
¶¶+ 4
in
¶¶5 7
detallePedido
¶¶8 E
)
¶¶E F
{
·· 
	detPedido
¸¸ !
.
¸¸! "
	id_pedido
¸¸" +
=
¸¸, -
numero_pedido
¸¸. ;
;
¸¸; <
context
¹¹ 
.
¹¹  
detalle_pedido
¹¹  .
.
¹¹. /
Add
¹¹/ 2
(
¹¹2 3
	detPedido
¹¹3 <
)
¹¹< =
;
¹¹= >
int
ºº 
creoDetallePedido
ºº -
=
ºº. /
context
ºº0 7
.
ºº7 8
SaveChanges
ºº8 C
(
ººC D
)
ººD E
;
ººE F
}
¼¼ 
switch
¾¾ 
(
¾¾ 

tipoPedido
¾¾ &
)
¾¾& '
{
¿¿ 
case
ÀÀ 
$str
ÀÀ ,
:
ÀÀ, -
General
ÁÁ #
.
ÁÁ# $A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
ÁÁ$ W
(
ÁÁW X
$str
ÁÁX q
,
ÁÁq r
numero_pedidoÁÁs 
+ÁÁ 
$strÁÁ 
,ÁÁ 
cadena_conexionÁÁ 
)ÁÁ 
;ÁÁ 

numero_ped
ÂÂ &
=
ÂÂ' (
numero_pedido
ÂÂ) 6
;
ÂÂ6 7
var
ÃÃ 
det_ped
ÃÃ  '
=
ÃÃ( )
context
ÃÃ* 1
.
ÃÃ1 2
detalle_pedido
ÃÃ2 @
.
ÃÃ@ A
Where
ÃÃA F
(
ÃÃF G
x
ÃÃG H
=>
ÃÃI K
x
ÃÃL M
.
ÃÃM N
	id_pedido
ÃÃN W
==
ÃÃX Z

numero_ped
ÃÃ[ e
)
ÃÃe f
.
ÃÃf g
ToList
ÃÃg m
(
ÃÃm n
)
ÃÃn o
;
ÃÃo p
if
ÄÄ 
(
ÄÄ 
det_ped
ÄÄ &
!=
ÄÄ' )
null
ÄÄ* .
)
ÄÄ. /
{
ÅÅ 
foreach
ÆÆ  '
(
ÆÆ' (
detalle_pedido
ÆÆ( 6
idata
ÆÆ7 <
in
ÆÆ= ?
det_ped
ÆÆ@ G
)
ÆÆG H
{
ÇÇ  !
General
ÈÈ$ +
.
ÈÈ+ ,<
.EjecutarProcedimientoAlmacenado_validateAFDiff
ÈÈ, Z
(
ÈÈZ [
$str
ÈÈ[ p
,
ÈÈp q
cadena_conexionÈÈr 
,ÈÈ 
idataÈÈ 
.ÈÈ 
	id_pedidoÈÈ 
+ÈÈ 
$strÈÈ 
,ÈÈ 
idataÈÈ 
.ÈÈ 
cantidadÈÈ §
??ÈÈ§ ©
$numÈÈª «
,ÈÈ« ¬
idataÈÈ­ ²
.ÈÈ² ³

codigo_artÈÈ³ ½
)ÈÈ½ ¾
;ÈÈ¾ ¿
}
ÉÉ  !
}
ÊÊ 
break
ËË !
;
ËË! "
case
ÌÌ 
$str
ÌÌ '
:
ÌÌ' (
General
ÍÍ #
.
ÍÍ# $A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
ÍÍ$ W
(
ÍÍW X
$str
ÍÍX n
,
ÍÍn o
numero_pedido
ÍÍp }
+
ÍÍ~ 
$strÍÍ 
,ÍÍ 
cadena_conexionÍÍ 
)ÍÍ 
;ÍÍ 
break
ÎÎ !
;
ÎÎ! "
default
ÏÏ 
:
ÏÏ  
General
ÐÐ #
.
ÐÐ# $A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
ÐÐ$ W
(
ÐÐW X
$str
ÐÐX n
,
ÐÐn o
numero_pedido
ÐÐp }
+
ÐÐ~ 
$strÐÐ 
,ÐÐ 
cadena_conexionÐÐ 
)ÐÐ 
;ÐÐ 
break
ÑÑ !
;
ÑÑ! "
}
ÒÒ 
}
ÔÔ 
}
ÕÕ 
return
ØØ 
PedidoCreado
ØØ 
;
ØØ  
}
ÙÙ 	
public
ÛÛ 
static
ÛÛ 
string
ÛÛ 
PreloadNro_pedido
ÛÛ .
(
ÛÛ. /!
AplicationDbContext
ÛÛ/ B
context
ÛÛC J
)
ÛÛJ K
{
ÜÜ 	
int
ÝÝ 

nro_pedido
ÝÝ 
=
ÝÝ 
$num
ÝÝ 
;
ÝÝ 
pedidos
ÞÞ 
p
ÞÞ 
=
ÞÞ 
context
ÞÞ 
.
ÞÞ  
pedidos
ÞÞ  '
.
ÞÞ' (
OrderByDescending
ÞÞ( 9
(
ÞÞ9 :
x
ÞÞ: ;
=>
ÞÞ< >
x
ÞÞ? @
.
ÞÞ@ A

nro_pedido
ÞÞA K
)
ÞÞK L
.
ÞÞL M
FirstOrDefault
ÞÞM [
(
ÞÞ[ \
)
ÞÞ\ ]
;
ÞÞ] ^
if
ßß 
(
ßß 
p
ßß 
!=
ßß 
null
ßß 
)
ßß 
{
àà 

nro_pedido
áá 
=
áá 
p
áá 
.
áá 

nro_pedido
áá )
+
áá* +
$num
áá, -
;
áá- .
}
ââ 
return
ãã 

nro_pedido
ãã 
+
ãã 
$str
ãã  "
;
ãã" #
}
ää 	
}
åå 
}ææ äq
JE:\GITEA\siscointBKII\siscointBKII\Controllers\permisos_usuIIController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
permisos_usuIIController )
:* +
ControllerBase, :
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public $
permisos_usuIIController '
(' (
AplicationDbContext( ;
context< C
,C D
IConfigurationE S
configT Z
)Z [
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str !
)! "
]" #
[ 	
	Authorize	 
] 
public   
IActionResult   
permisos   %
(  % &
)  & '
{!! 	
var"" 
permisos"" 
="" 
new"" 
Object"" %
(""% &
)""& '
;""' (
try## 
{$$ 
permisos%% 
=%% 
listarPermisos%% )
(%%) *
)%%* +
;%%+ ,
}'' 
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 
var++ 
st++ 
=++ 
new++ 

StackTrace++ '
(++' (
)++( )
;++) *
var,, 
sf,, 
=,, 
st,, 
.,, 
GetFrame,, $
(,,$ %
$num,,% &
),,& '
;,,' (

MethodBase-- 
site-- 
=--  !
e--" #
.--# $

TargetSite--$ .
;--. /
string.. 

methodName.. !
=.." #
site..$ (
==..) +
null.., 0
?..1 2
null..3 7
:..8 9
site..: >
...> ?
Name..? C
;..C D
General// 
.// 
CrearLogError// %
(//% &
sf//& (
.//( )
	GetMethod//) 2
(//2 3
)//3 4
.//4 5
Name//5 9
,//9 :
$str//; K
,//K L
e//M N
.//N O
Message//O V
,//V W
e//W X
.//X Y
Source//Y _
,//_ `
e//` a
.//a b

StackTrace//b l
,//l m

methodName//m w
,//w x
_config	//y 
.
// !
GetConnectionString
// 
(
// 
$str
// 
)
//  
)
//  ¡
;
//¡ ¢
}00 
return11 
Ok11 
(11 
permisos11 
)11 
;11  
}22 	
[44 	
HttpPost44	 
(44 
$str44 *
)44* +
]44+ ,
[55 	
	Authorize55	 
]55 
public66 
IActionResult66 "
listarPermisosUsuarios66 3
(663 4
[664 5
FromBody665 =
]66= >
permisos_usuII66? M
permisos_UsuII66N \
)66\ ]
{77 	
var88 
permisosUsu88 
=88 
new88 !
Object88" (
(88( )
)88) *
;88* +
try99 
{:: 
permisosUsu;; 
=;; 
_context;; &
.;;& '
permisos_usuIII;;' 6
.;;6 7
Where;;7 <
(;;< =
x;;= >
=>;;? A
x;;B C
.;;C D
usuario;;D K
==;;L N
permisos_UsuII;;O ]
.;;] ^
usuario;;^ e
||;;f h
x;;i j
.;;j k
cod_usuario;;k v
==;;w y
permisos_UsuII	;;z 
.
;; 
cod_usuario
;; 
)
;; 
.
;; 
ToList
;; 
(
;; 
)
;; 
;
;; 
}<< 
catch== 
(== 
	Exception== 
e== 
)== 
{>> 
var@@ 
st@@ 
=@@ 
new@@ 

StackTrace@@ '
(@@' (
)@@( )
;@@) *
varAA 
sfAA 
=AA 
stAA 
.AA 
GetFrameAA $
(AA$ %
$numAA% &
)AA& '
;AA' (

MethodBaseBB 
siteBB 
=BB  !
eBB" #
.BB# $

TargetSiteBB$ .
;BB. /
stringCC 

methodNameCC !
=CC" #
siteCC$ (
==CC) +
nullCC, 0
?CC1 2
nullCC3 7
:CC8 9
siteCC: >
.CC> ?
NameCC? C
;CCC D
GeneralDD 
.DD 
CrearLogErrorDD %
(DD% &
sfDD& (
.DD( )
	GetMethodDD) 2
(DD2 3
)DD3 4
.DD4 5
NameDD5 9
,DD9 :
$strDD; L
,DDL M
eDDN O
.DDO P
MessageDDP W
,DDW X
eDDX Y
.DDY Z
SourceDDZ `
,DD` a
eDDa b
.DDb c

StackTraceDDc m
,DDm n

methodNameDDn x
,DDx y
_config	DDz 
.
DD !
GetConnectionString
DD 
(
DD 
$str
DD  
)
DD  ¡
)
DD¡ ¢
;
DD¢ £
}EE 
returnGG 
OkGG 
(GG 
permisosUsuGG !
)GG! "
;GG" #
}HH 	
[II 	
HttpPostII	 
(II 
$strII (
)II( )
]II) *
[JJ 	
	AuthorizeJJ	 
]JJ 
publicKK 
IActionResultKK  
actulizarPermisosUsuKK 1
(KK1 2
dynamicKK2 9
dataKK: >
)KK> ?
{LL 	
tryMM 
{NN 
stringPP 
datPP 
=PP 
SystemPP #
.PP# $
TextPP$ (
.PP( )
JsonPP) -
.PP- .
JsonSerializerPP. <
.PP< =
	SerializePP= F
(PPF G
dataPPG K
)PPK L
;PPL M
ListQQ 
<QQ 
permisos_usuIIQQ #
>QQ# $
permisosQQ% -
=QQ. /
JsonConvertQQ0 ;
.QQ; <
DeserializeObjectQQ< M
<QQM N
ListQQN R
<QQR S
permisos_usuIIQQS a
>QQa b
>QQb c
(QQc d
datQQd g
)QQg h
;QQh i
foreachRR 
(RR 
permisos_usuIIRR &
permisoRR' .
inRR/ 1
permisosRR2 :
)RR: ;
{SS 
varTT 
datoTT 
=TT 
_contextTT '
.TT' (
permisos_usuIIITT( 7
.TT7 8
FirstOrDefaultTT8 F
(TTF G
xTTG H
=>TTI K
xTTL M
.TTM N
id_viewTTN U
==TTV X
permisoTTY `
.TT` a
id_viewTTa h
&&TTi k
xTTl m
.TTm n
usuarioTTn u
==TTv x
permiso	TTy 
.
TT 
usuario
TT 
)
TT 
;
TT 
ifVV 
(VV 
datoVV 
!=VV 
nullVV  $
)VV$ %
{WW 
ifXX 
(XX 
permisoXX #
.XX# $
autorizacionXX$ 0
==XX1 3
$strXX4 :
)XX: ;
{YY 
datoZZ  
.ZZ  !
autorizacionZZ! -
=ZZ. /
$strZZ0 3
;ZZ3 4
}[[ 
else\\ 
{]] 
dato^^  
.^^  !
autorizacion^^! -
=^^. /
$str^^0 3
;^^3 4
}__ 
if`` 
(`` 
permiso`` #
.``# $
pe1``$ '
==``( *
$str``+ 1
)``1 2
{aa 
datobb  
.bb  !
pe1bb! $
=bb% &
$strbb' *
;bb* +
}cc 
elsedd 
{ee 
datoff  
.ff  !
pe1ff! $
=ff% &
$strff' *
;ff* +
}gg 
ifhh 
(hh 
permisohh #
.hh# $
pe2hh$ '
==hh( *
$strhh+ 1
)hh1 2
{ii 
datojj  
.jj  !
pe2jj! $
=jj% &
$strjj' *
;jj* +
}kk 
elsell 
{mm 
datonn  
.nn  !
pe2nn! $
=nn% &
$strnn' *
;nn* +
}oo 
datopp 
.pp 
fecha_modificacionpp /
=pp0 1
permisopp2 9
.pp9 :
fecha_modificacionpp: L
;ppL M
_contextqq  
.qq  !
Updateqq! '
(qq' (
datoqq( ,
)qq, -
;qq- .
_contextrr  
.rr  !
SaveChangesrr! ,
(rr, -
)rr- .
;rr. /
}ss 
elsett 
{uu 
permisos_usuIIIww '
permisosAddww( 3
=ww4 5
newww6 9
permisos_usuIIIww: I
(wwI J
)wwJ K
;wwK L
permisosAddxx #
.xx# $
id_viewxx$ +
=xx, -
permisoxx. 5
.xx5 6
id_viewxx6 =
;xx= >
permisosAddyy #
.yy# $
cod_usuarioyy$ /
=yy0 1
permisoyy2 9
.yy9 :
cod_usuarioyy: E
;yyE F
permisosAddzz #
.zz# $

id_usuariozz$ .
=zz/ 0
permisozz1 8
.zz8 9

id_usuariozz9 C
;zzC D
permisosAdd{{ #
.{{# $
usuario{{$ +
={{, -
permiso{{. 5
.{{5 6
usuario{{6 =
;{{= >
if|| 
(|| 
permiso|| #
.||# $
autorizacion||$ 0
==||1 3
$str||4 :
)||: ;
{}} 
permisosAdd~~ '
.~~' (
autorizacion~~( 4
=~~5 6
$str~~7 :
;~~: ;
} 
else
 
{
 
permisosAdd
 '
.
' (
autorizacion
( 4
=
5 6
$str
7 :
;
: ;
}
 
if
 
(
 
permiso
 #
.
# $
pe1
$ '
==
( *
$str
+ 1
)
1 2
{
 
permisosAdd
 '
.
' (
pe1
( +
=
, -
$str
. 1
;
1 2
}
 
else
 
{
 
permisosAdd
 '
.
' (
pe1
( +
=
, -
$str
. 1
;
1 2
}
 
if
 
(
 
permiso
 #
.
# $
pe2
$ '
==
( *
$str
+ 1
)
1 2
{
 
permisosAdd
 '
.
' (
pe2
( +
=
, -
$str
. 1
;
1 2
}
 
else
 
{
 
permisosAdd
 '
.
' (
pe2
( +
=
, -
$str
. 1
;
1 2
}
 
permisosAdd
 #
.
# $
usuario_crea
$ 0
=
1 2
permiso
3 :
.
: ;
usuario_crea
; G
;
G H
permisosAdd
 #
.
# $
Fecha_creacion
$ 2
=
3 4
permiso
5 <
.
< =
Fecha_creacion
= K
;
K L
permisosAdd
 #
.
# $ 
fecha_modificacion
$ 6
=
7 8
permiso
9 @
.
@ A 
fecha_modificacion
A S
;
S T
permisosAdd
 #
.
# $
Estado
$ *
=
+ ,
$num
- .
;
. /
_context
  
.
  !
Add
! $
(
$ %
permisosAdd
% 0
)
0 1
;
1 2
_context
  
.
  !
SaveChanges
! ,
(
, -
)
- .
;
. /
}
 
}
 
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
   
var
¢¢ 
st
¢¢ 
=
¢¢ 
new
¢¢ 

StackTrace
¢¢ '
(
¢¢' (
)
¢¢( )
;
¢¢) *
var
££ 
sf
££ 
=
££ 
st
££ 
.
££ 
GetFrame
££ $
(
££$ %
$num
££% &
)
££& '
;
££' (

MethodBase
¤¤ 
site
¤¤ 
=
¤¤  !
e
¤¤" #
.
¤¤# $

TargetSite
¤¤$ .
;
¤¤. /
string
¥¥ 

methodName
¥¥ !
=
¥¥" #
site
¥¥$ (
==
¥¥) +
null
¥¥, 0
?
¥¥1 2
null
¥¥3 7
:
¥¥8 9
site
¥¥: >
.
¥¥> ?
Name
¥¥? C
;
¥¥C D
General
¦¦ 
.
¦¦ 
CrearLogError
¦¦ %
(
¦¦% &
sf
¦¦& (
.
¦¦( )
	GetMethod
¦¦) 2
(
¦¦2 3
)
¦¦3 4
.
¦¦4 5
Name
¦¦5 9
,
¦¦9 :
$str
¦¦; L
,
¦¦L M
e
¦¦N O
.
¦¦O P
Message
¦¦P W
,
¦¦W X
e
¦¦X Y
.
¦¦Y Z
Source
¦¦Z `
,
¦¦` a
e
¦¦a b
.
¦¦b c

StackTrace
¦¦c m
,
¦¦m n

methodName
¦¦n x
,
¦¦x y
_config¦¦z 
.¦¦ #
GetConnectionString¦¦ 
(¦¦ 
$str¦¦  
)¦¦  ¡
)¦¦¡ ¢
;¦¦¢ £
}
§§ 
return
©© 
Ok
©© 
(
©© 
)
©© 
;
©© 
}
ªª 	
public
«« 
Object
«« 
listarPermisos
«« $
(
««$ %
)
««% &
{
¬¬ 	
var
­­ 
permisos
­­ 
=
­­ 
_context
­­ #
.
­­# $
permisos_usuIII
­­$ 3
.
­­3 4
ToList
­­4 :
(
­­: ;
)
­­; <
;
­­< =
return
®® 
permisos
®® 
;
®® 
}
¯¯ 	
}
²² 
}³³ ¤
DE:\GITEA\siscointBKII\siscointBKII\Controllers\UsuariosController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UsuariosController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
UsuariosController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
}   	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
["" 	
	Authorize""	 
]"" 
public## 
IActionResult## 
Usuarios## %
(##% &
)##& '
{$$ 	
var%% 
currentUser%% 
=%% 
GetCurrentUser%% ,
(%%, -
)%%- .
;%%. /
return(( 
Ok(( 
((( 
currentUser(( !
)((! "
;((" #
})) 	
[** 	
HttpGet**	 
(** 
$str** 
)** 
]**  
[++ 	
	Authorize++	 
]++ 
public,, 
IActionResult,, 
tipoUsuario,, (
(,,( )
),,) *
{-- 	
var.. 
tipoUsuario.. 
=.. 
_context.. &
...& '
tipo_usuario..' 3
...3 4
ToList..4 :
(..: ;
)..; <
;..< =
return// 
Ok// 
(// 
tipoUsuario// !
)//! "
;//" #
}00 	
[22 	
HttpPost22	 
(22 
$str22 
)22 
]22  
[33 	
	Authorize33	 
]33 
public44 
IActionResult44 

getUsuario44 '
(44' (
[44( )
FromBody44) 1
]441 2
usuario443 :
user44; ?
)44? @
{55 	
List66 
<66  
dataBusquedaCompleta66 %
>66% &
busqueda66' /
=660 1
new662 5
List666 :
<66: ; 
dataBusquedaCompleta66; O
>66O P
(66P Q
)66Q R
;66R S
var77 
usuarios77 
=77 
_context77 #
.77# $
usuario77$ +
.77+ ,
Where77, 1
(771 2
x772 3
=>774 6
x778 9
.779 :
codigo77: @
==77A C
user77D H
.77H I
codigo77I O
||77P R
x77S T
.77T U
nombre_usuario77U c
.77c d
Contains77d l
(77l m
user77m q
.77q r
nombre_usuario	77r 
)
77 
||
77 
x
77 
.
77 
username
77 
==
77 
user
77 
.
77 
username
77  
)
77  ¡
.
77¡ ¢
ToList
77¢ ¨
(
77¨ ©
)
77© ª
;
77ª «
if88 
(88 
usuarios88 
==88 
null88  
)88  !
return99 
null99 
;99 
foreach;; 
(;; 
usuario;; 
item;;  
in;;! #
usuarios;;$ ,
);;, -
{<<  
dataBusquedaCompleta== $
busq==% )
===* +
new==, / 
dataBusquedaCompleta==0 D
(==D E
)==E F
;==F G
busq>> 
.>> 
id>> 
=>> 
item>> 
.>> 
id>> !
;>>! "
busq?? 
.?? 
valor1?? 
=?? 
item?? "
.??" #
codigo??# )
;??) *
busq@@ 
.@@ 
valor2@@ 
=@@ 
item@@ "
.@@" #
nombre_usuario@@# 1
;@@1 2
busqAA 
.AA 
valor3AA 
=AA 
itemAA "
.AA" #
usernameAA# +
;AA+ ,
busqBB 
.BB 
valor4BB 
=BB 
$strBB  
;BB  !
busqCC 
.CC 
valor5CC 
=CC 
$strCC  
;CC  !
busquedaDD 
.DD 
AddDD 
(DD 
busqDD !
)DD! "
;DD" #
}EE 
returnII 
OkII 
(II 
busquedaII 
)II 
;II  
}JJ 	
[LL 	
HttpPostLL	 
(LL 
$strLL  
)LL  !
]LL! "
[MM 	
	AuthorizeMM	 
]MM 
publicNN 
IActionResultNN 
getUsuarioIdNN )
(NN) *
[NN* +
FromBodyNN+ 3
]NN3 4
usuarioNN5 <
userNN= A
)NNA B
{OO 	
varPP 
usuariosPP 
=PP 
newPP 
ObjectPP %
(PP% &
)PP& '
;PP' (
tryQQ 
{RR 
usuariosSS 
=SS 
_contextSS #
.SS# $
usuarioSS$ +
.SS+ ,
WhereSS, 1
(SS1 2
xSS2 3
=>SS4 6
xSS7 8
.SS8 9
idSS9 ;
==SS< >
userSS? C
.SSC D
idSSD F
)SSF G
.SSG H
ToListSSH N
(SSN O
)SSO P
;SSP Q
ifTT 
(TT 
usuariosTT 
==TT 
nullTT  $
)TT$ %
returnUU 
nullUU 
;UU  
}VV 
catchWW 
(WW 
	ExceptionWW 
eWW 
)WW 
{XX 
varZZ 
stZZ 
=ZZ 
newZZ 

StackTraceZZ '
(ZZ' (
)ZZ( )
;ZZ) *
var[[ 
sf[[ 
=[[ 
st[[ 
.[[ 
GetFrame[[ $
([[$ %
$num[[% &
)[[& '
;[[' (

MethodBase\\ 
site\\ 
=\\  !
e\\" #
.\\# $

TargetSite\\$ .
;\\. /
string]] 

methodName]] !
=]]" #
site]]$ (
==]]) +
null]], 0
?]]1 2
null]]3 7
:]]8 9
site]]: >
.]]> ?
Name]]? C
;]]C D
General^^ 
.^^ 
CrearLogError^^ %
(^^% &
sf^^& (
.^^( )
	GetMethod^^) 2
(^^2 3
)^^3 4
.^^4 5
Name^^5 9
,^^9 :
$str^^; D
,^^D E
e^^F G
.^^G H
Message^^H O
,^^O P
e^^P Q
.^^Q R
Source^^R X
,^^X Y
e^^Y Z
.^^Z [

StackTrace^^[ e
,^^e f

methodName^^f p
,^^p q
_config^^r y
.^^y z 
GetConnectionString	^^z 
(
^^ 
$str
^^ 
)
^^ 
)
^^ 
;
^^ 
}__ 
return`` 
Ok`` 
(`` 
usuarios`` 
)`` 
;``  
}aa 	
[ll 	
HttpGetll	 
(ll 
$strll !
)ll! "
]ll" #
publicmm 
IActionResultmm 
listarUsuariosmm +
(mm+ ,
)mm, -
{nn 	
varoo 
usuariosoo 
=oo 
_contextoo #
.oo# $
usuariooo$ +
.oo+ ,
ToListoo, 2
(oo2 3
)oo3 4
;oo4 5
returnpp 
Okpp 
(pp 
usuariospp 
)pp 
;pp  
}qq 	
[rr 	
HttpPostrr	 
(rr 
$strrr "
)rr" #
]rr# $
[ss 	
	Authorizess	 
]ss 
publictt 
IActionResulttt 
Addtt  
(tt  !
dynamictt! (
datatt) -
)tt- .
{uu 	
varvv 
datovv 
=vv 
newvv 
Objectvv !
(vv! "
)vv" #
;vv# $
tryww 
{xx 
stringyy 
datyy 
=yy 
Systemyy #
.yy# $
Textyy$ (
.yy( )
Jsonyy) -
.yy- .
JsonSerializeryy. <
.yy< =
	Serializeyy= F
(yyF G
datayyG K
)yyK L
;yyL M
usuariozz 
usuariozz 
=zz  !
JsonConvertzz" -
.zz- .
DeserializeObjectzz. ?
<zz? @
usuariozz@ G
>zzG H
(zzH I
datzzI L
)zzL M
;zzM N
string{{ 

nombreCapa{{ !
={{" #
$str{{$ 3
+{{4 5
usuario{{6 =
.{{= >
nombre_usuario{{> L
+{{M N
usuario{{O V
.{{V W
pssword{{W ^
;{{^ _
dato}} 
=}} 
_context}} 
.}}  
usuario}}  '
.}}' (
FirstOrDefault}}( 6
(}}6 7
x}}7 8
=>}}9 ;
x}}< =
.}}= >
codigo}}> D
==}}E G
usuario}}H O
.}}O P
codigo}}P V
||}}W Y
x}}Z [
.}}[ \
username}}\ d
==}}e g
usuario}}h o
.}}o p
username}}p x
)}}x y
;}}y z
if 
( 
dato 
== 
null  
)  !
{
 
_context
 
.
 
Add
  
(
  !
usuario
! (
)
( )
;
) *
_context
 
.
 
SaveChanges
 (
(
( )
)
) *
;
* +
}
 
else
 
{
 
return
 

BadRequest
 %
(
% &
)
& '
;
' (
}
 
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; D
,
D E
e
F G
.
G H
Message
H O
,
O P
e
P Q
.
Q R
Source
R X
,
X Y
e
Y Z
.
Z [

StackTrace
[ e
,
e f

methodName
f p
,
p q
_config
r y
.
y z"
GetConnectionStringz 
( 
$str 
) 
) 
; 
}
 
return
 
Ok
 
(
 
)
 
;
 
}
 	
[
 	
HttpPut
	 
(
 
$str
 %
)
% &
]
& '
[
 	
	Authorize
	 
]
 
public
 
IActionResult
 
Edit
 !
(
! "
int
" %
id
& (
,
( )
[
) *
FromBody
* 2
]
2 3
usuario
4 ;
usuarios
< D
)
D E
{
 	
Boolean
 
EsEditar
 
=
 
false
 $
;
$ %
try
 
{
 
if
¡¡ 
(
¡¡ 
id
¡¡ 
!=
¡¡ 
usuarios
¡¡ "
.
¡¡" #
id
¡¡# %
)
¡¡% &
{
¢¢ 
return
££ 

BadRequest
££ %
(
££% &
)
££& '
;
££' (
}
¤¤ 
string
¥¥ 
_nombre_usuario
¥¥ &
=
¥¥' (
usuarios
¥¥) 1
.
¥¥1 2
nombre_usuario
¥¥2 @
;
¥¥@ A
string
¦¦ 
nombre_usuario
¦¦ %
=
¦¦& '
Regex
¦¦( -
.
¦¦- .
Replace
¦¦. 5
(
¦¦5 6
_nombre_usuario
¦¦6 E
,
¦¦E F
$str
¦¦G L
,
¦¦L M
$str
¦¦N P
)
¦¦P Q
;
¦¦Q R
string
§§ 

nombreCapa
§§ !
=
§§" #
$str
§§$ 0
+
§§0 1
nombre_usuario
§§2 @
+
§§A B
usuarios
§§C K
.
§§K L
pssword
§§L S
;
§§S T
usuario
¨¨ 
users
¨¨ 
=
¨¨ 
new
¨¨  #
usuario
¨¨$ +
(
¨¨+ ,
)
¨¨, -
;
¨¨- .
users
©© 
.
©© 
id
©© 
=
©© 
usuarios
©© #
.
©©# $
id
©©$ &
;
©©& '
users
ªª 
.
ªª 
codigo
ªª 
=
ªª 
usuarios
ªª '
.
ªª' (
codigo
ªª( .
;
ªª. /
users
«« 
.
«« 
nombre_usuario
«« $
=
««% &
usuarios
««' /
.
««/ 0
nombre_usuario
««0 >
;
««> ?
users
¬¬ 
.
¬¬ 
username
¬¬ 
=
¬¬  
usuarios
¬¬! )
.
¬¬) *
username
¬¬* 2
;
¬¬2 3
users
­­ 
.
­­ 
password
­­ 
=
­­  
usuarios
­­! )
.
­­) *
password
­­* 2
;
­­2 3
users
¯¯ 
.
¯¯ 
id_tipo_usuario
¯¯ %
=
¯¯& '
usuarios
¯¯( 0
.
¯¯0 1
id_tipo_usuario
¯¯1 @
;
¯¯@ A
users
°° 
.
°° 
estado
°° 
=
°° 
usuarios
°° '
.
°°' (
estado
°°( .
;
°°. /
users
±± 
.
±± 
cargo
±± 
=
±± 
usuarios
±± &
.
±±& '
cargo
±±' ,
;
±±, -
users
²² 
.
²² 
area
²² 
=
²² 
usuarios
²² %
.
²²% &
area
²²& *
;
²²* +
users
³³ 
.
³³ 
modulo
³³ 
=
³³ 
usuarios
³³ '
.
³³' (
modulo
³³( .
;
³³. /
_context
µµ 
.
µµ 
Update
µµ 
(
µµ  
users
µµ  %
)
µµ% &
;
µµ& '
_context
¶¶ 
.
¶¶ 
SaveChanges
¶¶ $
(
¶¶$ %
)
¶¶% &
;
¶¶& '
}
¸¸ 
catch
¹¹ 
(
¹¹ 
	Exception
¹¹ 
e
¹¹ 
)
¹¹ 
{
ºº 
var
¼¼ 
st
¼¼ 
=
¼¼ 
new
¼¼ 

StackTrace
¼¼ '
(
¼¼' (
)
¼¼( )
;
¼¼) *
var
½½ 
sf
½½ 
=
½½ 
st
½½ 
.
½½ 
GetFrame
½½ $
(
½½$ %
$num
½½% &
)
½½& '
;
½½' (

MethodBase
¾¾ 
site
¾¾ 
=
¾¾  !
e
¾¾" #
.
¾¾# $

TargetSite
¾¾$ .
;
¾¾. /
string
¿¿ 

methodName
¿¿ !
=
¿¿" #
site
¿¿$ (
==
¿¿) +
null
¿¿, 0
?
¿¿1 2
null
¿¿3 7
:
¿¿8 9
site
¿¿: >
.
¿¿> ?
Name
¿¿? C
;
¿¿C D
General
ÀÀ 
.
ÀÀ 
CrearLogError
ÀÀ %
(
ÀÀ% &
sf
ÀÀ& (
.
ÀÀ( )
	GetMethod
ÀÀ) 2
(
ÀÀ2 3
)
ÀÀ3 4
.
ÀÀ4 5
Name
ÀÀ5 9
,
ÀÀ9 :
$str
ÀÀ; D
,
ÀÀD E
e
ÀÀF G
.
ÀÀG H
Message
ÀÀH O
,
ÀÀO P
e
ÀÀP Q
.
ÀÀQ R
Source
ÀÀR X
,
ÀÀX Y
e
ÀÀY Z
.
ÀÀZ [

StackTrace
ÀÀ[ e
,
ÀÀe f

methodName
ÀÀf p
,
ÀÀp q
_config
ÀÀr y
.
ÀÀy z"
GetConnectionStringÀÀz 
(ÀÀ 
$strÀÀ 
)ÀÀ 
)ÀÀ 
;ÀÀ 
}
ÁÁ 
return
ÂÂ 
Ok
ÂÂ 
(
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÃÃ 	
private
ÆÆ 
UsuariosModel
ÆÆ 
GetCurrentUser
ÆÆ ,
(
ÆÆ, -
)
ÆÆ- .
{
ÇÇ 	
var
ÈÈ 
identity
ÈÈ 
=
ÈÈ 
HttpContext
ÈÈ &
.
ÈÈ& '
User
ÈÈ' +
.
ÈÈ+ ,
Identity
ÈÈ, 4
as
ÈÈ5 7
ClaimsIdentity
ÈÈ8 F
;
ÈÈF G
if
ÉÉ 
(
ÉÉ 
identity
ÉÉ 
==
ÉÉ 
null
ÉÉ  
)
ÉÉ  !
return
ÊÊ 
null
ÊÊ 
;
ÊÊ 
var
ÌÌ 

userclaims
ÌÌ 
=
ÌÌ 
identity
ÌÌ %
.
ÌÌ% &
Claims
ÌÌ& ,
;
ÌÌ, -
return
ÍÍ 
new
ÍÍ 
UsuariosModel
ÍÍ $
{
ÎÎ 
codigo
ÏÏ 
=
ÏÏ 

userclaims
ÏÏ #
.
ÏÏ# $
FirstOrDefault
ÏÏ$ 2
(
ÏÏ2 3
o
ÏÏ3 4
=>
ÏÏ5 7
o
ÏÏ8 9
.
ÏÏ9 :
Type
ÏÏ: >
==
ÏÏ? A

ClaimTypes
ÏÏB L
.
ÏÏL M
SerialNumber
ÏÏM Y
)
ÏÏY Z
?
ÏÏZ [
.
ÏÏ[ \
Value
ÏÏ\ a
,
ÏÏa b
nombre_usuario
ÐÐ 
=
ÐÐ  

userclaims
ÐÐ! +
.
ÐÐ+ ,
FirstOrDefault
ÐÐ, :
(
ÐÐ: ;
o
ÐÐ; <
=>
ÐÐ= ?
o
ÐÐ@ A
.
ÐÐA B
Type
ÐÐB F
==
ÐÐG I

ClaimTypes
ÐÐJ T
.
ÐÐT U
Name
ÐÐU Y
)
ÐÐY Z
?
ÐÐZ [
.
ÐÐ[ \
Value
ÐÐ\ a
,
ÐÐa b
username
ÑÑ 
=
ÑÑ 

userclaims
ÑÑ %
.
ÑÑ% &
FirstOrDefault
ÑÑ& 4
(
ÑÑ4 5
o
ÑÑ5 6
=>
ÑÑ7 9
o
ÑÑ: ;
.
ÑÑ; <
Type
ÑÑ< @
==
ÑÑA C

ClaimTypes
ÑÑD N
.
ÑÑN O
NameIdentifier
ÑÑO ]
)
ÑÑ] ^
?
ÑÑ^ _
.
ÑÑ_ `
Value
ÑÑ` e
}
ÒÒ 
;
ÒÒ 
}
ÓÓ 	
public
ÞÞ 
static
ÞÞ 
string
ÞÞ 
ToSha256
ÞÞ %
(
ÞÞ% &
string
ÞÞ& ,
password
ÞÞ- 5
)
ÞÞ5 6
{
ßß 	
using
àà 
var
àà 
sha256
àà 
=
àà 
SHA256
àà %
.
àà% &
Create
àà& ,
(
àà, -
)
àà- .
;
àà. /
byte
áá 
[
áá 
]
áá 
bytes
áá 
=
áá 
sha256
áá !
.
áá! "
ComputeHash
áá" -
(
áá- .
Encoding
áá. 6
.
áá6 7
UTF8
áá7 ;
.
áá; <
GetBytes
áá< D
(
ááD E
password
ááE M
)
ááM N
)
ááN O
;
ááO P
var
ãã 
sb
ãã 
=
ãã 
new
ãã 
StringBuilder
ãã &
(
ãã& '
)
ãã' (
;
ãã( )
for
ää 
(
ää 
int
ää 
i
ää 
=
ää 
$num
ää 
;
ää 
i
ää 
<
ää 
bytes
ää $
.
ää$ %
Length
ää% +
;
ää+ ,
i
ää- .
++
ää. 0
)
ää0 1
{
åå 
sb
ææ 
.
ææ 
Append
ææ 
(
ææ 
bytes
ææ 
[
ææ  
i
ææ  !
]
ææ! "
.
ææ" #
ToString
ææ# +
(
ææ+ ,
$str
ææ, 0
)
ææ0 1
)
ææ1 2
;
ææ2 3
}
çç 
return
èè 
sb
èè 
.
èè 
ToString
èè 
(
èè 
)
èè  
;
èè  !
}
éé 	
}
êê 
}ëë ÊÜ
AE:\GITEA\siscointBKII\siscointBKII\Controllers\ViewsController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ViewsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
ViewsController 
( 
AplicationDbContext 2
context3 :
,: ;
IConfiguration< J
configK Q
)Q R
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
[ 	
	Authorize	 
] 
public 
IActionResult 
views "
(" #
)# $
{   	
string!! 
username!! 
=!! 
$str!!  
;!!  !
List## 
<## 
viewsPermisos## 
>## 
viewsPermisos##  -
=##. /
new##0 3
List##4 8
<##8 9
viewsPermisos##9 F
>##F G
(##G H
)##H I
;##I J
try$$ 
{%% 
viewsPermisos&& 
=&& !
getListVistasPermisos&&  5
(&&5 6
username&&6 >
)&&> ?
;&&? @
}'' 
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 
var++ 
st++ 
=++ 
new++ 

StackTrace++ '
(++' (
)++( )
;++) *
var,, 
sf,, 
=,, 
st,, 
.,, 
GetFrame,, $
(,,$ %
$num,,% &
),,& '
;,,' (

MethodBase-- 
site-- 
=--  !
e--" #
.--# $

TargetSite--$ .
;--. /
string.. 

methodName.. !
=.." #
site..$ (
==..) +
null.., 0
?..1 2
null..3 7
:..8 9
site..: >
...> ?
Name..? C
;..C D
General// 
.// 
CrearLogError// %
(//% &
sf//& (
.//( )
	GetMethod//) 2
(//2 3
)//3 4
.//4 5
Name//5 9
,//9 :
$str//; K
,//K L
e//M N
.//N O
Message//O V
,//V W
e//W X
.//X Y
Source//Y _
,//_ `
e//` a
.//a b

StackTrace//b l
,//l m

methodName//m w
,//w x
_config	//y 
.
// !
GetConnectionString
// 
(
// 
$str
// 
)
//  
)
//  ¡
;
//¡ ¢
}00 
return22 
Ok22 
(22 
viewsPermisos22 #
)22# $
;22$ %
}33 	
[44 	
HttpPost44	 
(44 
$str44 
)44 
]44 
[55 	
	Authorize55	 
]55 
public66 
IActionResult66 

viewsUsers66 '
(66' (
[66( )
FromBody66) 1
]661 2
permisos_usuII663 A
permisos_UsuII66B P
)66P Q
{77 	
string88 
username88 
=88 
$str88  
;88  !
List99 
<99 
viewsPermisos99 
>99 
viewsPermisos99  -
=99. /
new990 3
List994 8
<998 9
viewsPermisos999 F
>99F G
(99G H
)99H I
;99I J
try:: 
{;; 
var<< 
usuarioPermisos<< #
=<<$ %
_context<<& .
.<<. /
permisos_usuIII<</ >
.<<> ?
FirstOrDefault<<? M
(<<M N
x<<N O
=><<P R
x<<S T
.<<T U
usuario<<U \
==<<] _
permisos_UsuII<<` n
.<<n o
usuario<<o v
)<<v w
;<<w x
if== 
(== 
usuarioPermisos== #
!===$ &
null==' +
)==+ ,
username>> 
=>> 
usuarioPermisos>> .
.>>. /
usuario>>/ 6
.>>6 7
ToString>>7 ?
(>>? @
)>>@ A
;>>A B
viewsPermisos@@ 
=@@ !
getListVistasPermisos@@  5
(@@5 6
username@@6 >
)@@> ?
;@@? @
}AA 
catchBB 
(BB 
	ExceptionBB 
eBB 
)BB 
{CC 
varEE 
stEE 
=EE 
newEE 

StackTraceEE '
(EE' (
)EE( )
;EE) *
varFF 
sfFF 
=FF 
stFF 
.FF 
GetFrameFF $
(FF$ %
$numFF% &
)FF& '
;FF' (

MethodBaseGG 
siteGG 
=GG  !
eGG" #
.GG# $

TargetSiteGG$ .
;GG. /
stringHH 

methodNameHH !
=HH" #
siteHH$ (
==HH) +
nullHH, 0
?HH1 2
nullHH3 7
:HH8 9
siteHH: >
.HH> ?
NameHH? C
;HHC D
GeneralII 
.II 
CrearLogErrorII %
(II% &
sfII& (
.II( )
	GetMethodII) 2
(II2 3
)II3 4
.II4 5
NameII5 9
,II9 :
$strII; L
,IIL M
eIIN O
.IIO P
MessageIIP W
,IIW X
eIIX Y
.IIY Z
SourceIIZ `
,II` a
eIIa b
.IIb c

StackTraceIIc m
,IIm n

methodNameIIn x
,IIx y
_config	IIz 
.
II !
GetConnectionString
II 
(
II 
$str
II  
)
II  ¡
)
II¡ ¢
;
II¢ £
}JJ 
returnKK 
OkKK 
(KK 
viewsPermisosKK #
)KK# $
;KK$ %
}LL 	
[NN 	
HttpPostNN	 
(NN 
$strNN #
)NN# $
]NN$ %
[OO 	
	AuthorizeOO	 
]OO 
publicPP 
IActionResultPP 
listarMenuPadrePP ,
(PP, -
[PP- .
FromBodyPP. 6
]PP6 7
usuarioPP8 ?
usuarioPP@ G
)PPG H
{QQ 	
ListRR 
<RR 
listar_menu_padreRR "
>RR" #
_menu_padreRR$ /
=RR0 1
newRR2 5
ListRR6 :
<RR: ;
listar_menu_padreRR; L
>RRL M
(RRM N
)RRN O
;RRO P
trySS 
{TT 
stringVV 
_usuarioVV 
=VV  !
usuarioVV" )
.VV) *
usernameVV* 2
;VV2 3
_menu_padreWW 
=WW 
getListMenuPadreWW .
(WW. /
_usuarioWW/ 7
)WW7 8
;WW8 9
}XX 
catchYY 
(YY 
	ExceptionYY 
eYY 
)YY 
{ZZ 
var[[ 
st[[ 
=[[ 
new[[ 

StackTrace[[ '
([[' (
)[[( )
;[[) *
var\\ 
sf\\ 
=\\ 
st\\ 
.\\ 
GetFrame\\ $
(\\$ %
$num\\% &
)\\& '
;\\' (

MethodBase]] 
site]] 
=]]  !
e]]" #
.]]# $

TargetSite]]$ .
;]]. /
string^^ 

methodName^^ !
=^^" #
site^^$ (
==^^) +
null^^, 0
?^^1 2
null^^3 7
:^^8 9
site^^: >
.^^> ?
Name^^? C
;^^C D
General__ 
.__ 
CrearLogError__ %
(__% &
sf__& (
.__( )
	GetMethod__) 2
(__2 3
)__3 4
.__4 5
Name__5 9
,__9 :
$str__; B
,__B C
e__D E
.__E F
Message__F M
,__M N
e__O P
.__P Q
Source__Q W
,__W X
e__Y Z
.__Z [

StackTrace__[ e
,__e f

methodName__g q
,__q r
_config__s z
.__z { 
GetConnectionString	__{ 
(
__ 
$str
__ 
)
__ 
)
__ 
;
__ 
}`` 
returnaa 
Okaa 
(aa 
_menu_padreaa !
)aa! "
;aa" #
}bb 	
[dd 	
HttpPostdd	 
(dd 
$strdd "
)dd" #
]dd# $
[ee 	
	Authorizeee	 
]ee 
publicff 
IActionResultff 
listarMenuHijoff +
(ff+ ,
[ff, -
FromBodyff- 5
]ff5 6
usuarioff7 >
usuarioff? F
)ffF G
{gg 	
Listhh 
<hh 
viewshh 
>hh 

_menu_hijohh "
=hh# $
newhh% (
Listhh) -
<hh- .
viewshh. 3
>hh3 4
(hh4 5
)hh5 6
;hh6 7
tryii 
{jj 
stringkk 
	_ussuariokk  
=kk! "
usuariokk# *
.kk* +
usernamekk+ 3
;kk3 4

_menu_hijoll 
=ll 
getListMenuHijoll ,
(ll, -
	_ussuarioll- 6
)ll6 7
;ll7 8
}mm 
catchnn 
(nn 
	Exceptionnn 
enn 
)nn 
{oo 
varpp 
stpp 
=pp 
newpp 

StackTracepp '
(pp' (
)pp( )
;pp) *
varqq 
sfqq 
=qq 
stqq 
.qq 
GetFrameqq $
(qq$ %
$numqq% &
)qq& '
;qq' (

MethodBaserr 
siterr 
=rr  !
err" #
.rr# $

TargetSiterr$ .
;rr. /
stringss 

methodNamess !
=ss" #
sitess$ (
==ss) +
nullss, 0
?ss1 2
nullss3 7
:ss8 9
sitess: >
.ss> ?
Namess? C
;ssC D
Generaltt 
.tt 
CrearLogErrortt %
(tt% &
sftt& (
.tt( )
	GetMethodtt) 2
(tt2 3
)tt3 4
.tt4 5
Namett5 9
,tt9 :
$strtt; B
,ttB C
ettD E
.ttE F
MessagettF M
,ttM N
ettO P
.ttP Q
SourcettQ W
,ttW X
ettY Z
.ttZ [

StackTracett[ e
,tte f

methodNamettg q
,ttq r
_configtts z
.ttz { 
GetConnectionString	tt{ 
(
tt 
$str
tt 
)
tt 
)
tt 
;
tt 
}uu 
returnvv 
Okvv 
(vv 

_menu_hijovv  
)vv  !
;vv! "
}ww 	
public
 
Object
 
getListViews
 "
(
" #
)
# $
{
 	
var
 
vistas
 
=
 
_context
 !
.
! "
views
" '
.
' (
ToList
( .
(
. /
)
/ 0
;
0 1
return
 
vistas
 
;
 
}
 	
public
 
List
 
<
 
listar_menu_padre
 %
>
% &
getListMenuPadre
' 7
(
7 8
string
8 >
username
? G
)
G H
{
 	
List
 
<
 
listar_menu_padre
 "
>
" #

menu_padre
$ .
=
/ 0
new
1 4
List
5 9
<
9 :
listar_menu_padre
: K
>
K L
(
L M
)
M N
;
N O
string
 
query
 
=
 
$str
 
;
 
try
 
{
 
if
 
(
 
!
 
string
 
.
 
IsNullOrEmpty
 )
(
) *
username
* 2
)
2 3
)
3 4
{
 
query
 
=
 
$str 
+ 
$str
 2
+
2 3
username
4 <
+
= >
$str
? Y
;
Y Z
using
 
(
 
SqlConnection
 '
con
( +
=
, -
new
. 1
SqlConnection
2 ?
(
? @
_config
@ G
.
G H!
GetConnectionString
H [
(
[ \
$str
\ f
)
f g
)
g h
)
h i
{
 
using
 
(
 

SqlCommand
 (
cmd
) ,
=
- .
new
/ 2

SqlCommand
3 =
(
= >
query
> C
)
C D
)
D E
{
 
cmd
 
.
  

Connection
  *
=
+ ,
con
- 0
;
0 1
con
 
.
  
Open
  $
(
$ %
)
% &
;
& '
using
 !
(
! "
SqlDataReader
" /
srd
0 3
=
4 5
cmd
6 9
.
9 :
ExecuteReader
: G
(
G H
)
H I
)
I J
{
 
while
  %
(
& '
srd
' *
.
* +
Read
+ /
(
/ 0
)
0 1
)
1 2
{
  !

menu_padre
$ .
.
. /
Add
/ 2
(
2 3
new
3 6
listar_menu_padre
7 H
{
  $ %

menu_padre
¡¡( 2
=
¡¡3 4
srd
¡¡5 8
[
¡¡8 9
$str
¡¡9 E
]
¡¡E F
+
¡¡G H
$str
¡¡I K
}
¢¢$ %
)
¢¢% &
;
¢¢& '
}
££  !
}
¤¤ 
con
¥¥ 
.
¥¥  
Close
¥¥  %
(
¥¥% &
)
¥¥& '
;
¥¥' (
}
¦¦ 
}
§§ 
}
¨¨ 
}
©© 
catch
ªª 
(
ªª 
	Exception
ªª 
e
ªª 
)
ªª 
{
«« 
var
¬¬ 
st
¬¬ 
=
¬¬ 
new
¬¬ 

StackTrace
¬¬ '
(
¬¬' (
)
¬¬( )
;
¬¬) *
var
­­ 
sf
­­ 
=
­­ 
st
­­ 
.
­­ 
GetFrame
­­ $
(
­­$ %
$num
­­% &
)
­­& '
;
­­' (

MethodBase
®® 
site
®® 
=
®®  !
e
®®" #
.
®®# $

TargetSite
®®$ .
;
®®. /
string
¯¯ 

methodName
¯¯ !
=
¯¯" #
site
¯¯$ (
==
¯¯) +
null
¯¯, 0
?
¯¯1 2
null
¯¯3 7
:
¯¯8 9
site
¯¯: >
.
¯¯> ?
Name
¯¯? C
;
¯¯C D
General
°° 
.
°° 
CrearLogError
°° %
(
°°% &
sf
°°& (
.
°°( )
	GetMethod
°°) 2
(
°°2 3
)
°°3 4
.
°°4 5
Name
°°5 9
,
°°9 :
$str
°°; B
,
°°B C
e
°°D E
.
°°E F
Message
°°F M
,
°°M N
e
°°O P
.
°°P Q
Source
°°Q W
,
°°W X
e
°°Y Z
.
°°Z [

StackTrace
°°[ e
,
°°e f

methodName
°°g q
,
°°q r
_config
°°s z
.
°°z {"
GetConnectionString°°{ 
(°° 
$str°° 
)°° 
)°° 
;°° 
}
±± 
return
²² 

menu_padre
²² 
;
²² 
}
³³ 	
public
¶¶ 
List
¶¶ 
<
¶¶ 
views
¶¶ 
>
¶¶ 
getListMenuHijo
¶¶ *
(
¶¶* +
string
¶¶+ 1
username
¶¶2 :
)
¶¶: ;
{
·· 	
List
¸¸ 
<
¸¸ 
views
¸¸ 
>
¸¸ 
	menu_hijo
¸¸ !
=
¸¸" #
new
¸¸$ '
List
¸¸( ,
<
¸¸, -
views
¸¸- 2
>
¸¸2 3
(
¸¸3 4
)
¸¸4 5
;
¸¸5 6
try
ºº 
{
»» 
var
¼¼ 
data
¼¼ 
=
¼¼ 
(
¼¼ 
from
¼¼  
v
¼¼! "
in
¼¼# %
_context
¼¼& .
.
¼¼. /
views
¼¼/ 4
join
½½ 
pe
½½ 
in
½½  "
_context
½½# +
.
½½+ ,
permisos_usuIII
½½, ;
on
½½< >
v
½½? @
.
½½@ A
id_vista
½½A I
equals
½½J P
pe
½½Q S
.
½½S T
id_view
½½T [
where
¾¾ 
(
¾¾ 
pe
¾¾ !
.
¾¾! "
usuario
¾¾" )
==
¾¾* ,
username
¾¾- 5
&&
¾¾6 8
v
¾¾9 :
.
¾¾: ;
estado
¾¾; A
==
¾¾B D
$num
¾¾E F
)
¾¾F G
select
¿¿ 
new
¿¿ "
{
ÀÀ 
id
ÁÁ 
=
ÁÁ  
v
ÁÁ! "
.
ÁÁ" #
id
ÁÁ# %
,
ÁÁ% &
id_vista
ÂÂ $
=
ÂÂ% &
v
ÂÂ' (
.
ÂÂ( )
id_vista
ÂÂ) 1
,
ÂÂ1 2
name_module
ÃÃ '
=
ÃÃ( )
v
ÃÃ* +
.
ÃÃ+ ,
name_module
ÃÃ, 7
,
ÃÃ7 8
module
ÄÄ "
=
ÄÄ# $
v
ÄÄ% &
.
ÄÄ& '
module
ÄÄ' -
,
ÄÄ- .
icon
ÅÅ  
=
ÅÅ! "
v
ÅÅ# $
.
ÅÅ$ %
icon
ÅÅ% )
,
ÅÅ) *
url
ÆÆ 
=
ÆÆ  !
v
ÆÆ" #
.
ÆÆ# $
url
ÆÆ$ '
,
ÆÆ' (
visble
ÇÇ "
=
ÇÇ# $
v
ÇÇ% &
.
ÇÇ& '
visible
ÇÇ' .
,
ÇÇ. /
routeurl
ÈÈ $
=
ÈÈ% &
v
ÈÈ' (
.
ÈÈ( )
routeurl
ÈÈ) 1
,
ÈÈ1 2

menu_padre
ÉÉ &
=
ÉÉ' (
v
ÉÉ) *
.
ÉÉ* +

menu_padre
ÉÉ+ 5
,
ÉÉ5 6
estado
ÊÊ "
=
ÊÊ# $
v
ÊÊ% &
.
ÊÊ& '
estado
ÊÊ' -
}
ËË 
)
ËË 
.
ËË 
ToList
ËË !
(
ËË! "
)
ËË" #
;
ËË# $
foreach
ÌÌ 
(
ÌÌ 
var
ÌÌ 
result
ÌÌ !
in
ÌÌ" $
data
ÌÌ% )
)
ÌÌ) *
{
ÍÍ 
	menu_hijo
ÎÎ 
.
ÎÎ 
Add
ÎÎ !
(
ÎÎ! "
new
ÎÎ" %
views
ÎÎ& +
{
ÏÏ 
id
ÐÐ 
=
ÐÐ 
result
ÐÐ #
.
ÐÐ# $
id
ÐÐ$ &
,
ÐÐ& '
id_vista
ÑÑ  
=
ÑÑ! "
result
ÑÑ# )
.
ÑÑ) *
id_vista
ÑÑ* 2
,
ÑÑ2 3
name_module
ÒÒ #
=
ÒÒ$ %
result
ÒÒ& ,
.
ÒÒ, -
name_module
ÒÒ- 8
,
ÒÒ8 9
module
ÓÓ 
=
ÓÓ  
result
ÓÓ! '
.
ÓÓ' (
module
ÓÓ( .
,
ÓÓ. /
icon
ÔÔ 
=
ÔÔ 
result
ÔÔ %
.
ÔÔ% &
icon
ÔÔ& *
,
ÔÔ* +
visible
ÕÕ 
=
ÕÕ  !
result
ÕÕ" (
.
ÕÕ( )
visble
ÕÕ) /
,
ÕÕ/ 0
routeurl
ÖÖ  
=
ÖÖ! "
result
ÖÖ# )
.
ÖÖ) *
routeurl
ÖÖ* 2
,
ÖÖ2 3

menu_padre
×× "
=
××# $
result
××% +
.
××+ ,

menu_padre
××, 6
,
××6 7
estado
ØØ 
=
ØØ  
result
ØØ! '
.
ØØ' (
estado
ØØ( .
}
ÙÙ 
)
ÙÙ 
;
ÙÙ 
}
ÚÚ 
}
ÜÜ 
catch
ÝÝ 
(
ÝÝ 
	Exception
ÝÝ 
e
ÝÝ 
)
ÝÝ 
{
ÞÞ 
var
ßß 
st
ßß 
=
ßß 
new
ßß 

StackTrace
ßß '
(
ßß' (
)
ßß( )
;
ßß) *
var
àà 
sf
àà 
=
àà 
st
àà 
.
àà 
GetFrame
àà $
(
àà$ %
$num
àà% &
)
àà& '
;
àà' (

MethodBase
áá 
site
áá 
=
áá  !
e
áá" #
.
áá# $

TargetSite
áá$ .
;
áá. /
string
ââ 

methodName
ââ !
=
ââ" #
site
ââ$ (
==
ââ) +
null
ââ, 0
?
ââ1 2
null
ââ3 7
:
ââ8 9
site
ââ: >
.
ââ> ?
Name
ââ? C
;
ââC D
General
ãã 
.
ãã 
CrearLogError
ãã %
(
ãã% &
sf
ãã& (
.
ãã( )
	GetMethod
ãã) 2
(
ãã2 3
)
ãã3 4
.
ãã4 5
Name
ãã5 9
,
ãã9 :
$str
ãã; B
,
ããB C
e
ããD E
.
ããE F
Message
ããF M
,
ããM N
e
ããO P
.
ããP Q
Source
ããQ W
,
ããW X
e
ããY Z
.
ããZ [

StackTrace
ãã[ e
,
ããe f

methodName
ããg q
,
ããq r
_config
ããs z
.
ããz {"
GetConnectionStringãã{ 
(ãã 
$strãã 
)ãã 
)ãã 
;ãã 
}
ää 
return
ææ 
	menu_hijo
ææ 
;
ææ 
}
çç 	
public
éé 
List
éé 
<
éé 
viewsPermisos
éé !
>
éé! "#
getListVistasPermisos
éé# 8
(
éé8 9
string
éé9 ?
username
éé@ H
)
ééH I
{
êê 	
var
ëë 
usuariospermiso
ëë 
=
ëë  !
new
ëë" %
Object
ëë& ,
(
ëë, -
)
ëë- .
;
ëë. /
List
ìì 
<
ìì 
viewsPermisos
ìì 
>
ìì 
ViewsPermisos
ìì  -
=
ìì. /
new
ìì0 3
List
ìì4 8
<
ìì8 9
viewsPermisos
ìì9 F
>
ììF G
(
ììG H
)
ììH I
;
ììI J
string
íí 
query
íí 
=
íí 
$str
íí 
;
íí 
try
îî 
{
ïï 
if
ðð 
(
ðð 
username
ðð 
==
ðð 
$str
ðð !
)
ðð! "
{
ññ 
query
òò 
=
òò 
$stròò 
;òò 
}
óó 
else
ôô 
{
õõ 
query
öö 
=
öö 
$str
öö <
+
öö= >
$str
÷÷ `
+
÷÷a b
username
÷÷c k
+
÷÷l m
$str÷÷n 
+÷÷ 
$str
øø W
+
øøX Y
username
øøZ b
+
øøc d
$strøøe 
+øø 
$str
ùù W
+
ùùX Y
username
ùùZ b
+
ùùc d
$strùùe 
;ùù 
}
úú 
using
ûû 
(
ûû 
SqlConnection
ûû $
con
ûû% (
=
ûû) *
new
ûû+ .
SqlConnection
ûû/ <
(
ûû< =
_config
ûû= D
.
ûûD E!
GetConnectionString
ûûE X
(
ûûX Y
$str
ûûY c
)
ûûc d
)
ûûd e
)
ûûe f
{
üü 
using
þþ 
(
þþ 

SqlCommand
þþ $
cmd
þþ% (
=
þþ) *
new
þþ+ .

SqlCommand
þþ/ 9
(
þþ9 :
query
þþ: ?
)
þþ? @
)
þþ@ A
{
ÿÿ 
cmd
 
.
 

Connection
 &
=
' (
con
) ,
;
, -
con
 
.
 
Open
  
(
  !
)
! "
;
" #
using
 
(
 
SqlDataReader
 ,
sdr
- 0
=
1 2
cmd
3 6
.
6 7
ExecuteReader
7 D
(
D E
)
E F
)
F G
{
 
while
 !
(
" #
sdr
# &
.
& '
Read
' +
(
+ ,
)
, -
)
- .
{
 
ViewsPermisos
  -
.
- .
Add
. 1
(
1 2
new
2 5
viewsPermisos
6 C
{
  !
id
$ &
=
' (
Convert
) 0
.
0 1
ToInt32
1 8
(
8 9
sdr
9 <
[
< =
$str
= A
]
A B
)
B C
,
C D
name_module
$ /
=
0 1
sdr
2 5
[
5 6
$str
6 C
]
C D
+
D E
$str
E G
,
G H
module
$ *
=
+ ,
sdr
- 0
[
0 1
$str
1 9
]
9 :
+
: ;
$str
; =
,
= >
autorizacion
$ 0
=
1 2
Convert
3 :
.
: ;
	ToBoolean
; D
(
D E
Convert
E L
.
L M
ToInt32
M T
(
T U
sdr
U X
[
X Y
$str
Y g
]
g h
)
h i
)
i j
,
j k
pe1
$ '
=
( )
Convert
* 1
.
1 2
	ToBoolean
2 ;
(
; <
Convert
< C
.
C D
ToInt32
D K
(
K L
sdr
L O
[
O P
$str
P U
]
U V
)
V W
)
W X
,
X Y
pe2
$ '
=
( )
Convert
* 1
.
1 2
	ToBoolean
2 ;
(
; <
Convert
< C
.
C D
ToInt32
D K
(
K L
sdr
L O
[
O P
$str
P U
]
U V
)
V W
)
W X
}
  !
)
! "
;
" #
}
 
}
 
con
 
.
 
Close
 !
(
! "
)
" #
;
# $
}
 
}
 
}
 
catch
 
(
 
	Exception
 
e
 
)
 
{
 
var
 
st
 
=
 
new
 

StackTrace
 '
(
' (
)
( )
;
) *
var
 
sf
 
=
 
st
 
.
 
GetFrame
 $
(
$ %
$num
% &
)
& '
;
' (

MethodBase
 
site
 
=
  !
e
" #
.
# $

TargetSite
$ .
;
. /
string
 

methodName
 !
=
" #
site
$ (
==
) +
null
, 0
?
1 2
null
3 7
:
8 9
site
: >
.
> ?
Name
? C
;
C D
General
 
.
 
CrearLogError
 %
(
% &
sf
& (
.
( )
	GetMethod
) 2
(
2 3
)
3 4
.
4 5
Name
5 9
,
9 :
$str
; L
,
L M
e
N O
.
O P
Message
P W
,
W X
e
X Y
.
Y Z
Source
Z `
,
` a
e
a b
.
b c

StackTrace
c m
,
m n

methodName
n x
,
x y
_configz 
. #
GetConnectionString 
( 
$str  
)  ¡
)¡ ¢
;¢ £
}
 
return
 
ViewsPermisos
  
;
  !
}
 	
}
¢¢ 
}££ Í
KE:\GITEA\siscointBKII\siscointBKII\Controllers\WeatherForecastController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class %
WeatherForecastController *
:+ ,
ControllerBase- ;
{ 
private 
static 
readonly 
string  &
[& '
]' (
	Summaries) 2
=3 4
new5 8
[8 9
]9 :
{ 	
$str 
, 
$str !
,! "
$str# +
,+ ,
$str- 3
,3 4
$str5 ;
,; <
$str= C
,C D
$strE L
,L M
$strN S
,S T
$strU a
,a b
$strc n
} 	
;	 

private 
readonly 
ILogger  
<  !%
WeatherForecastController! :
>: ;
_logger< C
;C D
public %
WeatherForecastController (
(( )
ILogger) 0
<0 1%
WeatherForecastController1 J
>J K
loggerL R
)R S
{ 	
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
string !
>! "
Get# &
(& '
)' (
{ 	
return%% 
	Summaries%% 
.%% 
ToArray%% $
(%%$ %
)%%% &
;%%& '
}&& 	
}'' 
}(( ì
-E:\GITEA\siscointBKII\siscointBKII\General.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
General 
{ 
public
óó 
static
óó 
string
óó 
cifrarTextoAES
óó +
(
óó+ ,
string
óó, 2
textoCifrar
óó3 >
,
óó> ?
string
óó@ F
palabraPaso
óóG R
,
óóR S
string
ôô 
valorRGBSalt
ôô 
,
ôô  
string
ôô! ''
algoritmoEncriptacionHASH
ôô( A
,
ôôA B
int
õõ 
iteraciones
õõ 
,
õõ 
string
õõ #
vectorInicial
õõ$ 1
,
õõ1 2
int
õõ3 6
tamanoClave
õõ7 B
)
õõB C
{
öö 	
try
÷÷ 
{
øø 
byte
ùù 
[
ùù 
]
ùù  
InitialVectorBytes
ùù )
=
ùù* +
Encoding
ùù, 4
.
ùù4 5
ASCII
ùù5 :
.
ùù: ;
GetBytes
ùù; C
(
ùùC D
vectorInicial
ùùD Q
)
ùùQ R
;
ùùR S
byte
úú 
[
úú 
]
úú 
saltValueBytes
úú %
=
úú& '
Encoding
úú( 0
.
úú0 1
ASCII
úú1 6
.
úú6 7
GetBytes
úú7 ?
(
úú? @
valorRGBSalt
úú@ L
)
úúL M
;
úúM N
byte
ûû 
[
ûû 
]
ûû 
plainTextBytes
ûû %
=
ûû& '
Encoding
ûû( 0
.
ûû0 1
UTF8
ûû1 5
.
ûû5 6
GetBytes
ûû6 >
(
ûû> ?
textoCifrar
ûû? J
)
ûûJ K
;
ûûK L!
PasswordDeriveBytes
ýý #
password
ýý$ ,
=
ýý- .
new
þþ !
PasswordDeriveBytes
þþ +
(
þþ+ ,
palabraPaso
þþ, 7
,
þþ7 8
saltValueBytes
þþ9 G
,
þþG H'
algoritmoEncriptacionHASH
ÿÿ 1
,
ÿÿ1 2
iteraciones
ÿÿ3 >
)
ÿÿ> ?
;
ÿÿ? @
byte
 
[
 
]
 
keyBytes
 
=
  !
password
" *
.
* +
GetBytes
+ 3
(
3 4
tamanoClave
4 ?
/
@ A
$num
B C
)
C D
;
D E
RijndaelManaged
 
symmetricKey
  ,
=
- .
new
/ 2
RijndaelManaged
3 B
(
B C
)
C D
;
D E
symmetricKey
 
.
 
Mode
 !
=
" #

CipherMode
$ .
.
. /
CBC
/ 2
;
2 3
ICryptoTransform
  
	encryptor
! *
=
+ ,
symmetricKey
  
.
  !
CreateEncryptor
! 0
(
0 1
keyBytes
1 9
,
9 : 
InitialVectorBytes
; M
)
M N
;
N O
MemoryStream
 
memoryStream
 )
=
* +
new
, /
MemoryStream
0 <
(
< =
)
= >
;
> ?
CryptoStream
 
cryptoStream
 )
=
* +
new
 
CryptoStream
 $
(
$ %
memoryStream
% 1
,
1 2
	encryptor
3 <
,
< =
CryptoStreamMode
> N
.
N O
Write
O T
)
T U
;
U V
cryptoStream
 
.
 
Write
 "
(
" #
plainTextBytes
# 1
,
1 2
$num
3 4
,
4 5
plainTextBytes
6 D
.
D E
Length
E K
)
K L
;
L M
cryptoStream
 
.
 
FlushFinalBlock
 ,
(
, -
)
- .
;
. /
byte
 
[
 
]
 
cipherTextBytes
 &
=
' (
memoryStream
) 5
.
5 6
ToArray
6 =
(
= >
)
> ?
;
? @
memoryStream
 
.
 
Close
 "
(
" #
)
# $
;
$ %
cryptoStream
 
.
 
Close
 "
(
" #
)
# $
;
$ %
string
 
textoCifradoFinal
 (
=
) *
Convert
+ 2
.
2 3
ToBase64String
3 A
(
A B
cipherTextBytes
B Q
)
Q R
;
R S
return
 
textoCifradoFinal
 (
;
( )
}
 
catch
 
{
 
return
 
null
 
;
 
}
 
}
   	
public
££ 
static
££ 
string
££ 
descifrarTextoAES
££ .
(
££. /
string
££/ 5
textoCifrado
££6 B
,
££B C
string
££D J
palabraPaso
££K V
,
££V W
string
¤¤ 
valorRGBSalt
¤¤ 
,
¤¤ 
string
¤¤  &'
algoritmoEncriptacionHASH
¤¤' @
,
¤¤@ A
int
¥¥ 
iteraciones
¥¥ 
,
¥¥ 
string
¥¥ "
vectorInicial
¥¥# 0
,
¥¥0 1
int
¥¥2 5
tamanoClave
¥¥6 A
)
¥¥A B
{
¦¦ 	
try
§§ 
{
¨¨ 
byte
©© 
[
©© 
]
©©  
InitialVectorBytes
©© )
=
©©* +
Encoding
©©, 4
.
©©4 5
ASCII
©©5 :
.
©©: ;
GetBytes
©©; C
(
©©C D
vectorInicial
©©D Q
)
©©Q R
;
©©R S
byte
ªª 
[
ªª 
]
ªª 
saltValueBytes
ªª %
=
ªª& '
Encoding
ªª( 0
.
ªª0 1
ASCII
ªª1 6
.
ªª6 7
GetBytes
ªª7 ?
(
ªª? @
valorRGBSalt
ªª@ L
)
ªªL M
;
ªªM N
byte
¬¬ 
[
¬¬ 
]
¬¬ 
cipherTextBytes
¬¬ &
=
¬¬' (
Convert
¬¬) 0
.
¬¬0 1
FromBase64String
¬¬1 A
(
¬¬A B
textoCifrado
¬¬B N
)
¬¬N O
;
¬¬O P!
PasswordDeriveBytes
®® #
password
®®$ ,
=
®®- .
new
¯¯ !
PasswordDeriveBytes
¯¯ +
(
¯¯+ ,
palabraPaso
¯¯, 7
,
¯¯7 8
saltValueBytes
¯¯9 G
,
¯¯G H'
algoritmoEncriptacionHASH
°° 1
,
°°1 2
iteraciones
°°3 >
)
°°> ?
;
°°? @
byte
²² 
[
²² 
]
²² 
keyBytes
²² 
=
²²  !
password
²²" *
.
²²* +
GetBytes
²²+ 3
(
²²3 4
tamanoClave
²²4 ?
/
²²@ A
$num
²²B C
)
²²C D
;
²²D E
RijndaelManaged
´´ 
symmetricKey
´´  ,
=
´´- .
new
´´/ 2
RijndaelManaged
´´3 B
(
´´B C
)
´´C D
;
´´D E
symmetricKey
¶¶ 
.
¶¶ 
Mode
¶¶ !
=
¶¶" #

CipherMode
¶¶$ .
.
¶¶. /
CBC
¶¶/ 2
;
¶¶2 3
ICryptoTransform
¸¸  
	decryptor
¸¸! *
=
¸¸+ ,
symmetricKey
¸¸- 9
.
¸¸9 :
CreateDecryptor
¸¸: I
(
¸¸I J
keyBytes
¸¸J R
,
¸¸R S 
InitialVectorBytes
¸¸T f
)
¸¸f g
;
¸¸g h
MemoryStream
ºº 
memoryStream
ºº )
=
ºº* +
new
ºº, /
MemoryStream
ºº0 <
(
ºº< =
cipherTextBytes
ºº= L
)
ººL M
;
ººM N
CryptoStream
¼¼ 
cryptoStream
¼¼ )
=
¼¼* +
new
¼¼, /
CryptoStream
¼¼0 <
(
¼¼< =
memoryStream
¼¼= I
,
¼¼I J
	decryptor
¼¼K T
,
¼¼T U
CryptoStreamMode
¼¼V f
.
¼¼f g
Read
¼¼g k
)
¼¼k l
;
¼¼l m
byte
¾¾ 
[
¾¾ 
]
¾¾ 
plainTextBytes
¾¾ %
=
¾¾& '
new
¾¾( +
byte
¾¾, 0
[
¾¾0 1
cipherTextBytes
¾¾1 @
.
¾¾@ A
Length
¾¾A G
]
¾¾G H
;
¾¾H I
int
ÀÀ  
decryptedByteCount
ÀÀ &
=
ÀÀ' (
cryptoStream
ÀÀ) 5
.
ÀÀ5 6
Read
ÀÀ6 :
(
ÀÀ: ;
plainTextBytes
ÀÀ; I
,
ÀÀI J
$num
ÀÀK L
,
ÀÀL M
plainTextBytes
ÀÀN \
.
ÀÀ\ ]
Length
ÀÀ] c
)
ÀÀc d
;
ÀÀd e
memoryStream
ÂÂ 
.
ÂÂ 
Close
ÂÂ "
(
ÂÂ" #
)
ÂÂ# $
;
ÂÂ$ %
cryptoStream
ÃÃ 
.
ÃÃ 
Close
ÃÃ "
(
ÃÃ" #
)
ÃÃ# $
;
ÃÃ$ %
string
ÅÅ "
textoDescifradoFinal
ÅÅ +
=
ÅÅ, -
Encoding
ÅÅ. 6
.
ÅÅ6 7
UTF8
ÅÅ7 ;
.
ÅÅ; <
	GetString
ÅÅ< E
(
ÅÅE F
plainTextBytes
ÅÅF T
,
ÅÅT U
$num
ÅÅV W
,
ÅÅW X 
decryptedByteCount
ÅÅY k
)
ÅÅk l
;
ÅÅl m
return
ÇÇ "
textoDescifradoFinal
ÇÇ +
;
ÇÇ+ ,
}
ÈÈ 
catch
ÉÉ 
{
ÊÊ 
return
ËË 
null
ËË 
;
ËË 
}
ÌÌ 
}
ÍÍ 	
public
ÏÏ 
static
ÏÏ 
void
ÏÏ 
CrearLogError
ÏÏ (
(
ÏÏ( )
string
ÏÏ) /
tipo
ÏÏ0 4
,
ÏÏ4 5
string
ÏÏ6 <
entidad
ÏÏ= D
,
ÏÏD E
string
ÏÏF L
mensaje
ÏÏM T
,
ÏÏT U
string
ÏÏV \
source
ÏÏ] c
,
ÏÏc d
string
ÏÏe k

stacktrace
ÏÏl v
,
ÏÏv w
string
ÏÏx ~

targetsiteÏÏ 
,ÏÏ 
stringÏÏ 
conexionÏÏ 
)ÏÏ 
{
ÐÐ 	
using
ÑÑ 
(
ÑÑ 
SqlConnection
ÑÑ 

connection
ÑÑ  *
=
ÑÑ+ ,
new
ÑÑ- 0
SqlConnection
ÑÑ1 >
(
ÑÑ> ?
conexion
ÑÑ? G
)
ÑÑG H
)
ÑÑH I
{
ÒÒ 
using
ÓÓ 
(
ÓÓ 

SqlCommand
ÓÓ !
command
ÓÓ" )
=
ÓÓ* +
new
ÓÓ, /

SqlCommand
ÓÓ0 :
(
ÓÓ: ;
)
ÓÓ; <
)
ÓÓ< =
{
ÔÔ 
command
ÕÕ 
.
ÕÕ 

Connection
ÕÕ &
=
ÕÕ' (

connection
ÕÕ) 3
;
ÕÕ3 4
command
ÖÖ 
.
ÖÖ 
CommandType
ÖÖ '
=
ÖÖ( )
CommandType
ÖÖ* 5
.
ÖÖ5 6
Text
ÖÖ6 :
;
ÖÖ: ;
command
×× 
.
×× 
CommandText
×× '
=
××( )
$str××* Û
;××Û Ü
command
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 >
,
ØØ> ?
entidad
ØØ@ G
)
ØØG H
;
ØØH I
command
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 ;
,
ÙÙ; <
tipo
ÙÙ= A
)
ÙÙA B
;
ÙÙB C
command
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 >
,
ÚÚ> ?
mensaje
ÚÚ@ G
)
ÚÚG H
;
ÚÚH I
command
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 =
,
ÛÛ= >
source
ÛÛ? E
)
ÛÛE F
;
ÛÛF G
command
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 A
,
ÜÜA B

stacktrace
ÜÜC M
)
ÜÜM N
;
ÜÜN O
command
ÝÝ 
.
ÝÝ 

Parameters
ÝÝ &
.
ÝÝ& '
AddWithValue
ÝÝ' 3
(
ÝÝ3 4
$str
ÝÝ4 A
,
ÝÝA B

targetsite
ÝÝC M
)
ÝÝM N
;
ÝÝN O
command
ÞÞ 
.
ÞÞ 

Parameters
ÞÞ &
.
ÞÞ& '
AddWithValue
ÞÞ' 3
(
ÞÞ3 4
$str
ÞÞ4 D
,
ÞÞD E
DateTime
ÞÞF N
.
ÞÞN O
Now
ÞÞO R
)
ÞÞR S
;
ÞÞS T
try
àà 
{
áá 

connection
ââ "
.
ââ" #
Open
ââ# '
(
ââ' (
)
ââ( )
;
ââ) *
int
ãã 
recordsAffected
ãã +
=
ãã, -
command
ãã. 5
.
ãã5 6
ExecuteNonQuery
ãã6 E
(
ããE F
)
ããF G
;
ããG H
}
ää 
catch
åå 
(
åå 
SqlException
åå '
)
åå' (
{
ææ 
}
èè 
finally
éé 
{
êê 

connection
ëë "
.
ëë" #
Close
ëë# (
(
ëë( )
)
ëë) *
;
ëë* +
}
ìì 
}
íí 
}
îî 
}
ïï 	
public
ññ 
static
ññ 
void
ññ A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
ññ N
(
ññN O
string
ññO U"
nombre_procedimiento
ññV j
,
ññj k
string
ññl r
conexion
ññs {
,
ññ{ |
stringññ} 
	parametroññ 
)ññ 
{
òò 	
using
óó 
(
óó 
SqlConnection
óó  

connection
óó! +
=
óó, -
new
óó. 1
SqlConnection
óó2 ?
(
óó? @
conexion
óó@ H
)
óóH I
)
óóI J
{
ôô 

connection
õõ 
.
õõ 
Open
õõ 
(
õõ  
)
õõ  !
;
õõ! "

SqlCommand
öö 
sql_cmnd
öö #
=
öö$ %
new
öö& )

SqlCommand
öö* 4
(
öö4 5"
nombre_procedimiento
öö5 I
,
ööI J

connection
ööK U
)
ööU V
;
ööV W
sql_cmnd
÷÷ 
.
÷÷ 
CommandType
÷÷ $
=
÷÷% &
CommandType
÷÷' 2
.
÷÷2 3
StoredProcedure
÷÷3 B
;
÷÷B C
sql_cmnd
øø 
.
øø 

Parameters
øø #
.
øø# $
AddWithValue
øø$ 0
(
øø0 1
$str
øø1 ;
,
øø; <
	SqlDbType
øø= F
.
øøF G
NVarChar
øøG O
)
øøO P
.
øøP Q
Value
øøQ V
=
øøW X
	parametro
øøY b
;
øøb c
sql_cmnd
ùù 
.
ùù 
ExecuteNonQuery
ùù (
(
ùù( )
)
ùù) *
;
ùù* +

connection
úú 
.
úú 
Close
úú  
(
úú  !
)
úú! "
;
úú" #
}
ûû 
}
üü 	
public
þþ 
static
þþ 
void
þþ <
.EjecutarProcedimientoAlmacenado_validateAFDiff
þþ I
(
þþI J
string
þþJ P"
nombre_procedimiento
þþQ e
,
þþe f
string
þþg m
conexion
þþn v
,
þþv w
string
þþx ~
numero_pedidoþþ 
,þþ 
intþþ 
cantidadþþ 
,þþ 
stringþþ ¢
cod_articuloþþ£ ¯
)þþ¯ °
{
ÿÿ 	
using
 
(
 
SqlConnection
  

connection
! +
=
, -
new
. 1
SqlConnection
2 ?
(
? @
conexion
@ H
)
H I
)
I J
{
 

connection
 
.
 
Open
 
(
  
)
  !
;
! "

SqlCommand
 
sql_cmnd
 #
=
$ %
new
& )

SqlCommand
* 4
(
4 5"
nombre_procedimiento
5 I
,
I J

connection
K U
)
U V
;
V W
sql_cmnd
 
.
 
CommandType
 $
=
% &
CommandType
' 2
.
2 3
StoredProcedure
3 B
;
B C
sql_cmnd
 
.
 

Parameters
 #
.
# $
AddWithValue
$ 0
(
0 1
$str
1 ;
,
; <
	SqlDbType
= F
.
F G
NVarChar
G O
)
O P
.
P Q
Value
Q V
=
W X
numero_pedido
Y f
;
f g
sql_cmnd
 
.
 

Parameters
 #
.
# $
AddWithValue
$ 0
(
0 1
$str
1 B
,
B C
	SqlDbType
D M
.
M N
Int
N Q
)
Q R
.
R S
Value
S X
=
Y Z
cantidad
[ c
;
c d
sql_cmnd
 
.
 

Parameters
 #
.
# $
AddWithValue
$ 0
(
0 1
$str
1 A
,
A B
	SqlDbType
C L
.
L M
NVarChar
M U
)
U V
.
V W
Value
W \
=
] ^
cod_articulo
_ k
;
k l

connection
 
.
 
Close
  
(
  !
)
! "
;
" #
}
 
}
 	
}
 
} Ì
@E:\GITEA\siscointBKII\siscointBKII\ModelosQ\listar_menu_padre.cs
	namespace 	
siscointBKII
 
. 
ModelosQ 
{ 
public 

class 
listar_menu_padre "
{		 
public

 
int

 
	index_row

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
string 

menu_padre  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} è
8E:\GITEA\siscointBKII\siscointBKII\Models\area_ccosto.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
area_ccosto 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
ccosto 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
area_funcional $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} ú
6E:\GITEA\siscointBKII\siscointBKII\Models\articulos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
	articulos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
tipo 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ñ
>E:\GITEA\siscointBKII\siscointBKII\Models\articulosBusqueda.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulosBusqueda "
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Tipo 
{ 
get 
; 
set "
;" #
}$ %
} 
} ÷
BE:\GITEA\siscointBKII\siscointBKII\Models\articulosBusquedaFijo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class !
articulosBusquedaFijo &
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
Id_ped 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
Double 
Valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
CECO 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
V_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} 
=E:\GITEA\siscointBKII\siscointBKII\Models\articulosPedidos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulosPedidos !
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
Codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} Ì
9E:\GITEA\siscointBKII\siscointBKII\Models\articulos_af.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulos_af 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_iva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
v_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ñ
?E:\GITEA\siscointBKII\siscointBKII\Models\BusquedaActivoFijo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
BusquedaActivoFijo #
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
id_ped 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
Double 
Valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
CECO 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
V_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ö
>E:\GITEA\siscointBKII\siscointBKII\Models\busquedaProveedor.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
busquedaProveedor "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
razon_social "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
contrato 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} å
@E:\GITEA\siscointBKII\siscointBKII\Models\busquedaRapidaModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
busquedaRapidaModel $
{		 
public

 
string

 
valor

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 
entidad 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
	parametro 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} Ö
>E:\GITEA\siscointBKII\siscointBKII\Models\compras_articulos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
compras_articulos "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_iva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} é
9E:\GITEA\siscointBKII\siscointBKII\Models\dataBusqueda.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
dataBusqueda 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
valor1 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor2 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor3 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor4 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor5 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor6 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor7 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor8 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} «	
AE:\GITEA\siscointBKII\siscointBKII\Models\dataBusquedaCompleta.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class  
dataBusquedaCompleta %
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
valor1 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor2 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor3 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor4 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor5 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} 
9E:\GITEA\siscointBKII\siscointBKII\Models\depreciacion.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
depreciacion 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
	id_pedido 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
cod_art 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
double 
> 
valor  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
ano 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_ejecucion) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
Nullable 
< 
int 
> 
valor_ejecutado ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
int 
> 
v_util #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Nullable 
< 
int 
> 
v_util_restante ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
string 
ccosto 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
rubro 
{ 
get !
;! "
set# &
;& '
}( )
public 
System 
. 
DateTime 
fecha_ini_depre .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
Nullable 
< 
int 
> 
cuota "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
int 
> 

inventario '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Û
AE:\GITEA\siscointBKII\siscointBKII\Models\detalle_devolucionII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class  
detalle_devolucionII %
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
int 
id_dev 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
elemento 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
cantidad 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
imei_inv 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
c 
{ 
get 
; 
set 
;  
}! "
public 
int 
l 
{ 
get 
; 
set 
;  
}! "
public 
int 
a 
{ 
get 
; 
set 
;  
}! "
public 
int 
v 
{ 
get 
; 
set 
;  
}! "
public 
int 
f 
{ 
get 
; 
set 
;  
}! "
} 
} Õ
>E:\GITEA\siscointBKII\siscointBKII\Models\detalle_entregaII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_entregaII "
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
int 
id_ent 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
elemento 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
cantidad 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
imei_inv 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
c 
{ 
get 
; 
set 
;  
}! "
public 
int 
l 
{ 
get 
; 
set 
;  
}! "
public 
int 
a 
{ 
get 
; 
set 
;  
}! "
public 
int 
v 
{ 
get 
; 
set 
;  
}! "
public 
int 
f 
{ 
get 
; 
set 
;  
}! "
} 
} §
;E:\GITEA\siscointBKII\siscointBKII\Models\detalle_pedido.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_pedido 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
	id_pedido 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 

codigo_art  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
int 
> 
cantidad %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
double 
> 
valor  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
Nullable 
< 
double 
> 
iva  #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Nullable 
< 
double 
> 
subtotal  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
Nullable 
< 
double 
> 
total  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ¸	
>E:\GITEA\siscointBKII\siscointBKII\Models\detalle_proveedor.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_proveedor "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
contrato 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
FechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
FechaActualizacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} ¬
9E:\GITEA\siscointBKII\siscointBKII\Models\devoluciones.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
devoluciones 
{		 
public

 
int

 
id_dev

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
ced_empl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
hora 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

id_empresa 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cod_user 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
autoriza 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	tipo_acta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} Ò
7E:\GITEA\siscointBKII\siscointBKII\Models\directivos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 

directivos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} «
5E:\GITEA\siscointBKII\siscointBKII\Models\empleado.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
empleado 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 

cedula_emp  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
snombre 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ppellido 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
spellido 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
permiso 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
ccosto 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
empresa 
{ 
get  
;  !
set" %
;% &
}' (
} 
} 	
4E:\GITEA\siscointBKII\siscointBKII\Models\empresa.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
empresa 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	ruta_logo 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ¤
5E:\GITEA\siscointBKII\siscointBKII\Models\entregas.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
entregas 
{		 
public

 
int

 
id_ent

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
ced_empl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
hora 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

id_empresa 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cod_user 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
autoriza 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	tipo_acta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ª	
>E:\GITEA\siscointBKII\siscointBKII\Models\excel_bco_agrario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
excel_bco_agrario "
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
DateTime 
fecha 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ruta 
{ 
get  
;  !
set" %
;% &
}' (
public 
Int32 
estado 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Int64 
consecutivo  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} Õ
0E:\GITEA\siscointBKII\siscointBKII\Models\iva.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
iva 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
iva1 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
tipo 
{ 
get  
;  !
set" %
;% &
}' (
public 
double 

porcentaje  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} ¥
2E:\GITEA\siscointBKII\siscointBKII\Models\jefes.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
jefes 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ±
3E:\GITEA\siscointBKII\siscointBKII\Models\objeto.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
objeto 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
tipo 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
af 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
imei 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
factura 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
linea 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
linea_activa "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

nuevo_imei  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
Nullable 
< 
System 
. 
DateTime '
>' (
	causacion) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
string 
centro_costo "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_estado) 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
Nullable 
< 
int 
> 
tipo_articulo *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
string 
cod_articulo "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ·"
4E:\GITEA\siscointBKII\siscointBKII\Models\pedidos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
pedidos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 

nro_pedido 
{ 
get  #
;# $
set% (
;( )
}* +
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
	proveedor 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
ccosto 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
justificacion #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
	vlr_total 
{  !
get" %
;% &
set' *
;* +
}, -
public 
Nullable 
< 
int 
> 
vto_bueno_presu ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_vto_bueno) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
Nullable 
< 
int 
> 
vto_bueno_finan ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_vto_finan) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Nullable 
< 
int 
> 
nro_srp $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
Nullable 
< 
int 
> 
nro_rp #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
nro_contrato "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
obs_compras !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
pc 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
st 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
et 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
cont 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ad 
{ 
get 
; 
set  #
;# $
}% &
public   
string   

asignado_a    
{  ! "
get  # &
;  & '
set  ( +
;  + ,
}  - .
public!! 
string!! 
aprobado_jefe!! #
{!!$ %
get!!& )
;!!) *
set!!+ .
;!!. /
}!!0 1
}"" 
}## å
;E:\GITEA\siscointBKII\siscointBKII\Models\permisos_usuII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
permisos_usuII 
{		 
public

 
Int64

 

id_permiso

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
int 
id_view 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cod_usuario !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 

id_usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
autorizacion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
pe1 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
pe2 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
usuario_crea "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTime 
Fecha_creacion &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
fecha_modificacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ç
<E:\GITEA\siscointBKII\siscointBKII\Models\permisos_usuIII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public		 

class		 
permisos_usuIII		  
{

 
public 
Int64 

id_permiso 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
id_view 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cod_usuario !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 

id_usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
autorizacion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
pe1 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
pe2 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
usuario_crea "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTime 
Fecha_creacion &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
fecha_modificacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} À
8E:\GITEA\siscointBKII\siscointBKII\Models\proveedorII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
proveedorII 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
razon_social "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
representante_legal )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
tel 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
asesor 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
correo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 

tel_asesor  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
FechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
FechaActualizacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} Õ
<E:\GITEA\siscointBKII\siscointBKII\Models\reporte_objetos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
reporte_objetos  
{		 
public

 
Int64

 
Item

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
EstadoNumber 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Af 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Imei 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
} 
} 
8E:\GITEA\siscointBKII\siscointBKII\Models\tipoEntrega.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipoEntrega 
{		 
public

 
string

 
entrega

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
string 

devolucion  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
	translado 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 

reparacion  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
prestamo 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ô
:E:\GITEA\siscointBKII\siscointBKII\Models\tipo_articulo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_articulo 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
fechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ñ
9E:\GITEA\siscointBKII\siscointBKII\Models\tipo_reporte.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_reporte 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
valor 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
tipo_reporte_tabla %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ³
9E:\GITEA\siscointBKII\siscointBKII\Models\tipo_usuario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_usuario 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} À
BE:\GITEA\siscointBKII\siscointBKII\Models\tmp_excel_bco_agrario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class !
tmp_excel_bco_agrario &
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
Int64 
excel_bco_agrario &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
campo_1 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_2 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_3 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_4 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_5 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_6 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_7 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_8 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_9 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_10 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_11 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_12 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_13 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_14 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_15 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_16 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_17 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_18 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ¸
6E:\GITEA\siscointBKII\siscointBKII\Models\UserLogin.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
	UserLogin 
{		 
public

 
string

 
Username

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ñ
4E:\GITEA\siscointBKII\siscointBKII\Models\usuario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
usuario 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
pssword 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Á
9E:\GITEA\siscointBKII\siscointBKII\Models\UsuarioModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
UsuarioModel 
{		 
public

 
long

 
id

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} 
?E:\GITEA\siscointBKII\siscointBKII\Models\UsuariosConstantes.cs
	namespace 	
siscointBKII
 
. 
Models 
{		 
public 

class 
UsuariosConstantes #
{ 
} 
} Ã
:E:\GITEA\siscointBKII\siscointBKII\Models\UsuariosModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
UsuariosModel 
{		 
public

 
long

 
id

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} 
2E:\GITEA\siscointBKII\siscointBKII\Models\views.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
views 
{		 
public

 
Int32

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
Int32 
id_vista 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
name_module !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
module 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
icon 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
url 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
visible 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
routeurl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 

menu_padre  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
fechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} §	
:E:\GITEA\siscointBKII\siscointBKII\Models\viewsPermisos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
viewsPermisos 
{		 
public

 
Int32

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
string 
name_module !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
module 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Boolean 
autorizacion #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Boolean 
pe1 
{ 
get  
;  !
set" %
;% &
}' (
public 
Boolean 
pe2 
{ 
get  
;  !
set" %
;% &
}' (
} 
} 

-E:\GITEA\siscointBKII\siscointBKII\Program.cs
	namespace

 	
siscointBKII


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} .
-E:\GITEA\siscointBKII\siscointBKII\Startup.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services   
.   
AddAuthentication   &
(  & '
JwtBearerDefaults  ' 8
.  8 9 
AuthenticationScheme  9 M
)  M N
.!! 
AddJwtBearer!! 
(!! 
options!! %
=>!!& (
{"" 
options## 
.## %
TokenValidationParameters## 5
=##6 7
new##8 ;%
TokenValidationParameters##< U
{$$ 
ValidateIssuer%% &
=%%' (
true%%) -
,%%- .
ValidateAudience&& (
=&&) *
true&&+ /
,&&/ 0
ValidateLifetime'' (
='') *
true''+ /
,''/ 0$
ValidateIssuerSigningKey(( 0
=((1 2
true((3 7
,((7 8
ValidIssuer)) #
=))$ %
Configuration))& 3
[))3 4
$str))4 @
]))@ A
,))A B
ValidAudience** %
=**& '
Configuration**( 5
[**5 6
$str**6 D
]**D E
,**E F
IssuerSigningKey++ (
=++) *
new+++ . 
SymmetricSecurityKey++/ C
(++C D
Encoding++D L
.++L M
UTF8++M Q
.++Q R
GetBytes++R Z
(++Z [
Configuration++[ h
[++h i
$str++i r
]++r s
)++s t
)++t u
},, 
;,, 
}-- 
)-- 
;-- 
services.. 
... 
AddMvc.. 
(.. 
).. 
;.. 
string// !
sqlServerConennection// (
=//) *
Configuration//+ 8
.//8 9
GetConnectionString//9 L
(//L M
$str//M W
)//W X
;//X Y
services11 
.11 
AddDbContextPool11 %
<11% &
AplicationDbContext11& 9
>119 :
(11: ;
options11; B
=>11C E
options11F M
.11M N
UseSqlServer11N Z
(11Z [!
sqlServerConennection11[ p
)11p q
)11q r
;11r s
services22 
.22 
AddControllers22 #
(22# $
options22$ +
=>22, .
{33 
var44 
jsonInputFormatter44 &
=44' (
options44) 0
.440 1
InputFormatters441 @
.55 
OfType55 
<55 
	Microsoft55 %
.55% &

AspNetCore55& 0
.550 1
Mvc551 4
.554 5

Formatters555 ?
.55? @(
SystemTextJsonInputFormatter55@ \
>55\ ]
(55] ^
)55^ _
.66 
Single66 
(66 
)66 
;66 
jsonInputFormatter77 "
.77" #
SupportedMediaTypes77# 6
.776 7
Add777 :
(77: ;
$str77; S
)77S T
;77T U
}88 
)88 
;88 
services99 
.99 
AddRazorPages99 "
(99" #
)99# $
;99$ %
services:: 
.:: 
AddCors:: 
(:: 
options:: $
=>::% '
{;; 
options<< 
.<< 
	AddPolicy<< !
(<<! "
$str<<" .
,<<. /
builder<<0 7
=><<8 :
builder<<; B
.<<B C
WithOrigins<<C N
(<<N O
$str<<O f
,<<f g
$str	<<h 
)
<< 
.
<< 
AllowAnyMethod
<< 
(
<< 
)
<< 
.
<< 
AllowAnyHeader
<< ©
(
<<© ª
)
<<ª «
)
<<« ¬
;
<<¬ ­
}== 
)== 
;== 
}>> 	
publicAA 
voidAA 
	ConfigureAA 
(AA 
IApplicationBuilderAA 1
appAA2 5
,AA5 6
IWebHostEnvironmentAA7 J
envAAK N
)AAN O
{BB 	
appCC 
.CC 
UseCorsCC 
(CC 
$strCC $
)CC$ %
;CC% &
ifDD 
(DD 
envDD 
.DD 
IsDevelopmentDD !
(DD! "
)DD" #
)DD# $
{EE 
appFF 
.FF %
UseDeveloperExceptionPageFF -
(FF- .
)FF. /
;FF/ 0
}GG 
appII 
.II 
UseHttpsRedirectionII #
(II# $
)II$ %
;II% &
appKK 
.KK 

UseRoutingKK 
(KK 
)KK 
;KK 
appMM 
.MM 
UseAuthenticationMM !
(MM! "
)MM" #
;MM# $
appOO 
.OO 
UseAuthorizationOO  
(OO  !
)OO! "
;OO" #
appQQ 
.QQ 
UseEndpointsQQ 
(QQ 
	endpointsQQ &
=>QQ' )
{RR 
	endpointsSS 
.SS 
MapControllersSS (
(SS( )
)SS) *
;SS* +
	endpointsTT 
.TT 
MapRazorPagesTT '
(TT' (
)TT( )
;TT) *
}UU 
)UU 
;UU 
}VV 	
}WW 
}XX »
5E:\GITEA\siscointBKII\siscointBKII\WeatherForecast.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
TemperatureC		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public 
int 
TemperatureF 
=>  "
$num# %
+& '
(( )
int) ,
), -
(- .
TemperatureC. :
/; <
$num= C
)C D
;D E
public 
string 
Summary 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 
▓@
9E:\GITEA\siscointBKII\siscointBKII\AplicationDbContext.cs
	namespace 	
siscointBKII
 
{		 
public

 

class

 
AplicationDbContext

 $
:

% &
	DbContext

' 0
{ 
public 
AplicationDbContext "
(" #
DbContextOptions# 3
<3 4
AplicationDbContext4 G
>G H
optionsI P
)P Q
:R S
baseT X
(X Y
optionsY `
)` a
{b c
}d e
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
permisos_usuII  .
>. /
(/ 0
)0 1
.1 2
HasNoKey2 :
(: ;
); <
;< =
modelBuilder 
. 
Entity 
<  
permisos_usuIII  /
>/ 0
(0 1
)1 2
.2 3
HasKey3 9
(9 :
x: ;
=>< >
x? @
.@ A

id_permisoA K
)K L
;L M
modelBuilder 
. 
Entity 
<  
tipo_articulo  -
>- .
(. /
)/ 0
.0 1
HasKey1 7
(7 8
x8 9
=>: <
x= >
.> ?
id? A
)A B
;B C
modelBuilder 
. 
Entity 
<  
entregas  (
>( )
() *
)* +
.+ ,
HasKey, 2
(2 3
x3 4
=>5 7
x8 9
.9 :
id_ent: @
)@ A
;A B
modelBuilder 
. 
Entity 
<  
devoluciones  ,
>, -
(- .
). /
./ 0
HasKey0 6
(6 7
x7 8
=>9 ;
x< =
.= >
id_dev> D
)D E
;E F
} 	
public 
DbSet 
< 
usuario 
> 
usuario %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
views 
> 
views !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DbSet 
< 
permisos_usuII #
># $
permisos_usuII% 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
DbSet 
< 
permisos_usuIII $
>$ %
permisos_usuIII& 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
DbSet 
< 
tipo_usuario !
>! "
tipo_usuario# /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public   
DbSet   
<   
empresa   
>   
empresa   %
{  & '
get  ( +
;  + ,
set  - 0
;  0 1
}  2 3
public!! 
DbSet!! 
<!! 
area_ccosto!!  
>!!  !
area_ccosto!!" -
{!!. /
get!!0 3
;!!3 4
set!!5 8
;!!8 9
}!!: ;
public"" 
DbSet"" 
<"" 
empleado"" 
>"" 
empleado"" '
{""( )
get""* -
;""- .
set""/ 2
;""2 3
}""4 5
public## 
DbSet## 
<## 
tipo_articulo## "
>##" #
tipo_articulo##$ 1
{##2 3
get##4 7
;##7 8
set##9 <
;##< =
}##> ?
public$$ 
DbSet$$ 
<$$ 
objeto$$ 
>$$ 
objeto$$ #
{$$$ %
get$$& )
;$$) *
set$$+ .
;$$. /
}$$0 1
public%% 
DbSet%% 
<%% 
	articulos%% 
>%% 
	articulos%%  )
{%%* +
get%%, /
;%%/ 0
set%%1 4
;%%4 5
}%%6 7
public&& 
DbSet&& 
<&& 
depreciacion&& !
>&&! "
depreciacion&&# /
{&&0 1
get&&2 5
;&&5 6
set&&7 :
;&&: ;
}&&< =
public'' 
DbSet'' 
<'' 
articulos_af'' !
>''! "
articulos_af''# /
{''0 1
get''2 5
;''5 6
set''7 :
;'': ;
}''< =
public(( 
DbSet(( 
<(( 
jefes(( 
>(( 
jefes(( !
{((" #
get(($ '
;((' (
set(() ,
;((, -
}((. /
public)) 
DbSet)) 
<)) 
entregas)) 
>)) 
entregas)) '
{))( )
get))* -
;))- .
set))/ 2
;))2 3
}))4 5
public** 
DbSet** 
<** 
detalle_entregaII** &
>**& '
detalle_entregaII**( 9
{**: ;
get**< ?
;**? @
set**A D
;**D E
}**F G
public++ 
DbSet++ 
<++ 
devoluciones++ !
>++! "
devoluciones++# /
{++0 1
get++2 5
;++5 6
set++7 :
;++: ;
}++< =
public,, 
DbSet,, 
<,,  
detalle_devolucionII,, )
>,,) * 
detalle_devolucionII,,+ ?
{,,@ A
get,,B E
;,,E F
set,,G J
;,,J K
},,L M
public-- 
DbSet-- 
<-- 
tipo_reporte-- !
>--! "
tipo_reporte--# /
{--0 1
get--2 5
;--5 6
set--7 :
;--: ;
}--< =
public.. 
DbSet.. 
<.. 
proveedorII..  
>..  !
proveedorII.." -
{... /
get..0 3
;..3 4
set..5 8
;..8 9
}..: ;
public// 
DbSet// 
<// 
detalle_proveedor// &
>//& '
detalle_proveedor//( 9
{//: ;
get//< ?
;//? @
set//A D
;//D E
}//F G
public00 
DbSet00 
<00 
compras_articulos00 &
>00& '
compras_articulos00( 9
{00: ;
get00< ?
;00? @
set00A D
;00D E
}00F G
public11 
DbSet11 
<11 
iva11 
>11 
iva11 
{11 
get11  #
;11# $
set11% (
;11( )
}11* +
public22 
DbSet22 
<22 
pedidos22 
>22 
pedidos22 %
{22& '
get22( +
;22+ ,
set22- 0
;220 1
}222 3
public33 
DbSet33 
<33 
detalle_pedido33 #
>33# $
detalle_pedido33% 3
{334 5
get336 9
;339 :
set33; >
;33> ?
}33@ A
public44 
DbSet44 
<44 

directivos44 
>44  

directivos44! +
{44, -
get44. 1
;441 2
set443 6
;446 7
}448 9
public55 
DbSet55 
<55 !
tmp_excel_bco_agrario55 *
>55* +!
tmp_excel_bco_agrario55, A
{55B C
get55D G
;55G H
set55I L
;55L M
}55N O
public66 
DbSet66 
<66 
excel_bco_agrario66 &
>66& '
excel_bco_agrario66( 9
{66: ;
get66< ?
;66? @
set66A D
;66D E
}66F G
}77 
}88 ╡┤
DE:\GITEA\siscointBKII\siscointBKII\Controllers\ArticuloController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ArticuloController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
ArticuloController !
(! "
AplicationDbContext" 5
contex6 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
contex 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
)  
]  !
[ 	
	Authorize	 
] 
public   
IActionResult   
tipoArticulo   )
(  ) *
)  * +
{!! 	
var"" 
data"" 
="" 
_context"" 
.""  
tipo_articulo""  -
.""- .
ToList"". 4
(""4 5
)""5 6
;""6 7
if## 
(## 
data## 
==## 
null## 
)## 
return$$ 
null$$ 
;$$ 
return&& 
Ok&& 
(&& 
data&& 
)&& 
;&& 
}'' 	
[)) 	
HttpGet))	 
()) 
$str)) %
)))% &
]))& '
[** 	
	Authorize**	 
]** 
public++ 
IActionResult++ 
validarImei++ (
(++( )
string++) /
imei++0 4
)++4 5
{,, 	
Boolean-- 
ExisteObjeto--  
=--! "
false--# (
;--( )
string.. 
mensaje.. 
=.. 
$str.. 
;..  
try// 
{00 
var11 
data11 
=11 
_context11 #
.11# $
objeto11$ *
.11* +
FirstOrDefault11+ 9
(119 :
x11: ;
=>11< >
x11? @
.11@ A
imei11A E
==11F H
imei11I M
)11M N
;11N O
if22 
(22 
data22 
!=22 
null22 
)22  
{33 
ExisteObjeto44  
=44! "
true44# '
;44' (
mensaje55 
=55 
$str55 .
;55. /
}66 
}88 
catch99 
(99 
	Exception99 
e99 
)99 
{:: 
var<< 
st<< 
=<< 
new<< 

StackTrace<< '
(<<' (
)<<( )
;<<) *
var== 
sf== 
=== 
st== 
.== 
GetFrame== $
(==$ %
$num==% &
)==& '
;==' (

MethodBase>> 
site>> 
=>>  !
e>>" #
.>># $

TargetSite>>$ .
;>>. /
string?? 

methodName?? !
=??" #
site??$ (
==??) +
null??, 0
???1 2
null??3 7
:??8 9
site??: >
.??> ?
Name??? C
;??C D
General@@ 
.@@ 
CrearLogError@@ %
(@@% &
sf@@& (
.@@( )
	GetMethod@@) 2
(@@2 3
)@@3 4
.@@4 5
Name@@5 9
,@@9 :
$str@@; C
,@@C D
e@@E F
.@@F G
Message@@G N
,@@N O
e@@P Q
.@@Q R
Source@@R X
,@@X Y
e@@Z [
.@@[ \

StackTrace@@\ f
,@@f g

methodName@@h r
,@@r s
_config@@t {
.@@{ | 
GetConnectionString	@@| П
(
@@П Р
$str
@@Р Ъ
)
@@Ъ Ы
)
@@Ы Ь
;
@@Ь Э
}AA 
stringBB 
jsonBB 
=BB 
JsonConvertBB %
.BB% &
SerializeObjectBB& 5
(BB5 6
newBB6 9
{BB: ;
ResultBB< B
=BBC D
ExisteObjetoBBE Q
,BBQ R
MensajeBBS Z
=BB[ \
mensajeBB] d
}BBe f
)BBf g
;BBg h
returnCC 
OkCC 
(CC 
jsonCC 
)CC 
;CC 
}DD 	
[FF 	
HttpGetFF	 
(FF 
$strFF '
)FF' (
]FF( )
[GG 	
	AuthorizeGG	 
]GG 
publicHH 
IActionResultHH 
validarArticuloXIdHH /
(HH/ 0
stringHH0 6
idHH7 9
)HH9 :
{II 	
varJJ 
dataJJ 
=JJ 
newJJ 
ObjectJJ !
(JJ! "
)JJ" #
;JJ# $
tryKK 
{LL 
dataMM 
=MM 
_contextMM 
.MM  
	articulosMM  )
.MM) *
FirstOrDefaultMM* 8
(MM8 9
xMM9 :
=>MM; =
xMM> ?
.MM? @
idMM@ B
==MMC E
ConvertMMF M
.MMM N
ToInt32MMN U
(MMU V
idMMV X
)MMX Y
)MMY Z
;MMZ [
}OO 
catchPP 
(PP 
	ExceptionPP 
ePP 
)PP 
{QQ 
varRR 
stRR 
=RR 
newRR 

StackTraceRR '
(RR' (
)RR( )
;RR) *
varSS 
sfSS 
=SS 
stSS 
.SS 
GetFrameSS $
(SS$ %
$numSS% &
)SS& '
;SS' (

MethodBaseTT 
siteTT 
=TT  !
eTT" #
.TT# $

TargetSiteTT$ .
;TT. /
stringUU 

methodNameUU !
=UU" #
siteUU$ (
==UU) +
nullUU, 0
?UU1 2
nullUU3 7
:UU8 9
siteUU: >
.UU> ?
NameUU? C
;UUC D
GeneralVV 
.VV 
CrearLogErrorVV %
(VV% &
sfVV& (
.VV( )
	GetMethodVV) 2
(VV2 3
)VV3 4
.VV4 5
NameVV5 9
,VV9 :
$strVV; F
,VVF G
eVVH I
.VVI J
MessageVVJ Q
,VVQ R
eVVR S
.VVS T
SourceVVT Z
,VVZ [
eVV[ \
.VV\ ]

StackTraceVV] g
,VVg h

methodNameVVh r
,VVr s
_configVVt {
.VV{ | 
GetConnectionString	VV| П
(
VVП Р
$str
VVР Ъ
)
VVЪ Ы
)
VVЫ Ь
;
VVЬ Э
}WW 
returnXX 
OkXX 
(XX 
dataXX 
)XX 
;XX 
}YY 	
[ZZ 	
HttpPostZZ	 
(ZZ 
$strZZ -
)ZZ- .
]ZZ. /
[[[ 	
	Authorize[[	 
][[ 
public\\ 
IActionResult\\ %
validarArticuloDevolutivo\\ 6
(\\6 7
[\\7 8
FromBody\\8 @
]\\@ A
	articulos\\B K
Articulo\\L T
)\\T U
{]] 	
var^^ 
data^^ 
=^^ 
new^^ 
Object^^ !
(^^! "
)^^" #
;^^# $
try__ 
{`` 
dataaa 
=aa 
_contextaa 
.aa  
	articulosaa  )
.aa) *
Whereaa* /
(aa/ 0
xaa0 1
=>aa2 4
xaa5 6
.aa6 7
codigoaa7 =
==aa> @
ArticuloaaA I
.aaI J
codigoaaJ P
)aaP Q
.aaQ R
FirstaaR W
(aaW X
)aaX Y
;aaY Z
ifbb 
(bb 
databb 
==bb 
nullbb 
)bb  
{cc 
returndd 
nulldd 
;dd  
}ee 
}ff 
catchgg 
(gg 
	Exceptiongg 
egg 
)gg 
{hh 
varii 
stii 
=ii 
newii 

StackTraceii '
(ii' (
)ii( )
;ii) *
varjj 
sfjj 
=jj 
stjj 
.jj 
GetFramejj $
(jj$ %
$numjj% &
)jj& '
;jj' (

MethodBasekk 
sitekk 
=kk  !
ekk" #
.kk# $

TargetSitekk$ .
;kk. /
stringll 

methodNamell !
=ll" #
sitell$ (
==ll) +
nullll, 0
?ll1 2
nullll3 7
:ll8 9
sitell: >
.ll> ?
Namell? C
;llC D
Generalmm 
.mm 
CrearLogErrormm %
(mm% &
sfmm& (
.mm( )
	GetMethodmm) 2
(mm2 3
)mm3 4
.mm4 5
Namemm5 9
,mm9 :
$strmm; F
,mmF G
emmH I
.mmI J
MessagemmJ Q
,mmQ R
emmR S
.mmS T
SourcemmT Z
,mmZ [
emm[ \
.mm\ ]

StackTracemm] g
,mmg h

methodNamemmh r
,mmr s
_configmmt {
.mm{ | 
GetConnectionString	mm| П
(
mmП Р
$str
mmР Ъ
)
mmЪ Ы
)
mmЫ Ь
;
mmЬ Э
}nn 
returnoo 
Okoo 
(oo 
dataoo 
)oo 
;oo 
}pp 	
[rr 	
HttpGetrr	 
(rr 
$strrr +
)rr+ ,
]rr, -
[ss 	
	Authorizess	 
]ss 
publictt 
IActionResulttt "
validarArticuloFijoXIdtt 3
(tt3 4
stringtt4 :
idtt; =
)tt= >
{uu 	
varvv 
datavv 
=vv 
getArticuloFijovv &
(vv& '
idvv' )
)vv) *
;vv* +
ifww 
(ww 
dataww 
==ww 
nullww 
)ww 
{xx 
returnyy 
nullyy 
;yy 
}zz 
return{{ 
Ok{{ 
({{ 
data{{ 
){{ 
;{{ 
}|| 	
[~~ 	
HttpPost~~	 
(~~ 
$str~~ 2
)~~2 3
]~~3 4
[ 	
	Authorize	 
] 
public
АА 
IActionResult
АА 
AgregarObjeto
АА *
(
АА* +
int
АА+ .
idDepreciacion
АА/ =
,
АА= >
dynamic
АА? F
data
ААG K
)
ААK L
{
ББ 	
int
ВВ 
result
ВВ 
=
ВВ 
$num
ВВ 
;
ВВ 
int
ГГ 
result2
ГГ 
=
ГГ 
$num
ГГ 
;
ГГ 
string
ДД 
mensaje
ДД 
=
ДД 
$str
ДД 
;
ДД  
try
ЕЕ 
{
ЖЖ 
string
ЗЗ 
dat
ЗЗ 
=
ЗЗ 
System
ЗЗ #
.
ЗЗ# $
Text
ЗЗ$ (
.
ЗЗ( )
Json
ЗЗ) -
.
ЗЗ- .
JsonSerializer
ЗЗ. <
.
ЗЗ< =
	Serialize
ЗЗ= F
(
ЗЗF G
data
ЗЗG K
)
ЗЗK L
;
ЗЗL M
objeto
ИИ 
Objeto
ИИ 
=
ИИ 
JsonConvert
ИИ  +
.
ИИ+ ,
DeserializeObject
ИИ, =
<
ИИ= >
objeto
ИИ> D
>
ИИD E
(
ИИE F
dat
ИИF I
)
ИИI J
;
ИИJ K
if
ЙЙ 
(
ЙЙ 
Objeto
ЙЙ 
.
ЙЙ 
tipo
ЙЙ 
==
ЙЙ !
$num
ЙЙ" #
)
ЙЙ# $
{
КК 
int
ЛЛ 
tipo
ЛЛ 
=
ЛЛ 
TipoArticulo
ЛЛ +
(
ЛЛ+ ,
Convert
ЛЛ, 3
.
ЛЛ3 4
ToInt32
ЛЛ4 ;
(
ЛЛ; <
Objeto
ЛЛ< B
.
ЛЛB C
cod_articulo
ЛЛC O
)
ЛЛO P
)
ЛЛP Q
;
ЛЛQ R
Objeto
ММ 
.
ММ 
tipo
ММ 
=
ММ  !
tipo
ММ" &
;
ММ& '
}
НН 
_context
ОО 
.
ОО 
objeto
ОО 
.
ОО  
Add
ОО  #
(
ОО# $
Objeto
ОО$ *
)
ОО* +
;
ОО+ ,
result
ПП 
=
ПП 
_context
ПП !
.
ПП! "
SaveChanges
ПП" -
(
ПП- .
)
ПП. /
;
ПП/ 0
if
РР 
(
РР 
result
РР 
>
РР 
$num
РР 
)
РР 
{
СС 
if
ТТ 
(
ТТ 
Objeto
ТТ 
.
ТТ 
tipo_articulo
ТТ +
==
ТТ, .
$num
ТТ/ 0
)
ТТ0 1
{
УУ 
depreciacion
ФФ $
datDepreciacion
ФФ% 4
=
ФФ5 6
_context
ФФ7 ?
.
ФФ? @
depreciacion
ФФ@ L
.
ФФL M
Where
ФФM R
(
ФФR S
x
ФФS T
=>
ФФU W
x
ФФX Y
.
ФФY Z
id
ФФZ \
==
ФФ] _
idDepreciacion
ФФ` n
)
ФФn o
.
ФФo p
First
ФФp u
(
ФФu v
)
ФФv w
;
ФФw x
if
ХХ 
(
ХХ 
datDepreciacion
ХХ *
!=
ХХ+ -
null
ХХ. 2
)
ХХ2 3
{
ЦЦ 
try
ЧЧ 
{
ШШ 
datDepreciacion
ЩЩ  /
.
ЩЩ/ 0

inventario
ЩЩ0 :
=
ЩЩ; <
$num
ЩЩ= >
;
ЩЩ> ?
datDepreciacion
ЪЪ  /
.
ЪЪ/ 0
placa_af
ЪЪ0 8
=
ЪЪ9 :
Objeto
ЪЪ; A
.
ЪЪA B
af
ЪЪB D
;
ЪЪD E
datDepreciacion
ЫЫ  /
.
ЫЫ/ 0
cuota
ЫЫ0 5
=
ЫЫ6 7
Convert
ЫЫ8 ?
.
ЫЫ? @
ToInt32
ЫЫ@ G
(
ЫЫG H
Objeto
ЫЫH N
.
ЫЫN O
valor
ЫЫO T
)
ЫЫT U
/
ЫЫV W
datDepreciacion
ЫЫX g
.
ЫЫg h
v_util
ЫЫh n
;
ЫЫn o
_context
ЬЬ  (
.
ЬЬ( )
depreciacion
ЬЬ) 5
.
ЬЬ5 6
Update
ЬЬ6 <
(
ЬЬ< =
datDepreciacion
ЬЬ= L
)
ЬЬL M
;
ЬЬM N
result2
ЭЭ  '
=
ЭЭ( )
_context
ЭЭ* 2
.
ЭЭ2 3
SaveChanges
ЭЭ3 >
(
ЭЭ> ?
)
ЭЭ? @
;
ЭЭ@ A
}
аа 
catch
бб !
(
бб! "
	Exception
бб" +
e
бб, -
)
бб- .
{
вв 
var
дд  #
st
дд$ &
=
дд' (
new
дд) ,

StackTrace
дд- 7
(
дд7 8
)
дд8 9
;
дд9 :
var
ее  #
sf
ее$ &
=
ее' (
st
ее) +
.
ее+ ,
GetFrame
ее, 4
(
ее4 5
$num
ее5 6
)
ее6 7
;
ее7 8

MethodBase
жж  *
site
жж+ /
=
жж0 1
e
жж2 3
.
жж3 4

TargetSite
жж4 >
;
жж> ?
string
зз  &

methodName
зз' 1
=
зз2 3
site
зз4 8
==
зз9 ;
null
зз< @
?
ззA B
null
ззC G
:
ззH I
site
ззJ N
.
ззN O
Name
ззO S
;
ззS T
General
ии  '
.
ии' (
CrearLogError
ии( 5
(
ии5 6
sf
ии6 8
.
ии8 9
	GetMethod
ии9 B
(
ииB C
)
ииC D
.
ииD E
Name
ииE I
,
ииI J
$str
ииK Y
,
ииY Z
e
ии[ \
.
ии\ ]
Message
ии] d
,
ииd e
e
ииe f
.
ииf g
Source
ииg m
,
ииm n
e
ииn o
.
ииo p

StackTrace
ииp z
,
ииz {

methodNameии{ Е
,ииЕ Ж
_configииЗ О
.ииО П#
GetConnectionStringииП в
(иив г
$strииг н
)иин о
)иио п
;иип ░
}
йй 
}
кк 
}
лл 
}
мм 
if
пп 
(
пп 
result
пп 
>
пп 
$num
пп 
&&
пп !
result2
пп" )
>
пп* +
$num
пп, -
)
пп- .
{
░░ 
mensaje
▓▓ 
=
▓▓ 
$str
▓▓ <
;
▓▓< =
}
││ 
else
┤┤ 
{
╡╡ 
if
╢╢ 
(
╢╢ 
result
╢╢ 
>
╢╢ 
$num
╢╢  !
)
╢╢! "
{
╖╖ 
mensaje
╕╕ 
=
╕╕  !
$str
╕╕" @
;
╕╕@ A
}
╣╣ 
else
║║ 
{
╗╗ 
mensaje
╝╝ 
=
╝╝  !
$str
╝╝" >
;
╝╝> ?
}
╜╜ 
}
┐┐ 
}
└└ 
catch
┴┴ 
(
┴┴ 
	Exception
┴┴ 
e
┴┴ 
)
┴┴ 
{
┬┬ 
var
├├ 
st
├├ 
=
├├ 
new
├├ 

StackTrace
├├ '
(
├├' (
)
├├( )
;
├├) *
var
── 
sf
── 
=
── 
st
── 
.
── 
GetFrame
── $
(
──$ %
$num
──% &
)
──& '
;
──' (

MethodBase
┼┼ 
site
┼┼ 
=
┼┼  !
e
┼┼" #
.
┼┼# $

TargetSite
┼┼$ .
;
┼┼. /
string
╞╞ 

methodName
╞╞ !
=
╞╞" #
site
╞╞$ (
==
╞╞) +
null
╞╞, 0
?
╞╞1 2
null
╞╞3 7
:
╞╞8 9
site
╞╞: >
.
╞╞> ?
Name
╞╞? C
;
╞╞C D
General
╟╟ 
.
╟╟ 
CrearLogError
╟╟ %
(
╟╟% &
sf
╟╟& (
.
╟╟( )
	GetMethod
╟╟) 2
(
╟╟2 3
)
╟╟3 4
.
╟╟4 5
Name
╟╟5 9
,
╟╟9 :
$str
╟╟; C
,
╟╟C D
e
╟╟E F
.
╟╟F G
Message
╟╟G N
,
╟╟N O
e
╟╟O P
.
╟╟P Q
Source
╟╟Q W
,
╟╟W X
e
╟╟X Y
.
╟╟Y Z

StackTrace
╟╟Z d
,
╟╟d e

methodName
╟╟e o
,
╟╟o p
_config
╟╟q x
.
╟╟x y"
GetConnectionString╟╟y М
(╟╟М Н
$str╟╟Н Ч
)╟╟Ч Ш
)╟╟Ш Щ
;╟╟Щ Ъ
}
╚╚ 
string
╔╔ 
json
╔╔ 
=
╔╔ 
JsonConvert
╔╔ %
.
╔╔% &
SerializeObject
╔╔& 5
(
╔╔5 6
new
╔╔6 9
{
╔╔: ;
Result
╔╔< B
=
╔╔C D
result
╔╔E K
,
╔╔K L
Mensaje
╔╔M T
=
╔╔U V
mensaje
╔╔W ^
}
╔╔_ `
)
╔╔` a
;
╔╔a b
return
╩╩ 
Ok
╩╩ 
(
╩╩ 
json
╩╩ 
)
╩╩ 
;
╩╩ 
}
╦╦ 	
[
══ 	
HttpGet
══	 
(
══ 
$str
══ $
)
══$ %
]
══% &
[
╬╬ 	
	Authorize
╬╬	 
]
╬╬ 
public
╧╧ 
IActionResult
╧╧ 
Edit
╧╧ !
(
╧╧! "
int
╧╧" %
Id
╧╧& (
,
╧╧( )
[
╧╧* +
FromBody
╧╧+ 3
]
╧╧3 4
objeto
╧╧5 ;
Objeto
╧╧< B
)
╧╧B C
{
╨╨ 	
int
╤╤ 
result
╤╤ 
=
╤╤ 
$num
╤╤ 
;
╤╤ 
string
╥╥ 
mensaje
╥╥ 
=
╥╥ 
$str
╥╥ 
;
╥╥  
try
╙╙ 
{
╘╘ 
if
╒╒ 
(
╒╒ 
Id
╒╒ 
==
╒╒ 
Objeto
╒╒ 
.
╒╒  
id
╒╒  "
)
╒╒" #
{
╓╓ 
_context
╫╫ 
.
╫╫ 
objeto
╫╫ #
.
╫╫# $
Update
╫╫$ *
(
╫╫* +
Objeto
╫╫+ 1
)
╫╫1 2
;
╫╫2 3
result
╪╪ 
=
╪╪ 
_context
╪╪ %
.
╪╪% &
SaveChanges
╪╪& 1
(
╪╪1 2
)
╪╪2 3
;
╪╪3 4
if
┘┘ 
(
┘┘ 
result
┘┘ 
>
┘┘  
$num
┘┘! "
)
┘┘" #
{
┌┌ 
mensaje
██ 
=
██  !
$str
██" 8
;
██8 9
}
▄▄ 
else
▌▌ 
{
▐▐ 
mensaje
▀▀ 
=
▀▀  !
$str
▀▀" 7
;
▀▀7 8
}
рр 
}
сс 
}
тт 
catch
уу 
(
уу 
	Exception
уу 
e
уу 
)
уу 
{
фф 
var
хх 
st
хх 
=
хх 
new
хх 

StackTrace
хх '
(
хх' (
)
хх( )
;
хх) *
var
цц 
sf
цц 
=
цц 
st
цц 
.
цц 
GetFrame
цц $
(
цц$ %
$num
цц% &
)
цц& '
;
цц' (

MethodBase
чч 
site
чч 
=
чч  !
e
чч" #
.
чч# $

TargetSite
чч$ .
;
чч. /
string
шш 

methodName
шш !
=
шш" #
site
шш$ (
==
шш) +
null
шш, 0
?
шш1 2
null
шш3 7
:
шш8 9
site
шш: >
.
шш> ?
Name
шш? C
;
шшC D
General
щщ 
.
щщ 
CrearLogError
щщ %
(
щщ% &
sf
щщ& (
.
щщ( )
	GetMethod
щщ) 2
(
щщ2 3
)
щщ3 4
.
щщ4 5
Name
щщ5 9
,
щщ9 :
$str
щщ; C
,
щщC D
e
щщE F
.
щщF G
Message
щщG N
,
щщN O
e
щщO P
.
щщP Q
Source
щщQ W
,
щщW X
e
щщX Y
.
щщY Z

StackTrace
щщZ d
,
щщd e

methodName
щщe o
,
щщo p
_config
щщq x
.
щщx y"
GetConnectionStringщщy М
(щщМ Н
$strщщН Ч
)щщЧ Ш
)щщШ Щ
;щщЩ Ъ
}
ъъ 
string
ыы 
json
ыы 
=
ыы 
JsonConvert
ыы %
.
ыы% &
SerializeObject
ыы& 5
(
ыы5 6
new
ыы6 9
{
ыы: ;
Result
ыы< B
=
ыыC D
result
ыыE K
,
ыыK L
Mensaje
ыыM T
=
ыыU V
mensaje
ыыW ^
}
ыы_ `
)
ыы` a
;
ыыa b
return
ьь 
Ok
ьь 
(
ьь 
json
ьь 
)
ьь 
;
ьь 
}
ээ 	
[
яя 	
HttpPost
яя	 
(
яя 
$str
яя "
)
яя" #
]
яя# $
[
ЁЁ 	
	Authorize
ЁЁ	 
]
ЁЁ 
public
ёё 
IActionResult
ёё 
busquedaObjeto
ёё +
(
ёё+ ,
[
ёё, -
FromBody
ёё- 5
]
ёё5 6
objeto
ёё7 =
ObjetoB
ёё> E
)
ёёE F
{
ЄЄ 	
List
єє 
<
єє "
dataBusquedaCompleta
єє %
>
єє% &
busqueda
єє' /
=
єє0 1
new
єє2 5
List
єє6 :
<
єє: ;"
dataBusquedaCompleta
єє; O
>
єєO P
(
єєP Q
)
єєQ R
;
єєR S
try
ЇЇ 
{
її 
var
ЎЎ 
data
ЎЎ 
=
ЎЎ 
_context
ЎЎ #
.
ЎЎ# $
objeto
ЎЎ$ *
.
ЎЎ* +
Where
ЎЎ+ 0
(
ЎЎ0 1
x
ЎЎ1 2
=>
ЎЎ3 5
x
ЎЎ6 7
.
ЎЎ7 8
af
ЎЎ8 :
==
ЎЎ; =
ObjetoB
ЎЎ> E
.
ЎЎE F
af
ЎЎF H
||
ЎЎI K
x
ўў6 7
.
ўў7 8
imei
ўў8 <
==
ўў= ?
ObjetoB
ўў@ G
.
ўўG H
imei
ўўH L
||
ўўM O
x
°°6 7
.
°°7 8
descripcion
°°8 C
.
°°C D
Contains
°°D L
(
°°L M
ObjetoB
°°M T
.
°°T U
descripcion
°°U `
)
°°` a
)
°°a b
.
°°b c
ToList
°°c i
(
°°i j
)
°°j k
;
°°k l
if
∙∙ 
(
∙∙ 
data
∙∙ 
==
∙∙ 
null
∙∙ 
)
∙∙  
{
·· 
return
√√ 
null
√√ 
;
√√  
}
№№ 
foreach
¤¤ 
(
¤¤ 
objeto
¤¤ 
item
¤¤ #
in
¤¤$ &
data
¤¤' +
)
¤¤+ ,
{
■■ "
dataBusquedaCompleta
   (
busq
  ) -
=
  . /
new
  0 3"
dataBusquedaCompleta
  4 H
(
  H I
)
  I J
;
  J K
busq
АА 
.
АА 
id
АА 
=
АА 
item
АА "
.
АА" #
id
АА# %
;
АА% &
busq
ББ 
.
ББ 
valor1
ББ 
=
ББ  !
item
ББ" &
.
ББ& '
descripcion
ББ' 2
;
ББ2 3
busq
ВВ 
.
ВВ 
valor2
ВВ 
=
ВВ  !
item
ВВ" &
.
ВВ& '
af
ВВ' )
;
ВВ) *
busq
ГГ 
.
ГГ 
valor3
ГГ 
=
ГГ  !
item
ГГ" &
.
ГГ& '
imei
ГГ' +
;
ГГ+ ,
busq
ДД 
.
ДД 
valor4
ДД 
=
ДД  !
$str
ДД" $
;
ДД$ %
busq
ЕЕ 
.
ЕЕ 
valor5
ЕЕ 
=
ЕЕ  !
$str
ЕЕ" $
;
ЕЕ$ %
busqueda
ЗЗ 
.
ЗЗ 
Add
ЗЗ  
(
ЗЗ  !
busq
ЗЗ! %
)
ЗЗ% &
;
ЗЗ& '
}
ИИ 
}
КК 
catch
ЛЛ 
(
ЛЛ 
	Exception
ЛЛ 
e
ЛЛ 
)
ЛЛ 
{
ММ 
var
НН 
st
НН 
=
НН 
new
НН 

StackTrace
НН '
(
НН' (
)
НН( )
;
НН) *
var
ОО 
sf
ОО 
=
ОО 
st
ОО 
.
ОО 
GetFrame
ОО $
(
ОО$ %
$num
ОО% &
)
ОО& '
;
ОО' (

MethodBase
ПП 
site
ПП 
=
ПП  !
e
ПП" #
.
ПП# $

TargetSite
ПП$ .
;
ПП. /
string
РР 

methodName
РР !
=
РР" #
site
РР$ (
==
РР) +
null
РР, 0
?
РР1 2
null
РР3 7
:
РР8 9
site
РР: >
.
РР> ?
Name
РР? C
;
РРC D
General
СС 
.
СС 
CrearLogError
СС %
(
СС% &
sf
СС& (
.
СС( )
	GetMethod
СС) 2
(
СС2 3
)
СС3 4
.
СС4 5
Name
СС5 9
,
СС9 :
$str
СС; C
,
ССC D
e
ССE F
.
ССF G
Message
ССG N
,
ССN O
e
ССO P
.
ССP Q
Source
ССQ W
,
ССW X
e
ССX Y
.
ССY Z

StackTrace
ССZ d
,
ССd e

methodName
ССe o
,
ССo p
_config
ССq x
.
ССx y"
GetConnectionStringССy М
(ССМ Н
$strССН Ч
)ССЧ Ш
)ССШ Щ
;ССЩ Ъ
}
ТТ 
return
ФФ 
Ok
ФФ 
(
ФФ 
busqueda
ФФ 
)
ФФ 
;
ФФ  
}
ХХ 	
[
ЦЦ 	
HttpPost
ЦЦ	 
(
ЦЦ 
$str
ЦЦ '
)
ЦЦ' (
]
ЦЦ( )
[
ЧЧ 	
	Authorize
ЧЧ	 
]
ЧЧ 
public
ШШ 
IActionResult
ШШ 
	getObjeto
ШШ &
(
ШШ& '
[
ШШ' (
FromBody
ШШ( 0
]
ШШ0 1
objeto
ШШ2 8
objetoB
ШШ9 @
)
ШШ@ A
{
ЩЩ 	
var
ЪЪ 
data
ЪЪ 
=
ЪЪ 
new
ЪЪ 
Object
ЪЪ !
(
ЪЪ! "
)
ЪЪ" #
;
ЪЪ# $
try
ЫЫ 
{
ЬЬ 
data
ЭЭ 
=
ЭЭ 
_context
ЭЭ 
.
ЭЭ  
objeto
ЭЭ  &
.
ЭЭ& '
Where
ЭЭ' ,
(
ЭЭ, -
x
ЭЭ- .
=>
ЭЭ/ 1
x
ЭЭ2 3
.
ЭЭ3 4
id
ЭЭ4 6
==
ЭЭ7 9
objetoB
ЭЭ: A
.
ЭЭA B
id
ЭЭB D
)
ЭЭD E
.
ЭЭE F
First
ЭЭF K
(
ЭЭK L
)
ЭЭL M
;
ЭЭM N
if
ЮЮ 
(
ЮЮ 
data
ЮЮ 
==
ЮЮ 
null
ЮЮ 
)
ЮЮ  
{
ЯЯ 
return
аа 
null
аа 
;
аа  
}
бб 
}
вв 
catch
гг 
(
гг 
	Exception
гг 
e
гг 
)
гг 
{
дд 
var
ее 
st
ее 
=
ее 
new
ее 

StackTrace
ее '
(
ее' (
)
ее( )
;
ее) *
var
жж 
sf
жж 
=
жж 
st
жж 
.
жж 
GetFrame
жж $
(
жж$ %
$num
жж% &
)
жж& '
;
жж' (

MethodBase
зз 
site
зз 
=
зз  !
e
зз" #
.
зз# $

TargetSite
зз$ .
;
зз. /
string
ии 

methodName
ии !
=
ии" #
site
ии$ (
==
ии) +
null
ии, 0
?
ии1 2
null
ии3 7
:
ии8 9
site
ии: >
.
ии> ?
Name
ии? C
;
ииC D
General
йй 
.
йй 
CrearLogError
йй %
(
йй% &
sf
йй& (
.
йй( )
	GetMethod
йй) 2
(
йй2 3
)
йй3 4
.
йй4 5
Name
йй5 9
,
йй9 :
$str
йй; C
,
ййC D
e
ййE F
.
ййF G
Message
ййG N
,
ййN O
e
ййO P
.
ййP Q
Source
ййQ W
,
ййW X
e
ййX Y
.
ййY Z

StackTrace
ййZ d
,
ййd e

methodName
ййe o
,
ййo p
_config
ййq x
.
ййx y"
GetConnectionStringййy М
(ййМ Н
$strййН Ч
)ййЧ Ш
)ййШ Щ
;ййЩ Ъ
}
кк 
return
лл 
Ok
лл 
(
лл 
data
лл 
)
лл 
;
лл 
}
мм 	
public
оо 
List
оо 
<
оо #
articulosBusquedaFijo
оо )
>
оо) *
getArticuloFijo
оо+ :
(
оо: ;
string
оо; A
id
ооB D
)
ооD E
{
пп 	
List
░░ 
<
░░ #
articulosBusquedaFijo
░░ &
>
░░& '
articulosFijos
░░( 6
=
░░7 8
new
░░9 <
List
░░= A
<
░░A B#
articulosBusquedaFijo
░░B W
>
░░W X
(
░░X Y
)
░░Y Z
;
░░Z [
string
▒▒ 
qwery
▒▒ 
=
▒▒ 
$str
▒▒ 
;
▒▒ 
try
▓▓ 
{
││ 
qwery
┤┤ 
=
┤┤ 
$str
┤┤ 7
+
┤┤7 8
$str
╡╡ ;
+
╡╡; <
$str
╢╢ 9
+
╢╢9 :
$str
╖╖ 5
+
╖╖5 6
$str
╕╕ B
+
╕╕B C
$str
╣╣ 6
+
╣╣6 7
$str
║║ 7
+
║║7 8
$str
╗╗ 6
+
╗╗6 7
$str
╝╝ :
+
╝╝: ;
$str
╜╜ .
+
╜╜. /
$str
╛╛ c
+
╛╛c d
$str
┐┐ _
+
┐┐_ `
$str
└└ 5
;
└└5 6
using
┴┴ 
(
┴┴ 
SqlConnection
┴┴ $
con
┴┴% (
=
┴┴) *
new
┴┴+ .
SqlConnection
┴┴/ <
(
┴┴< =
_config
┴┴= D
.
┴┴D E!
GetConnectionString
┴┴E X
(
┴┴X Y
$str
┴┴Y c
)
┴┴c d
)
┴┴d e
)
┴┴e f
{
┬┬ 
using
├├ 
(
├├ 

SqlCommand
├├ %
cmd
├├& )
=
├├* +
new
├├, /

SqlCommand
├├0 :
(
├├: ;
qwery
├├; @
)
├├@ A
)
├├A B
{
── 
cmd
┼┼ 
.
┼┼ 

Parameters
┼┼ &
.
┼┼& '
Add
┼┼' *
(
┼┼* +
new
┼┼+ .
SqlParameter
┼┼/ ;
(
┼┼; <
$str
┼┼< A
,
┼┼A B
System
┼┼C I
.
┼┼I J
Data
┼┼J N
.
┼┼N O
	SqlDbType
┼┼O X
.
┼┼X Y
VarChar
┼┼Y `
)
┼┼` a
)
┼┼a b
;
┼┼b c
cmd
╞╞ 
.
╞╞ 

Parameters
╞╞ &
[
╞╞& '
$str
╞╞' ,
]
╞╞, -
.
╞╞- .
Value
╞╞. 3
=
╞╞4 5
id
╞╞6 8
;
╞╞8 9
cmd
╟╟ 
.
╟╟ 

Connection
╟╟ &
=
╟╟' (
con
╟╟) ,
;
╟╟, -
con
╚╚ 
.
╚╚ 
Open
╚╚  
(
╚╚  !
)
╚╚! "
;
╚╚" #
using
╔╔ 
(
╔╔ 
SqlDataReader
╔╔ ,
srd
╔╔- 0
=
╔╔1 2
cmd
╔╔3 6
.
╔╔6 7
ExecuteReader
╔╔7 D
(
╔╔D E
)
╔╔E F
)
╔╔F G
{
╩╩ 
while
╦╦ !
(
╦╦" #
srd
╦╦# &
.
╦╦& '
Read
╦╦' +
(
╦╦+ ,
)
╦╦, -
)
╦╦- .
{
╠╠ 
articulosFijos
══  .
.
══. /
Add
══/ 2
(
══2 3
new
══3 6#
articulosBusquedaFijo
══7 L
{
╬╬  !
Id
╧╧$ &
=
╧╧' (
Convert
╧╧) 0
.
╧╧0 1
ToInt32
╧╧1 8
(
╧╧8 9
srd
╧╧9 <
[
╧╧< =
$str
╧╧= A
]
╧╧A B
)
╧╧B C
,
╧╧C D
Id_ped
╨╨$ *
=
╨╨+ ,
Convert
╨╨- 4
.
╨╨4 5
ToInt32
╨╨5 <
(
╨╨< =
srd
╨╨= @
[
╨╨@ A
$str
╨╨A I
]
╨╨I J
)
╨╨J K
,
╨╨K L
Codigo
╤╤$ *
=
╤╤+ ,
srd
╤╤- 0
[
╤╤0 1
$str
╤╤1 9
]
╤╤9 :
+
╤╤; <
$str
╤╤= ?
,
╤╤? @
Usuario
╥╥$ +
=
╥╥, -
srd
╥╥. 1
[
╥╥1 2
$str
╥╥2 ;
]
╥╥; <
+
╥╥= >
$str
╥╥? A
,
╥╥A B
Descripcion
╙╙$ /
=
╙╙0 1
srd
╙╙2 5
[
╙╙5 6
$str
╙╙6 C
]
╙╙C D
+
╙╙E F
$str
╙╙G I
,
╙╙I J
Grupo
╘╘$ )
=
╘╘* +
srd
╘╘, /
[
╘╘/ 0
$str
╘╘0 7
]
╘╘7 8
+
╘╘9 :
$str
╘╘; =
,
╘╘= >
Valor
╒╒$ )
=
╒╒* +
Convert
╒╒, 3
.
╒╒3 4
ToDouble
╒╒4 <
(
╒╒< =
srd
╒╒= @
[
╒╒@ A
$str
╒╒A H
]
╒╒H I
)
╒╒I J
,
╒╒J K
CECO
╓╓$ (
=
╓╓) *
srd
╓╓+ .
[
╓╓. /
$str
╓╓/ 5
]
╓╓5 6
+
╓╓7 8
$str
╓╓9 ;
,
╓╓; <
V_util
╫╫$ *
=
╫╫+ ,
Convert
╫╫- 4
.
╫╫4 5
ToInt32
╫╫5 <
(
╫╫< =
srd
╫╫= @
[
╫╫@ A
$str
╫╫A I
]
╫╫I J
)
╫╫J K
}
╪╪  !
)
╪╪! "
;
╪╪" #
}
┘┘ 
}
┌┌ 
con
██ 
.
██ 
Close
██ !
(
██! "
)
██" #
;
██# $
}
▄▄ 
}
▌▌ 
}
▐▐ 
catch
▀▀ 
(
▀▀ 
	Exception
▀▀ 
e
▀▀ 
)
▀▀ 
{
рр 
var
сс 
st
сс 
=
сс 
new
сс 

StackTrace
сс '
(
сс' (
)
сс( )
;
сс) *
var
тт 
sf
тт 
=
тт 
st
тт 
.
тт 
GetFrame
тт $
(
тт$ %
$num
тт% &
)
тт& '
;
тт' (

MethodBase
уу 
site
уу 
=
уу  !
e
уу" #
.
уу# $

TargetSite
уу$ .
;
уу. /
string
фф 

methodName
фф !
=
фф" #
site
фф$ (
==
фф) +
null
фф, 0
?
фф1 2
null
фф3 7
:
фф8 9
site
фф: >
.
фф> ?
Name
фф? C
;
ффC D
General
хх 
.
хх 
CrearLogError
хх %
(
хх% &
sf
хх& (
.
хх( )
	GetMethod
хх) 2
(
хх2 3
)
хх3 4
.
хх4 5
Name
хх5 9
,
хх9 :
$str
хх; I
,
ххI J
e
ххK L
.
ххL M
Message
ххM T
,
ххT U
e
ххU V
.
ххV W
Source
ххW ]
,
хх] ^
e
хх^ _
.
хх_ `

StackTrace
хх` j
,
ххj k

methodName
ххk u
,
ххu v
_config
ххw ~
.
хх~ "
GetConnectionStringхх Т
(ххТ У
$strххУ Э
)ххЭ Ю
)ххЮ Я
;ххЯ а
}
цц 
return
чч 
articulosFijos
чч !
;
чч! "
}
шш 	
public
ъъ 
int
ъъ 
TipoArticulo
ъъ 
(
ъъ  
int
ъъ  #
codigoArticulo
ъъ$ 2
)
ъъ2 3
{
ыы 	
int
ьь 
tipo
ьь 
=
ьь 
$num
ьь 
;
ьь 
var
ээ 
data
ээ 
=
ээ 
_context
ээ 
.
ээ  
articulos_af
ээ  ,
.
ээ, -
Where
ээ- 2
(
ээ2 3
x
ээ3 4
=>
ээ5 7
x
ээ8 9
.
ээ9 :
codigo
ээ: @
==
ээA C
codigoArticulo
ээD R
)
ээR S
.
ээS T
First
ээT Y
(
ээY Z
)
ээZ [
;
ээ[ \
if
юю 
(
юю 
data
юю 
!=
юю 
null
юю 
)
юю 
{
яя 
switch
ЁЁ 
(
ЁЁ 
data
ЁЁ 
.
ЁЁ 
grupo
ЁЁ "
)
ЁЁ" #
{
ёё 
case
ЄЄ 
$str
ЄЄ "
:
ЄЄ" #
tipo
єє 
=
єє 
$num
єє  
;
єє  !
break
ЇЇ 
;
ЇЇ 
case
її 
$str
її '
:
її' (
tipo
ЎЎ 
=
ЎЎ 
$num
ЎЎ  
;
ЎЎ  !
break
ўў 
;
ўў 
case
°° 
$str
°° &
:
°°& '
tipo
∙∙ 
=
∙∙ 
$num
∙∙  
;
∙∙  !
break
·· 
;
·· 
case
√√ 
$str
√√ #
:
√√# $
tipo
№№ 
=
№№ 
$num
№№  
;
№№  !
break
¤¤ 
;
¤¤ 
case
■■ 
$str
■■ %
:
■■% &
tipo
   
=
   
$num
    
;
    !
break
АА 
;
АА 
case
ББ 
$str
ББ 
:
ББ 
tipo
ВВ 
=
ВВ 
$num
ВВ  
;
ВВ  !
break
ГГ 
;
ГГ 
default
ДД 
:
ДД 
tipo
ЕЕ 
=
ЕЕ 
$num
ЕЕ  
;
ЕЕ  !
break
ЖЖ 
;
ЖЖ 
}
ЗЗ 
}
ИИ 
return
ЙЙ 
tipo
ЙЙ 
;
ЙЙ 
}
КК 	
}
ЛЛ 
}ММ те
JE:\GITEA\siscointBKII\siscointBKII\Controllers\busquedaRapidaController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
busquedaRapidaController )
:* +
ControllerBase, :
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public $
busquedaRapidaController '
(' (
AplicationDbContext( ;
context< C
,C D
IConfigurationE S
configT Z
)Z [
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpPost	 
( 
$str 
) 
] 
[ 	
	Authorize	 
] 
public 
IActionResult 
Index "
(" #
dynamic# *
dato+ /
)/ 0
{   	
List!! 
<!! 
dataBusqueda!! 
>!! 
buscados!! '
=!!( )
new!!* -
List!!. 2
<!!2 3
dataBusqueda!!3 ?
>!!? @
(!!@ A
)!!A B
;!!B C
try"" 
{## 
string$$ 
dat$$ 
=$$ 
System$$ #
.$$# $
Text$$$ (
.$$( )
Json$$) -
.$$- .
JsonSerializer$$. <
.$$< =
	Serialize$$= F
($$F G
dato$$G K
)$$K L
;$$L M
List%% 
<%% 
busquedaRapidaModel%% (
>%%( )
abuscar%%* 1
=%%2 3
JsonConvert%%4 ?
.%%? @
DeserializeObject%%@ Q
<%%Q R
List%%R V
<%%V W
busquedaRapidaModel%%W j
>%%j k
>%%k l
(%%l m
dat%%m p
)%%p q
;%%q r
buscados&& 
=&&  
searchBusquedaRapida&& /
(&&/ 0
abuscar&&0 7
)&&7 8
;&&8 9
}'' 
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 
var++ 
st++ 
=++ 
new++ 

StackTrace++ '
(++' (
)++( )
;++) *
var,, 
sf,, 
=,, 
st,, 
.,, 
GetFrame,, $
(,,$ %
$num,,% &
),,& '
;,,' (

MethodBase-- 
site-- 
=--  !
e--" #
.--# $

TargetSite--$ .
;--. /
string.. 

methodName.. !
=.." #
site..$ (
==..) +
null.., 0
?..1 2
null..3 7
:..8 9
site..: >
...> ?
Name..? C
;..C D
General// 
.// 
CrearLogError// %
(//% &
sf//& (
.//( )
	GetMethod//) 2
(//2 3
)//3 4
.//4 5
Name//5 9
,//9 :
$str//; I
,//I J
e//K L
.//L M
Message//M T
,//T U
e//V W
.//W X
Source//X ^
,//^ _
e//` a
.//a b

StackTrace//b l
,//l m

methodName//n x
,//x y
_config	//z Б
.
//Б В!
GetConnectionString
//В Х
(
//Х Ц
$str
//Ц а
)
//а б
)
//б в
;
//в г
}00 
return11 
Ok11 
(11 
buscados11 
)11 
;11  
}22 	
private55 
List55 
<55 
dataBusqueda55 "
>55" # 
searchBusquedaRapida55$ 8
(558 9
List559 =
<55= >
busquedaRapidaModel55> Q
>55Q R
	abusqueda55S \
)55\ ]
{66 	
List77 
<77 
dataBusqueda77 
>77 
	buscadosS77 (
=77) *
new77+ .
List77/ 3
<773 4
dataBusqueda774 @
>77@ A
(77A B
)77B C
;77C D
string88 
valor88 
=88 
$str88 
;88 
string99 
	parametro99 
=99 
$str99 !
;99! "
foreach:: 
(:: 
busquedaRapidaModel:: '
item::( ,
in::- /
	abusqueda::0 9
)::9 :
{;; 
var<< 
busqueda<< 
=<< 
new<< "
Object<<# )
(<<) *
)<<* +
;<<+ ,
try== 
{>> 
switch?? 
(?? 
item??  
.??  !
entidad??! (
)??( )
{@@ 
caseAA 
$strAA *
:AA* +
ListBB  
<BB  !
area_ccostoBB! ,
>BB, -
area_ccostosBB. :
=BB; <
newBB= @
ListBBA E
<BBE F
area_ccostoBBF Q
>BBQ R
(BBR S
)BBS T
;BBT U
valorCC !
=CC" #
itemCC$ (
.CC( )
valorCC) .
;CC. /
ifDD 
(DD  
valorDD  %
==DD& (
$strDD) ,
)DD, -
{EE 
area_ccostosGG  ,
=GG- .
_contextGG/ 7
.GG7 8
area_ccostoGG8 C
.GGC D
ToListGGD J
(GGJ K
)GGK L
;GGL M
;GGN O
}HH 
elseII  
{JJ 
area_ccostosKK  ,
=KK- .
_contextKK/ 7
.KK7 8
area_ccostoKK8 C
.KKC D
WhereKKD I
(KKI J
xKKJ K
=>KKL N
xKKO P
.KKP Q
ccostoKKQ W
==KKX Z
ConvertKK[ b
.KKb c
ToInt32KKc j
(KKj k
valorKKk p
)KKp q
||KKr t
xKKu v
.KKv w
areaKKw {
==KK| ~
valor	KK Д
)
KKД Е
.
KKЕ Ж
ToList
KKЖ М
(
KKМ Н
)
KKН О
;
KKО П
}LL 
ifNN 
(NN 
area_ccostosNN +
.NN+ ,
CountNN, 1
(NN1 2
)NN2 3
>NN4 5
$numNN6 7
)NN7 8
{OO 
foreachPP  '
(PP' (
area_ccostoPP( 3
iPP4 5
inPP6 8
area_ccostosPP9 E
)PPE F
{QQ  !
dataBusquedaRR$ 0
dataRR1 5
=RR6 7
newRR8 ;
dataBusquedaRR< H
(RRH I
)RRI J
;RRJ K
dataSS$ (
.SS( )
idSS) +
=SS, -
iSS. /
.SS/ 0
idSS0 2
;SS2 3
dataTT$ (
.TT( )
valor1TT) /
=TT0 1
iTT2 3
.TT3 4
ccostoTT4 :
+TT; <
$strTT= ?
;TT? @
dataUU$ (
.UU( )
valor2UU) /
=UU0 1
iUU2 3
.UU3 4
areaUU4 8
;UU8 9
dataVV$ (
.VV( )
valor3VV) /
=VV0 1
$strVV2 4
;VV4 5
dataWW$ (
.WW( )
valor4WW) /
=WW0 1
$strWW2 4
;WW4 5
dataXX$ (
.XX( )
valor5XX) /
=XX0 1
$strXX2 4
;XX4 5
dataYY$ (
.YY( )
valor6YY) /
=YY0 1
$strYY2 4
;YY4 5
dataZZ$ (
.ZZ( )
valor7ZZ) /
=ZZ0 1
$strZZ2 4
;ZZ4 5
data[[$ (
.[[( )
valor8[[) /
=[[0 1
$str[[2 4
;[[4 5
	buscadosS\\$ -
.\\- .
Add\\. 1
(\\1 2
data\\2 6
)\\6 7
;\\7 8
}]]  !
}^^ 
break__ !
;__! "
case`` 
$str`` 0
:``0 1
Listaa  
<aa  !
area_ccostoaa! ,
>aa, -
area_ccostos_aa. ;
=aa< =
newaa> A
ListaaB F
<aaF G
area_ccostoaaG R
>aaR S
(aaS T
)aaT U
;aaU V
valorbb !
=bb" #
itembb$ (
.bb( )
valorbb) .
;bb. /
ifcc 
(cc  
valorcc  %
==cc& (
$strcc) ,
)cc, -
{dd 
area_ccostos_ff  -
=ff. /
_contextff0 8
.ff8 9
area_ccostoff9 D
.ffD E
ToListffE K
(ffK L
)ffL M
;ffM N
;ffO P
}gg 
elsehh  
{ii 
area_ccostos_jj  -
=jj. /
_contextjj0 8
.jj8 9
area_ccostojj9 D
.jjD E
WherejjE J
(jjJ K
xjjK L
=>jjM O
xjjP Q
.jjQ R
ccostojjR X
==jjY [
Convertjj\ c
.jjc d
ToInt32jjd k
(jjk l
valorjjl q
)jjq r
||jjs u
xjjv w
.jjw x
areajjx |
==jj} 
valor
jjА Е
)
jjЕ Ж
.
jjЖ З
ToList
jjЗ Н
(
jjН О
)
jjО П
;
jjП Р
}kk 
ifmm 
(mm  
area_ccostos_mm  -
.mm- .
Countmm. 3
(mm3 4
)mm4 5
>mm6 7
$nummm8 9
)mm9 :
{nn 
foreachoo  '
(oo( )
area_ccostooo) 4
ioo5 6
inoo7 9
area_ccostos_oo: G
)ooG H
{pp  !
dataBusquedaqq$ 0
dataqq1 5
=qq6 7
newqq8 ;
dataBusquedaqq< H
(qqH I
)qqI J
;qqJ K
datarr$ (
.rr( )
idrr) +
=rr, -
irr. /
.rr/ 0
idrr0 2
;rr2 3
datass$ (
.ss( )
valor1ss) /
=ss0 1
iss2 3
.ss3 4
ccostoss4 :
+ss; <
$strss= ?
;ss? @
datatt$ (
.tt( )
valor2tt) /
=tt0 1
itt2 3
.tt3 4
areatt4 8
;tt8 9
datauu$ (
.uu( )
valor3uu) /
=uu0 1
$struu2 4
;uu4 5
datavv$ (
.vv( )
valor4vv) /
=vv0 1
$strvv2 4
;vv4 5
dataww$ (
.ww( )
valor5ww) /
=ww0 1
$strww2 4
;ww4 5
dataxx$ (
.xx( )
valor6xx) /
=xx0 1
$strxx2 4
;xx4 5
datayy$ (
.yy( )
valor7yy) /
=yy0 1
$stryy2 4
;yy4 5
datazz$ (
.zz( )
valor8zz) /
=zz0 1
$strzz2 4
;zz4 5
	buscadosS{{$ -
.{{- .
Add{{. 1
({{1 2
data{{2 6
){{6 7
;{{7 8
}||  !
}}} 
break~~ !
;~~! "
case
АА 
$str
АА 1
:
АА1 2
valor
ББ !
=
ББ" #
item
ББ$ (
.
ББ( )
valor
ББ) .
;
ББ. /
if
ВВ 
(
ВВ 
valor
ВВ $
!=
ВВ% '
$str
ВВ( *
)
ВВ* +
{
ГГ 
List
ДД  $
<
ДД$ %
articulosBusqueda
ДД% 6
>
ДД6 7!
articulosDevolucion
ДД8 K
=
ДДL M*
busquedaArticulosDevolutivos
ДДN j
(
ДДj k
valor
ДДk p
)
ДДp q
;
ДДq r
if
ЕЕ  "
(
ЕЕ" #!
articulosDevolucion
ЕЕ# 6
.
ЕЕ6 7
Count
ЕЕ7 <
(
ЕЕ< =
)
ЕЕ= >
>
ЕЕ? @
$num
ЕЕA B
)
ЕЕB C
{
ЖЖ  !
foreach
ЗЗ# *
(
ЗЗ* +
articulosBusqueda
ЗЗ+ <
i
ЗЗ= >
in
ЗЗ? A!
articulosDevolucion
ЗЗB U
)
ЗЗU V
{
ИИ$ %
dataBusqueda
ЙЙ( 4
data
ЙЙ5 9
=
ЙЙ: ;
new
ЙЙ< ?
dataBusqueda
ЙЙ@ L
(
ЙЙL M
)
ЙЙM N
;
ЙЙN O
data
КК( ,
.
КК, -
id
КК- /
=
КК0 1
i
КК2 3
.
КК3 4
Id
КК4 6
;
КК6 7
data
ЛЛ( ,
.
ЛЛ, -
valor1
ЛЛ- 3
=
ЛЛ4 5
i
ЛЛ6 7
.
ЛЛ7 8
Codigo
ЛЛ8 >
;
ЛЛ> ?
data
ММ( ,
.
ММ, -
valor2
ММ- 3
=
ММ4 5
i
ММ6 7
.
ММ7 8
Descripcion
ММ8 C
;
ММC D
data
НН( ,
.
НН, -
valor3
НН- 3
=
НН4 5
i
НН6 7
.
НН7 8
Tipo
НН8 <
+
НН< =
$str
НН= ?
;
НН? @
data
ОО( ,
.
ОО, -
valor4
ОО- 3
=
ОО4 5
$str
ОО6 8
;
ОО8 9
data
ПП( ,
.
ПП, -
valor5
ПП- 3
=
ПП4 5
$str
ПП6 8
;
ПП8 9
data
РР( ,
.
РР, -
valor6
РР- 3
=
РР4 5
$str
РР6 8
;
РР8 9
data
СС( ,
.
СС, -
valor7
СС- 3
=
СС4 5
$str
СС6 8
;
СС8 9
data
ТТ( ,
.
ТТ, -
valor8
ТТ- 3
=
ТТ4 5
$str
ТТ6 8
;
ТТ8 9
	buscadosS
УУ( 1
.
УУ1 2
Add
УУ2 5
(
УУ5 6
data
УУ6 :
)
УУ: ;
;
УУ; <
}
ФФ$ %
}
ХХ  !
}
ЦЦ 
break
ЧЧ !
;
ЧЧ! "
case
ШШ 
$str
ШШ 1
:
ШШ1 2
valor
ЩЩ !
=
ЩЩ" #
item
ЩЩ$ (
.
ЩЩ( )
valor
ЩЩ) .
;
ЩЩ. /
if
ЪЪ 
(
ЪЪ 
valor
ЪЪ $
!=
ЪЪ% '
$str
ЪЪ( *
)
ЪЪ* +
{
ЫЫ 
List
ЬЬ  $
<
ЬЬ$ %#
articulosBusquedaFijo
ЬЬ% :
>
ЬЬ: ;!
articulosActivoFijo
ЬЬ< O
=
ЬЬP Q"
BusquedaArticuloFijo
ЬЬR f
(
ЬЬf g
valor
ЬЬg l
)
ЬЬl m
;
ЬЬm n
if
ЭЭ  "
(
ЭЭ" #!
articulosActivoFijo
ЭЭ# 6
.
ЭЭ6 7
Count
ЭЭ7 <
(
ЭЭ< =
)
ЭЭ= >
>
ЭЭ? @
$num
ЭЭA B
)
ЭЭB C
{
ЮЮ  !
foreach
ЯЯ$ +
(
ЯЯ+ ,#
articulosBusquedaFijo
ЯЯ, A
i
ЯЯB C
in
ЯЯD F!
articulosActivoFijo
ЯЯG Z
)
ЯЯZ [
{
аа$ %
dataBusqueda
бб( 4
data
бб5 9
=
бб: ;
new
бб< ?
dataBusqueda
бб@ L
(
ббL M
)
ббM N
;
ббN O
data
вв( ,
.
вв, -
id
вв- /
=
вв0 1
i
вв2 3
.
вв3 4
Id
вв4 6
;
вв6 7
data
гг( ,
.
гг, -
valor1
гг- 3
=
гг4 5
i
гг6 7
.
гг7 8
Id_ped
гг8 >
+
гг? @
$str
ггA C
;
ггC D
data
дд( ,
.
дд, -
valor2
дд- 3
=
дд4 5
i
дд6 7
.
дд7 8
Codigo
дд8 >
;
дд> ?
data
ее( ,
.
ее, -
valor3
ее- 3
=
ее4 5
i
ее6 7
.
ее7 8
Usuario
ее8 ?
;
ее? @
data
жж( ,
.
жж, -
valor4
жж- 3
=
жж4 5
i
жж6 7
.
жж7 8
Descripcion
жж8 C
;
жжC D
data
зз( ,
.
зз, -
valor5
зз- 3
=
зз4 5
i
зз6 7
.
зз7 8
Grupo
зз8 =
;
зз= >
data
ии( ,
.
ии, -
valor6
ии- 3
=
ии4 5
i
ии6 7
.
ии7 8
Valor
ии8 =
+
ии> ?
$str
ии@ B
;
ииB C
data
йй( ,
.
йй, -
valor7
йй- 3
=
йй4 5
i
йй6 7
.
йй7 8
CECO
йй8 <
;
йй< =
data
кк( ,
.
кк, -
valor8
кк- 3
=
кк4 5
i
кк6 7
.
кк7 8
V_util
кк8 >
+
кк? @
$str
ккA C
;
ккC D
	buscadosS
лл( 1
.
лл1 2
Add
лл2 5
(
лл5 6
data
лл6 :
)
лл: ;
;
лл; <
}
мм$ %
}
нн  !
}
оо 
break
░░ !
;
░░! "
case
▒▒ 
$str
▒▒ )
:
▒▒) *
valor
▓▓ !
=
▓▓" #
item
▓▓$ (
.
▓▓( )
valor
▓▓) .
;
▓▓. /
	parametro
││ %
=
││& '
item
││( ,
.
││, -
	parametro
││- 6
;
││6 7
if
┤┤ 
(
┤┤  
valor
┤┤  %
!=
┤┤& (
$str
┤┤) +
)
┤┤+ ,
{
╡╡ 
List
╢╢  $
<
╢╢$ %
objeto
╢╢% +
>
╢╢+ ,
Objetos
╢╢- 4
=
╢╢5 6&
busquedaActivoDisponible
╢╢7 O
(
╢╢O P
valor
╢╢P U
,
╢╢U V
	parametro
╢╢W `
)
╢╢` a
;
╢╢a b
if
╖╖  "
(
╖╖" #
Objetos
╖╖# *
.
╖╖* +
Count
╖╖+ 0
(
╖╖0 1
)
╖╖1 2
>
╖╖3 4
$num
╖╖5 6
)
╖╖6 7
{
╕╕  !
foreach
╣╣$ +
(
╣╣+ ,
objeto
╣╣, 2
i
╣╣3 4
in
╣╣5 7
Objetos
╣╣8 ?
)
╣╣? @
{
║║$ %
dataBusqueda
╗╗( 4
data
╗╗5 9
=
╗╗: ;
new
╗╗< ?
dataBusqueda
╗╗@ L
(
╗╗L M
)
╗╗M N
;
╗╗N O
data
╝╝( ,
.
╝╝, -
id
╝╝- /
=
╝╝0 1
i
╝╝2 3
.
╝╝3 4
id
╝╝4 6
;
╝╝6 7
data
╜╜( ,
.
╜╜, -
valor1
╜╜- 3
=
╜╜4 5
i
╜╜6 7
.
╜╜7 8
af
╜╜8 :
;
╜╜: ;
data
╛╛( ,
.
╛╛, -
valor2
╛╛- 3
=
╛╛4 5
i
╛╛6 7
.
╛╛7 8
imei
╛╛8 <
;
╛╛< =
data
┐┐( ,
.
┐┐, -
valor3
┐┐- 3
=
┐┐4 5
i
┐┐6 7
.
┐┐7 8
descripcion
┐┐8 C
;
┐┐C D
data
└└( ,
.
└└, -
valor4
└└- 3
=
└└4 5
$str
└└6 8
;
└└8 9
data
┴┴( ,
.
┴┴, -
valor5
┴┴- 3
=
┴┴4 5
$str
┴┴6 8
;
┴┴8 9
data
┬┬( ,
.
┬┬, -
valor6
┬┬- 3
=
┬┬4 5
$str
┬┬6 8
;
┬┬8 9
data
├├( ,
.
├├, -
valor7
├├- 3
=
├├4 5
$str
├├6 8
;
├├8 9
data
──( ,
.
──, -
valor8
──- 3
=
──4 5
$str
──6 8
;
──8 9
	buscadosS
┼┼( 1
.
┼┼1 2
Add
┼┼2 5
(
┼┼5 6
data
┼┼6 :
)
┼┼: ;
;
┼┼; <
}
╞╞$ %
}
╟╟  !
}
╚╚ 
break
╔╔ !
;
╔╔! "
case
╦╦ 
$str
╦╦ /
:
╦╦/ 0
valor
╠╠ !
=
╠╠" #
item
╠╠$ (
.
╠╠( )
valor
╠╠) .
;
╠╠. /
	parametro
══ %
=
══& '
item
══( ,
.
══, -
	parametro
══- 6
;
══6 7
if
╬╬ 
(
╬╬ 
valor
╬╬ $
!=
╬╬% '
$str
╬╬( *
)
╬╬* +
{
╧╧ 
List
╤╤  $
<
╤╤$ %
objeto
╤╤% +
>
╤╤+ ,
Objetos
╤╤- 4
=
╤╤5 6)
busquedaDevolitvoDisponible
╤╤7 R
(
╤╤R S
valor
╤╤S X
,
╤╤X Y
	parametro
╤╤Z c
)
╤╤c d
;
╤╤d e
if
╥╥  "
(
╥╥# $
Objetos
╥╥$ +
.
╥╥+ ,
Count
╥╥, 1
(
╥╥1 2
)
╥╥2 3
>
╥╥4 5
$num
╥╥6 7
)
╥╥7 8
{
╙╙  !
foreach
╘╘$ +
(
╘╘, -
objeto
╘╘- 3
i
╘╘4 5
in
╘╘6 8
Objetos
╘╘9 @
)
╘╘@ A
{
╒╒$ %
dataBusqueda
╓╓( 4
data
╓╓5 9
=
╓╓: ;
new
╓╓< ?
dataBusqueda
╓╓@ L
(
╓╓L M
)
╓╓M N
;
╓╓N O
data
╫╫( ,
.
╫╫, -
id
╫╫- /
=
╫╫0 1
i
╫╫2 3
.
╫╫3 4
id
╫╫4 6
;
╫╫6 7
data
╪╪( ,
.
╪╪, -
valor1
╪╪- 3
=
╪╪4 5
i
╪╪6 7
.
╪╪7 8
af
╪╪8 :
;
╪╪: ;
data
┘┘( ,
.
┘┘, -
valor2
┘┘- 3
=
┘┘4 5
i
┘┘6 7
.
┘┘7 8
imei
┘┘8 <
;
┘┘< =
data
┌┌( ,
.
┌┌, -
valor3
┌┌- 3
=
┌┌4 5
i
┌┌6 7
.
┌┌7 8
descripcion
┌┌8 C
;
┌┌C D
data
██( ,
.
██, -
valor4
██- 3
=
██4 5
$str
██6 8
;
██8 9
data
▄▄( ,
.
▄▄, -
valor5
▄▄- 3
=
▄▄4 5
$str
▄▄6 8
;
▄▄8 9
data
▌▌( ,
.
▌▌, -
valor6
▌▌- 3
=
▌▌4 5
$str
▌▌6 8
;
▌▌8 9
data
▐▐( ,
.
▐▐, -
valor7
▐▐- 3
=
▐▐4 5
$str
▐▐6 8
;
▐▐8 9
data
▀▀( ,
.
▀▀, -
valor8
▀▀- 3
=
▀▀4 5
$str
▀▀6 8
;
▀▀8 9
	buscadosS
рр( 1
.
рр1 2
Add
рр2 5
(
рр5 6
data
рр6 :
)
рр: ;
;
рр; <
}
сс$ %
}
тт  !
}
уу 
break
фф !
;
фф! "
case
цц 
$str
цц -
:
цц- .
valor
чч !
=
чч" #
item
чч$ (
.
чч( )
valor
чч) .
;
чч. /
if
шш 
(
шш 
valor
шш $
!=
шш% '
$str
шш( *
)
шш* +
{
щщ 
List
ъъ  $
<
ъъ$ %
empleado
ъъ% -
>
ъъ- .
	Empleados
ъъ/ 8
=
ъъ9 :
busquedaEmpleados
ъъ; L
(
ъъL M
valor
ъъM R
)
ъъR S
;
ъъS T
if
ыы  "
(
ыы" #
	Empleados
ыы# ,
.
ыы, -
Count
ыы- 2
(
ыы2 3
)
ыы3 4
>
ыы5 6
$num
ыы7 8
)
ыы8 9
{
ьь  !
foreach
ээ$ +
(
ээ+ ,
empleado
ээ, 4
i
ээ5 6
in
ээ7 9
	Empleados
ээ: C
)
ээC D
{
юю$ %
dataBusqueda
яя( 4
data
яя5 9
=
яя: ;
new
яя< ?
dataBusqueda
яя@ L
(
яяL M
)
яяM N
;
яяN O
data
ЁЁ( ,
.
ЁЁ, -
id
ЁЁ- /
=
ЁЁ0 1
i
ЁЁ2 3
.
ЁЁ3 4
id
ЁЁ4 6
;
ЁЁ6 7
data
ёё( ,
.
ёё, -
valor1
ёё- 3
=
ёё4 5
i
ёё6 7
.
ёё7 8

cedula_emp
ёё8 B
;
ёёB C
data
ЄЄ( ,
.
ЄЄ, -
valor2
ЄЄ- 3
=
ЄЄ4 5
i
ЄЄ6 7
.
ЄЄ7 8
nombre
ЄЄ8 >
;
ЄЄ> ?
data
єє( ,
.
єє, -
valor3
єє- 3
=
єє4 5
i
єє6 7
.
єє7 8
snombre
єє8 ?
;
єє? @
data
ЇЇ( ,
.
ЇЇ, -
valor4
ЇЇ- 3
=
ЇЇ4 5
i
ЇЇ6 7
.
ЇЇ7 8
ppellido
ЇЇ8 @
;
ЇЇ@ A
data
її( ,
.
її, -
valor5
її- 3
=
її4 5
i
її6 7
.
її7 8
spellido
її8 @
;
її@ A
data
ЎЎ( ,
.
ЎЎ, -
valor6
ЎЎ- 3
=
ЎЎ4 5
$str
ЎЎ6 8
;
ЎЎ8 9
data
ўў( ,
.
ўў, -
valor7
ўў- 3
=
ўў4 5
$str
ўў6 8
;
ўў8 9
data
°°( ,
.
°°, -
valor8
°°- 3
=
°°4 5
$str
°°6 8
;
°°8 9
	buscadosS
∙∙( 1
.
∙∙1 2
Add
∙∙2 5
(
∙∙5 6
data
∙∙6 :
)
∙∙: ;
;
∙∙; <
}
··$ %
}
√√  !
}
№№ 
break
¤¤ !
;
¤¤! "
case
■■ 
$str
■■ /
:
■■/ 0
valor
   !
=
  " #
item
  $ (
.
  ( )
valor
  ) .
;
  . /
if
АА 
(
АА 
valor
АА $
!=
АА% '
$str
АА( *
)
АА* +
{
ББ 
List
ВВ  $
<
ВВ% &
busquedaProveedor
ВВ& 7
>
ВВ7 8

proveedors
ВВ9 C
=
ВВD E 
busquedaProvedores
ВВF X
(
ВВX Y
valor
ВВY ^
)
ВВ^ _
;
ВВ_ `
if
ГГ  "
(
ГГ" #

proveedors
ГГ# -
.
ГГ- .
Count
ГГ. 3
(
ГГ3 4
)
ГГ4 5
>
ГГ6 7
$num
ГГ8 9
)
ГГ9 :
{
ДД  !
foreach
ЕЕ$ +
(
ЕЕ+ ,
busquedaProveedor
ЕЕ, =
i
ЕЕ> ?
in
ЕЕ@ B

proveedors
ЕЕC M
)
ЕЕM N
{
ЖЖ$ %
dataBusqueda
ЗЗ( 4
data
ЗЗ5 9
=
ЗЗ: ;
new
ЗЗ< ?
dataBusqueda
ЗЗ@ L
(
ЗЗL M
)
ЗЗM N
;
ЗЗN O
data
ИИ( ,
.
ИИ, -
id
ИИ- /
=
ИИ0 1
i
ИИ2 3
.
ИИ3 4
id
ИИ4 6
;
ИИ6 7
data
ЙЙ( ,
.
ЙЙ, -
valor1
ЙЙ- 3
=
ЙЙ4 5
i
ЙЙ6 7
.
ЙЙ7 8
nit
ЙЙ8 ;
;
ЙЙ; <
data
КК( ,
.
КК, -
valor2
КК- 3
=
КК4 5
i
КК6 7
.
КК7 8
razon_social
КК8 D
;
ККD E
data
ЛЛ( ,
.
ЛЛ, -
valor3
ЛЛ- 3
=
ЛЛ4 5
i
ЛЛ6 7
.
ЛЛ7 8
contrato
ЛЛ8 @
;
ЛЛ@ A
data
ММ( ,
.
ММ, -
valor4
ММ- 3
=
ММ4 5
$str
ММ6 8
;
ММ8 9
data
НН( ,
.
НН, -
valor5
НН- 3
=
НН4 5
$str
НН6 8
;
НН8 9
data
ОО( ,
.
ОО, -
valor6
ОО- 3
=
ОО4 5
$str
ОО6 8
;
ОО8 9
data
ПП( ,
.
ПП, -
valor7
ПП- 3
=
ПП4 5
$str
ПП6 8
;
ПП8 9
data
РР( ,
.
РР, -
valor8
РР- 3
=
РР4 5
$str
РР6 8
;
РР8 9
	buscadosS
СС( 1
.
СС1 2
Add
СС2 5
(
СС5 6
data
СС6 :
)
СС: ;
;
СС; <
}
ТТ$ %
}
УУ  !
}
ФФ 
break
ХХ !
;
ХХ! "
case
ЦЦ 
$str
ЦЦ /
:
ЦЦ/ 0
valor
ЧЧ !
=
ЧЧ" #
item
ЧЧ$ (
.
ЧЧ( )
valor
ЧЧ) .
;
ЧЧ. /
if
ШШ 
(
ШШ  
valor
ШШ  %
!=
ШШ& (
$str
ШШ) +
)
ШШ+ ,
{
ЩЩ 
List
ЪЪ  $
<
ЪЪ$ %
articulosPedidos
ЪЪ% 5
>
ЪЪ5 6
	articulos
ЪЪ7 @
=
ЪЪA B-
busquedaArticulosComprasPedidos
ЪЪC b
(
ЪЪb c
valor
ЪЪc h
)
ЪЪh i
;
ЪЪi j
if
ЫЫ  "
(
ЫЫ" #
	articulos
ЫЫ# ,
.
ЫЫ, -
Count
ЫЫ- 2
(
ЫЫ2 3
)
ЫЫ3 4
>
ЫЫ5 6
$num
ЫЫ7 8
)
ЫЫ8 9
{
ЬЬ  !
foreach
ЭЭ$ +
(
ЭЭ+ ,
articulosPedidos
ЭЭ, <
i
ЭЭ= >
in
ЭЭ? A
	articulos
ЭЭB K
)
ЭЭK L
{
ЮЮ$ %
dataBusqueda
ЯЯ( 4
data
ЯЯ5 9
=
ЯЯ: ;
new
ЯЯ< ?
dataBusqueda
ЯЯ@ L
(
ЯЯL M
)
ЯЯM N
;
ЯЯN O
data
аа( ,
.
аа, -
id
аа- /
=
аа0 1
i
аа2 3
.
аа3 4
Id
аа4 6
;
аа6 7
data
бб( ,
.
бб, -
valor1
бб- 3
=
бб4 5
i
бб6 7
.
бб7 8
Codigo
бб8 >
+
бб> ?
$str
бб? A
;
ббA B
data
вв( ,
.
вв, -
valor2
вв- 3
=
вв4 5
i
вв6 7
.
вв7 8
Descripcion
вв8 C
;
ввC D
data
гг( ,
.
гг, -
valor3
гг- 3
=
гг4 5
i
гг6 7
.
гг7 8
und
гг8 ;
;
гг; <
data
дд( ,
.
дд, -
valor4
дд- 3
=
дд4 5
i
дд6 7
.
дд7 8
cuenta
дд8 >
;
дд> ?
data
ее( ,
.
ее, -
valor5
ее- 3
=
ее4 5
$str
ее6 8
;
ее8 9
data
жж( ,
.
жж, -
valor6
жж- 3
=
жж4 5
$str
жж6 8
;
жж8 9
data
зз( ,
.
зз, -
valor7
зз- 3
=
зз4 5
$str
зз6 8
;
зз8 9
data
ии( ,
.
ии, -
valor8
ии- 3
=
ии4 5
$str
ии6 8
;
ии8 9
	buscadosS
йй( 1
.
йй1 2
Add
йй2 5
(
йй5 6
data
йй6 :
)
йй: ;
;
йй; <
}
кк$ %
}
лл  !
}
мм 
break
нн !
;
нн! "
case
пп 
$str
пп ;
:
пп; <
valor
░░ !
=
░░" #
item
░░$ (
.
░░( )
valor
░░) .
;
░░. /
List
▓▓  
<
▓▓  !
articulosPedidos
▓▓! 1
>
▓▓1 2
articulosAF
▓▓3 >
=
▓▓? @)
busquedaArticulosFijoPedido
▓▓A \
(
▓▓\ ]
valor
▓▓] b
)
▓▓b c
;
▓▓c d
if
││ 
(
││  
articulosAF
││  +
.
││+ ,
Count
││, 1
(
││1 2
)
││2 3
>
││4 5
$num
││6 7
)
││7 8
{
┤┤ 
foreach
╡╡  '
(
╡╡( )
articulosPedidos
╡╡) 9
i
╡╡: ;
in
╡╡< >
articulosAF
╡╡? J
)
╡╡J K
{
╢╢  !
dataBusqueda
╖╖$ 0
data
╖╖1 5
=
╖╖6 7
new
╖╖8 ;
dataBusqueda
╖╖< H
(
╖╖H I
)
╖╖I J
;
╖╖J K
data
╕╕$ (
.
╕╕( )
id
╕╕) +
=
╕╕, -
i
╕╕. /
.
╕╕/ 0
Id
╕╕0 2
;
╕╕2 3
data
╣╣$ (
.
╣╣( )
valor1
╣╣) /
=
╣╣0 1
i
╣╣2 3
.
╣╣3 4
Codigo
╣╣4 :
+
╣╣; <
$str
╣╣= ?
;
╣╣? @
data
║║$ (
.
║║( )
valor2
║║) /
=
║║0 1
i
║║2 3
.
║║3 4
Descripcion
║║4 ?
;
║║? @
data
╗╗$ (
.
╗╗( )
valor3
╗╗) /
=
╗╗0 1
i
╗╗2 3
.
╗╗3 4
und
╗╗4 7
;
╗╗7 8
data
╝╝$ (
.
╝╝( )
valor4
╝╝) /
=
╝╝0 1
i
╝╝2 3
.
╝╝3 4
cuenta
╝╝4 :
;
╝╝: ;
data
╜╜$ (
.
╜╜( )
valor5
╜╜) /
=
╜╜0 1
$str
╜╜2 4
;
╜╜4 5
data
╛╛$ (
.
╛╛( )
valor6
╛╛) /
=
╛╛0 1
$str
╛╛2 4
;
╛╛4 5
data
┐┐$ (
.
┐┐( )
valor7
┐┐) /
=
┐┐0 1
$str
┐┐2 4
;
┐┐4 5
data
└└$ (
.
└└( )
valor8
└└) /
=
└└0 1
$str
└└2 4
;
└└4 5
	buscadosS
┴┴$ -
.
┴┴- .
Add
┴┴. 1
(
┴┴1 2
data
┴┴2 6
)
┴┴6 7
;
┴┴7 8
}
┬┬  !
}
├├ 
break
── !
;
──! "
}
╞╞ 
}
╟╟ 
catch
╚╚ 
(
╚╚ 
	Exception
╚╚  
e
╚╚! "
)
╚╚" #
{
╔╔ 
var
╩╩ 
st
╩╩ 
=
╩╩ 
new
╩╩  

StackTrace
╩╩! +
(
╩╩+ ,
)
╩╩, -
;
╩╩- .
var
╦╦ 
sf
╦╦ 
=
╦╦ 
st
╦╦ 
.
╦╦  
GetFrame
╦╦  (
(
╦╦( )
$num
╦╦) *
)
╦╦* +
;
╦╦+ ,

MethodBase
╠╠ 
site
╠╠ #
=
╠╠$ %
e
╠╠& '
.
╠╠' (

TargetSite
╠╠( 2
;
╠╠2 3
string
══ 

methodName
══ %
=
══& '
site
══( ,
==
══- /
null
══0 4
?
══5 6
null
══7 ;
:
══< =
site
══> B
.
══B C
Name
══C G
;
══G H
General
╬╬ 
.
╬╬ 
CrearLogError
╬╬ )
(
╬╬) *
sf
╬╬* ,
.
╬╬, -
	GetMethod
╬╬- 6
(
╬╬6 7
)
╬╬7 8
.
╬╬8 9
Name
╬╬9 =
,
╬╬= >
$str
╬╬? M
,
╬╬M N
e
╬╬O P
.
╬╬P Q
Message
╬╬Q X
,
╬╬X Y
e
╬╬Y Z
.
╬╬Z [
Source
╬╬[ a
,
╬╬a b
e
╬╬b c
.
╬╬c d

StackTrace
╬╬d n
,
╬╬n o

methodName
╬╬o y
,
╬╬y z
_config╬╬{ В
.╬╬В Г#
GetConnectionString╬╬Г Ц
(╬╬Ц Ч
$str╬╬Ч б
)╬╬б в
)╬╬в г
;╬╬г д
}
╧╧ 
}
╤╤ 
return
╥╥ 
	buscadosS
╥╥ 
;
╥╥ 
}
╙╙ 	
public
╫╫ 
List
╫╫ 
<
╫╫ 
articulosBusqueda
╫╫ %
>
╫╫% &*
busquedaArticulosDevolutivos
╫╫' C
(
╫╫C D
string
╫╫D J
valor
╫╫K P
)
╫╫P Q
{
╪╪ 	
List
┘┘ 
<
┘┘ 
articulosBusqueda
┘┘ "
>
┘┘" #!
articulosDevolucion
┘┘$ 7
=
┘┘8 9
new
┘┘: =
List
┘┘> B
<
┘┘B C
articulosBusqueda
┘┘C T
>
┘┘T U
(
┘┘U V
)
┘┘V W
;
┘┘W X
string
┌┌ 
qwery
┌┌ 
=
┌┌ 
$str
┌┌ 
;
┌┌ 
try
██ 
{
▄▄ 
qwery
▌▌ 
=
▌▌ 
$str
▌▌ -
+
▌▌. /
$str
▐▐ .
+
▐▐/ 0
$str
▀▀ 8
+
▀▀9 :
$str
рр 8
+
рр9 :
$str
сс C
+
ссD E
$str
тт E
+
ттF G
$str
уу >
+
уу? @
$str
фф =
;
фф= >
using
хх 
(
хх 
SqlConnection
хх $
con
хх% (
=
хх) *
new
хх+ .
SqlConnection
хх/ <
(
хх< =
_config
хх= D
.
ххD E!
GetConnectionString
ххE X
(
ххX Y
$str
ххY c
)
ххc d
)
ххd e
)
ххe f
{
цц 
using
чч 
(
чч 

SqlCommand
чч $
cmd
чч% (
=
чч) *
new
чч+ .

SqlCommand
чч/ 9
(
чч9 :
qwery
чч: ?
)
чч? @
)
чч@ A
{
шш 
cmd
щщ 
.
щщ 

Connection
щщ &
=
щщ' (
con
щщ) ,
;
щщ, -
SqlParameter
ъъ $
vlr
ъъ% (
=
ъъ) *
new
ъъ+ .
SqlParameter
ъъ/ ;
(
ъъ; <
$str
ъъ< D
,
ъъD E
	SqlDbType
ъъF O
.
ъъO P
VarChar
ъъP W
)
ъъW X
;
ъъX Y
vlr
ыы 
.
ыы 
Value
ыы !
=
ыы" #
valor
ыы$ )
;
ыы) *
cmd
ьь 
.
ьь 

Parameters
ьь &
.
ьь& '
Add
ьь' *
(
ьь* +
vlr
ьь+ .
)
ьь. /
;
ьь/ 0
con
ээ 
.
ээ 
Open
ээ  
(
ээ  !
)
ээ! "
;
ээ" #
using
юю 
(
юю 
SqlDataReader
юю +
srd
юю, /
=
юю0 1
cmd
юю2 5
.
юю5 6
ExecuteReader
юю6 C
(
ююC D
)
ююD E
)
ююE F
{
яя 
while
ЁЁ !
(
ЁЁ" #
srd
ЁЁ# &
.
ЁЁ& '
Read
ЁЁ' +
(
ЁЁ+ ,
)
ЁЁ, -
)
ЁЁ- .
{
ёё !
articulosDevolucion
ЄЄ  3
.
ЄЄ3 4
Add
ЄЄ4 7
(
ЄЄ7 8
new
ЄЄ8 ;
articulosBusqueda
ЄЄ< M
{
єє  !
Id
ЇЇ$ &
=
ЇЇ0 1
Convert
ЇЇ2 9
.
ЇЇ9 :
ToInt32
ЇЇ: A
(
ЇЇA B
srd
ЇЇB E
[
ЇЇE F
$str
ЇЇF J
]
ЇЇJ K
)
ЇЇK L
,
ЇЇL M
Codigo
її$ *
=
її0 1
srd
її2 5
[
її5 6
$str
її6 >
]
її> ?
+
її? @
$str
її@ B
,
їїB C
Descripcion
ЎЎ$ /
=
ЎЎ0 1
srd
ЎЎ2 5
[
ЎЎ5 6
$str
ЎЎ6 C
]
ЎЎC D
+
ЎЎD E
$str
ЎЎE G
,
ЎЎG H
Tipo
ўў$ (
=
ўў0 1
Convert
ўў2 9
.
ўў9 :
ToInt32
ўў: A
(
ўўA B
srd
ўўB E
[
ўўE F
$str
ўўF L
]
ўўL M
)
ўўM N
}
°°  !
)
°°! "
;
°°" #
}
∙∙ 
}
·· 
con
√√ 
.
√√ 
Close
√√ !
(
√√! "
)
√√" #
;
√√# $
}
№№ 
}
¤¤ 
}
■■ 
catch
   
(
   
	Exception
   
e
   
)
   
{
АА 
var
ББ 
st
ББ 
=
ББ 
new
ББ 

StackTrace
ББ '
(
ББ' (
)
ББ( )
;
ББ) *
var
ВВ 
sf
ВВ 
=
ВВ 
st
ВВ 
.
ВВ 
GetFrame
ВВ $
(
ВВ$ %
$num
ВВ% &
)
ВВ& '
;
ВВ' (

MethodBase
ГГ 
site
ГГ 
=
ГГ  !
e
ГГ" #
.
ГГ# $

TargetSite
ГГ$ .
;
ГГ. /
string
ДД 

methodName
ДД !
=
ДД" #
site
ДД$ (
==
ДД) +
null
ДД, 0
?
ДД1 2
null
ДД3 7
:
ДД8 9
site
ДД: >
.
ДД> ?
Name
ДД? C
;
ДДC D
General
ЕЕ 
.
ЕЕ 
CrearLogError
ЕЕ %
(
ЕЕ% &
sf
ЕЕ& (
.
ЕЕ( )
	GetMethod
ЕЕ) 2
(
ЕЕ2 3
)
ЕЕ3 4
.
ЕЕ4 5
Name
ЕЕ5 9
,
ЕЕ9 :
$str
ЕЕ; F
,
ЕЕF G
e
ЕЕH I
.
ЕЕI J
Message
ЕЕJ Q
,
ЕЕQ R
e
ЕЕR S
.
ЕЕS T
Source
ЕЕT Z
,
ЕЕZ [
e
ЕЕ[ \
.
ЕЕ\ ]

StackTrace
ЕЕ] g
,
ЕЕg h

methodName
ЕЕh r
,
ЕЕr s
_config
ЕЕt {
.
ЕЕ{ |"
GetConnectionStringЕЕ| П
(ЕЕП Р
$strЕЕР Ъ
)ЕЕЪ Ы
)ЕЕЫ Ь
;ЕЕЬ Э
}
ЖЖ 
return
ЗЗ !
articulosDevolucion
ЗЗ &
;
ЗЗ& '
}
ИИ 	
public
КК 
List
КК 
<
КК #
articulosBusquedaFijo
КК )
>
КК) *"
BusquedaArticuloFijo
КК+ ?
(
КК? @
string
КК@ F
valor
ККG L
)
ККL M
{
ЛЛ 	
List
ММ 
<
ММ #
articulosBusquedaFijo
ММ &
>
ММ& '
articulosFijo
ММ( 5
=
ММ6 7
new
ММ8 ;
List
ММ< @
<
ММ@ A#
articulosBusquedaFijo
ММA V
>
ММV W
(
ММW X
)
ММX Y
;
ММY Z
string
НН 
qwery
НН 
=
НН 
$str
НН 
;
НН 
try
ОО 
{
ПП 
qwery
РР 
=
РР 
$str
РР ;
+
РР< =
$str
СС ?
+
СС? @
$str
ТТ =
+
ТТ= >
$str
УУ 9
+
УУ9 :
$str
ФФ F
+
ФФF G
$str
ХХ :
+
ХХ; <
$str
ЦЦ :
+
ЦЦ: ;
$str
ЧЧ :
+
ЧЧ: ;
$str
ШШ ;
+
ШШ; <
$str
ЩЩ /
+
ЩЩ/ 0
$str
ЪЪ d
+
ЪЪd e
$str
ЫЫ `
+
ЫЫ` a
$str
ЬЬ E
+
ЬЬE F
$str
ЭЭ ;
+
ЭЭ; <
$str
ЮЮ J
+
ЮЮK L
$str
ЯЯ N
+
ЯЯO P
$str
аа M
+
ааN O
$str
бб H
+
ббI J
$str
вв Q
+
ввR S
$str
гг K
+
ггL M
$str
дд K
+
ддL M
$str
ее L
+
ееM N
$str
жж K
;
жжK L
using
зз 
(
зз 
SqlConnection
зз $
con
зз% (
=
зз) *
new
зз+ .
SqlConnection
зз/ <
(
зз< =
_config
зз= D
.
ззD E!
GetConnectionString
ззE X
(
ззX Y
$str
ззY c
)
ззc d
)
ззd e
)
ззe f
{
ии 
using
йй 
(
йй 

SqlCommand
йй %
cmd
йй& )
=
йй* +
new
йй, /

SqlCommand
йй0 :
(
йй: ;
qwery
йй; @
)
йй@ A
)
ййA B
{
кк 
cmd
лл 
.
лл 

Connection
лл &
=
лл' (
con
лл) ,
;
лл, -
SqlParameter
мм $
vlr
мм% (
=
мм) *
new
мм+ .
SqlParameter
мм/ ;
(
мм; <
$str
мм< D
,
ммD E
	SqlDbType
ммF O
.
ммO P
VarChar
ммP W
)
ммW X
;
ммX Y
vlr
нн 
.
нн 
Value
нн !
=
нн" #
valor
нн$ )
;
нн) *
cmd
оо 
.
оо 

Parameters
оо &
.
оо& '
Add
оо' *
(
оо* +
vlr
оо+ .
)
оо. /
;
оо/ 0
con
пп 
.
пп 
Open
пп  
(
пп  !
)
пп! "
;
пп" #
using
░░ 
(
░░ 
SqlDataReader
░░ ,
srd
░░- 0
=
░░1 2
cmd
░░3 6
.
░░6 7
ExecuteReader
░░7 D
(
░░D E
)
░░E F
)
░░F G
{
▒▒ 
while
▓▓ !
(
▓▓" #
srd
▓▓# &
.
▓▓& '
Read
▓▓' +
(
▓▓+ ,
)
▓▓, -
)
▓▓- .
{
││ 
articulosFijo
┤┤  -
.
┤┤- .
Add
┤┤. 1
(
┤┤1 2
new
┤┤2 5#
articulosBusquedaFijo
┤┤6 K
{
╡╡  !
Id
╢╢$ &
=
╢╢' (
Convert
╢╢) 0
.
╢╢0 1
ToInt32
╢╢1 8
(
╢╢8 9
srd
╢╢9 <
[
╢╢< =
$str
╢╢= A
]
╢╢A B
)
╢╢B C
,
╢╢C D
Id_ped
╖╖$ *
=
╖╖+ ,
Convert
╖╖- 4
.
╖╖4 5
ToInt32
╖╖5 <
(
╖╖< =
srd
╖╖= @
[
╖╖@ A
$str
╖╖A I
]
╖╖I J
)
╖╖J K
,
╖╖K L
Codigo
╕╕$ *
=
╕╕+ ,
srd
╕╕- 0
[
╕╕0 1
$str
╕╕1 9
]
╕╕9 :
+
╕╕: ;
$str
╕╕; =
,
╕╕= >
Usuario
╣╣$ +
=
╣╣, -
srd
╣╣. 1
[
╣╣1 2
$str
╣╣2 ;
]
╣╣; <
+
╣╣< =
$str
╣╣= ?
,
╣╣? @
Descripcion
║║$ /
=
║║0 1
srd
║║2 5
[
║║5 6
$str
║║6 C
]
║║C D
+
║║D E
$str
║║E G
,
║║G H
Grupo
╗╗$ )
=
╗╗* +
srd
╗╗, /
[
╗╗/ 0
$str
╗╗0 7
]
╗╗7 8
+
╗╗8 9
$str
╗╗9 ;
,
╗╗; <
Valor
╝╝$ )
=
╝╝* +
Convert
╝╝, 3
.
╝╝3 4
ToDouble
╝╝4 <
(
╝╝< =
srd
╝╝= @
[
╝╝@ A
$str
╝╝A H
]
╝╝H I
)
╝╝I J
,
╝╝J K
CECO
╜╜$ (
=
╜╜) *
srd
╜╜+ .
[
╜╜. /
$str
╜╜/ 5
]
╜╜5 6
+
╜╜6 7
$str
╜╜7 9
,
╜╜9 :
V_util
╛╛$ *
=
╛╛+ ,
Convert
╛╛- 4
.
╛╛4 5
ToInt32
╛╛5 <
(
╛╛< =
srd
╛╛= @
[
╛╛@ A
$str
╛╛A I
]
╛╛I J
)
╛╛J K
}
┐┐  !
)
┐┐! "
;
┐┐" #
}
└└ 
}
┴┴ 
con
┬┬ 
.
┬┬ 
Close
┬┬ !
(
┬┬! "
)
┬┬" #
;
┬┬# $
}
├├ 
}
── 
}
┼┼ 
catch
╞╞ 
(
╞╞ 
	Exception
╞╞ 
e
╞╞ 
)
╞╞ 
{
╟╟ 
var
╚╚ 
st
╚╚ 
=
╚╚ 
new
╚╚ 

StackTrace
╚╚ '
(
╚╚' (
)
╚╚( )
;
╚╚) *
var
╔╔ 
sf
╔╔ 
=
╔╔ 
st
╔╔ 
.
╔╔ 
GetFrame
╔╔ $
(
╔╔$ %
$num
╔╔% &
)
╔╔& '
;
╔╔' (

MethodBase
╩╩ 
site
╩╩ 
=
╩╩  !
e
╩╩" #
.
╩╩# $

TargetSite
╩╩$ .
;
╩╩. /
string
╦╦ 

methodName
╦╦ !
=
╦╦" #
site
╦╦$ (
==
╦╦) +
null
╦╦, 0
?
╦╦1 2
null
╦╦3 7
:
╦╦8 9
site
╦╦: >
.
╦╦> ?
Name
╦╦? C
;
╦╦C D
General
╠╠ 
.
╠╠ 
CrearLogError
╠╠ %
(
╠╠% &
sf
╠╠& (
.
╠╠( )
	GetMethod
╠╠) 2
(
╠╠2 3
)
╠╠3 4
.
╠╠4 5
Name
╠╠5 9
,
╠╠9 :
$str
╠╠; I
,
╠╠I J
e
╠╠K L
.
╠╠L M
Message
╠╠M T
,
╠╠T U
e
╠╠U V
.
╠╠V W
Source
╠╠W ]
,
╠╠] ^
e
╠╠^ _
.
╠╠_ `

StackTrace
╠╠` j
,
╠╠j k

methodName
╠╠k u
,
╠╠u v
_config
╠╠w ~
.
╠╠~ "
GetConnectionString╠╠ Т
(╠╠Т У
$str╠╠У Э
)╠╠Э Ю
)╠╠Ю Я
;╠╠Я а
}
══ 
return
╧╧ 
articulosFijo
╧╧  
;
╧╧  !
}
╨╨ 	
public
╤╤ 
List
╤╤ 
<
╤╤ 
objeto
╤╤ 
>
╤╤ &
busquedaActivoDisponible
╤╤ 4
(
╤╤4 5
string
╤╤5 ;
valor
╤╤< A
,
╤╤A B
string
╤╤C I
	parametro
╤╤J S
)
╤╤S T
{
╥╥ 	
string
╙╙ 
param
╙╙ 
=
╙╙ 
	parametro
╙╙ $
;
╙╙$ %
int
╘╘ 
indexOf
╘╘ 
=
╘╘ 
	parametro
╘╘ #
.
╘╘# $
Length
╘╘$ *
;
╘╘* +
string
╒╒ 
Estado
╒╒ 
=
╒╒ 
	parametro
╒╒ %
.
╒╒% &
	Substring
╒╒& /
(
╒╒/ 0
indexOf
╒╒0 7
-
╒╒7 8
$num
╒╒8 9
)
╒╒9 :
;
╒╒: ;
List
╓╓ 
<
╓╓ 
objeto
╓╓ 
>
╓╓ 
Objetos
╓╓  
=
╓╓! "
new
╓╓# &
List
╓╓' +
<
╓╓+ ,
objeto
╓╓, 2
>
╓╓2 3
(
╓╓3 4
)
╓╓4 5
;
╓╓5 6
Objetos
╫╫ 
=
╫╫ 
_context
╫╫ 
.
╫╫ 
objeto
╫╫ %
.
╫╫% &
Where
╫╫& +
(
╫╫+ ,
x
╫╫, -
=>
╫╫. 0
(
╫╫1 2
x
╫╫2 3
.
╫╫3 4
af
╫╫4 6
==
╫╫7 9
valor
╫╫: ?
||
╪╪, .
x
╪╪/ 0
.
╪╪0 1
imei
╪╪1 5
==
╪╪6 8
valor
╪╪9 >
||
┘┘, .
x
┘┘/ 0
.
┘┘0 1
descripcion
┘┘1 <
.
┘┘< =
Contains
┘┘= E
(
┘┘E F
valor
┘┘F K
)
┘┘K L
)
┘┘L M
&&
┌┌, .
x
┌┌/ 0
.
┌┌0 1
estado
┌┌1 7
==
┌┌8 :
Convert
┌┌; B
.
┌┌B C
ToInt32
┌┌C J
(
┌┌J K
Estado
┌┌K Q
)
┌┌Q R
&&
██, .
x
██/ 0
.
██0 1
tipo_articulo
██1 >
==
██? A
$num
██B C
)
██C D
.
██D E
ToList
██E K
(
██K L
)
██L M
;
██M N
return
▄▄ 
Objetos
▄▄ 
;
▄▄ 
}
▌▌ 	
public
▀▀ 
List
▀▀ 
<
▀▀ 
objeto
▀▀ 
>
▀▀ )
busquedaDevolitvoDisponible
▀▀ 7
(
▀▀7 8
string
▀▀8 >
valor
▀▀? D
,
▀▀D E
string
▀▀F L
	parametro
▀▀M V
)
▀▀V W
{
рр 	
string
сс 
param
сс 
=
сс 
	parametro
сс $
;
сс$ %
int
тт 
indexOf
тт 
=
тт 
	parametro
тт #
.
тт# $
Length
тт$ *
;
тт* +
string
уу 
Estado
уу 
=
уу 
	parametro
уу %
.
уу% &
	Substring
уу& /
(
уу/ 0
indexOf
уу0 7
-
уу8 9
$num
уу: ;
)
уу; <
;
уу< =
List
фф 
<
фф 
objeto
фф 
>
фф 
Objetos
фф  
=
фф! "
new
фф# &
List
фф' +
<
фф+ ,
objeto
фф, 2
>
фф2 3
(
фф3 4
)
фф4 5
;
фф5 6
Objetos
хх 
=
хх 
_context
хх 
.
хх 
objeto
хх %
.
хх% &
Where
хх& +
(
хх+ ,
x
хх, -
=>
хх. 0
(
хх1 2
x
хх2 3
.
хх3 4
af
хх4 6
==
хх7 9
valor
хх: ?
||
цц, .
x
цц/ 0
.
цц0 1
imei
цц1 5
==
цц6 8
valor
цц9 >
||
чч, .
x
чч/ 0
.
чч0 1
descripcion
чч1 <
.
чч< =
Contains
чч= E
(
ччE F
valor
ччF K
)
ччK L
)
ччL M
&&
шш, .
x
шш/ 0
.
шш0 1
estado
шш1 7
==
шш8 :
Convert
шш; B
.
шшB C
ToInt32
шшC J
(
шшJ K
Estado
шшK Q
)
шшQ R
&&
щщ, .
x
щщ/ 0
.
щщ0 1
tipo_articulo
щщ1 >
==
щщ? A
$num
щщB C
)
щщC D
.
щщD E
ToList
щщE K
(
щщK L
)
щщL M
;
щщM N
return
ъъ 
Objetos
ъъ 
;
ъъ 
}
ыы 	
public
ээ 
List
ээ 
<
ээ 
empleado
ээ 
>
ээ 
busquedaEmpleados
ээ /
(
ээ/ 0
string
ээ0 6
valor
ээ7 <
)
ээ< =
{
юю 	
List
яя 
<
яя 
empleado
яя 
>
яя 
	Empleados
яя $
=
яя% &
new
яя' *
List
яя+ /
<
яя/ 0
empleado
яя0 8
>
яя8 9
(
яя9 :
)
яя: ;
;
яя; <
try
ЁЁ 
{
ёё 
	Empleados
ЄЄ 
=
ЄЄ 
_context
ЄЄ $
.
ЄЄ$ %
empleado
ЄЄ% -
.
ЄЄ- .
Where
ЄЄ. 3
(
ЄЄ3 4
x
ЄЄ4 5
=>
ЄЄ6 8
x
ЄЄ9 :
.
ЄЄ: ;

cedula_emp
ЄЄ; E
==
ЄЄF H
valor
ЄЄI N
||
єє4 6
x
єє7 8
.
єє8 9
nombre
єє9 ?
.
єє? @
Contains
єє@ H
(
єєH I
valor
єєI N
)
єєN O
||
ЇЇ4 6
x
ЇЇ7 8
.
ЇЇ8 9
snombre
ЇЇ9 @
.
ЇЇ@ A
Contains
ЇЇA I
(
ЇЇI J
valor
ЇЇJ O
)
ЇЇO P
||
її4 6
x
її7 8
.
її8 9
ppellido
її9 A
.
їїA B
Contains
їїB J
(
їїJ K
valor
їїK P
)
їїP Q
||
ЎЎ4 6
x
ЎЎ7 8
.
ЎЎ8 9
spellido
ЎЎ9 A
.
ЎЎA B
Contains
ЎЎB J
(
ЎЎJ K
valor
ЎЎK P
)
ЎЎP Q
&&
ўў4 6
x
ўў7 8
.
ўў8 9
estado
ўў9 ?
==
ўў@ B
$num
ўўC D
)
ўўD E
.
ўўE F
ToList
ўўF L
(
ўўL M
)
ўўM N
;
ўўN O
if
°° 
(
°° 
	Empleados
°° 
==
°° 
null
°°  $
)
°°$ %
{
∙∙ 
return
·· 
null
·· 
;
··  
}
√√ 
}
№№ 
catch
¤¤ 
(
¤¤ 
	Exception
¤¤ 
e
¤¤ 
)
¤¤ 
{
■■ 
var
   
st
   
=
   
new
   

StackTrace
   '
(
  ' (
)
  ( )
;
  ) *
var
АА 
sf
АА 
=
АА 
st
АА 
.
АА 
GetFrame
АА $
(
АА$ %
$num
АА% &
)
АА& '
;
АА' (

MethodBase
ББ 
site
ББ 
=
ББ  !
e
ББ" #
.
ББ# $

TargetSite
ББ$ .
;
ББ. /
string
ВВ 

methodName
ВВ !
=
ВВ" #
site
ВВ$ (
==
ВВ) +
null
ВВ, 0
?
ВВ1 2
null
ВВ3 7
:
ВВ8 9
site
ВВ: >
.
ВВ> ?
Name
ВВ? C
;
ВВC D
General
ГГ 
.
ГГ 
CrearLogError
ГГ %
(
ГГ% &
sf
ГГ& (
.
ГГ( )
	GetMethod
ГГ) 2
(
ГГ2 3
)
ГГ3 4
.
ГГ4 5
Name
ГГ5 9
,
ГГ9 :
$str
ГГ; E
,
ГГE F
e
ГГG H
.
ГГH I
Message
ГГI P
,
ГГP Q
e
ГГQ R
.
ГГR S
Source
ГГS Y
,
ГГY Z
e
ГГZ [
.
ГГ[ \

StackTrace
ГГ\ f
,
ГГf g

methodName
ГГg q
,
ГГq r
_config
ГГs z
.
ГГz {"
GetConnectionStringГГ{ О
(ГГО П
$strГГП Щ
)ГГЩ Ъ
)ГГЪ Ы
;ГГЫ Ь
}
ДД 
return
ЕЕ 
	Empleados
ЕЕ 
;
ЕЕ 
}
ЖЖ 	
public
ИИ 
List
ИИ 
<
ИИ 
busquedaProveedor
ИИ %
>
ИИ% & 
busquedaProvedores
ИИ' 9
(
ИИ9 :
string
ИИ: @
valor
ИИA F
)
ИИF G
{
ЙЙ 	
List
КК 
<
КК 
busquedaProveedor
КК "
>
КК" #
proveedores
КК$ /
=
КК0 1
new
КК2 5
List
КК6 :
<
КК: ;
busquedaProveedor
КК; L
>
ККL M
(
ККM N
)
ККN O
;
ККO P
string
ЛЛ 
qwery
ЛЛ 
=
ЛЛ 
$str
ЛЛ 
;
ЛЛ 
try
ММ 
{
НН 
qwery
ОО 
=
ОО 
$str
ОО `
+
ОО` a
$str
ПП O
+
ППO P
$strРР Е
+РРЖ З
$str
СС <
;
СС< =
using
ТТ 
(
ТТ 
SqlConnection
ТТ $
con
ТТ% (
=
ТТ) *
new
ТТ+ .
SqlConnection
ТТ/ <
(
ТТ< =
_config
ТТ= D
.
ТТD E!
GetConnectionString
ТТE X
(
ТТX Y
$str
ТТY c
)
ТТc d
)
ТТd e
)
ТТe f
{
УУ 
using
ФФ 
(
ФФ 

SqlCommand
ФФ %
cmd
ФФ& )
=
ФФ* +
new
ФФ, /

SqlCommand
ФФ0 :
(
ФФ: ;
qwery
ФФ; @
)
ФФ@ A
)
ФФA B
{
ХХ 
cmd
ЦЦ 
.
ЦЦ 

Parameters
ЦЦ &
.
ЦЦ& '
Add
ЦЦ' *
(
ЦЦ* +
new
ЦЦ+ .
SqlParameter
ЦЦ/ ;
(
ЦЦ; <
$str
ЦЦ< D
,
ЦЦD E
System
ЦЦF L
.
ЦЦL M
Data
ЦЦM Q
.
ЦЦQ R
	SqlDbType
ЦЦR [
.
ЦЦ[ \
VarChar
ЦЦ\ c
)
ЦЦc d
)
ЦЦd e
;
ЦЦe f
cmd
ЧЧ 
.
ЧЧ 

Parameters
ЧЧ &
[
ЧЧ& '
$str
ЧЧ' /
]
ЧЧ/ 0
.
ЧЧ0 1
Value
ЧЧ1 6
=
ЧЧ7 8
valor
ЧЧ9 >
;
ЧЧ> ?
cmd
ШШ 
.
ШШ 

Connection
ШШ &
=
ШШ' (
con
ШШ) ,
;
ШШ, -
con
ЩЩ 
.
ЩЩ 
Open
ЩЩ  
(
ЩЩ  !
)
ЩЩ! "
;
ЩЩ" #
using
ЪЪ 
(
ЪЪ 
SqlDataReader
ЪЪ ,
srd
ЪЪ- 0
=
ЪЪ1 2
cmd
ЪЪ3 6
.
ЪЪ6 7
ExecuteReader
ЪЪ7 D
(
ЪЪD E
)
ЪЪE F
)
ЪЪF G
{
ЫЫ 
while
ЬЬ !
(
ЬЬ" #
srd
ЬЬ# &
.
ЬЬ& '
Read
ЬЬ' +
(
ЬЬ+ ,
)
ЬЬ, -
)
ЬЬ- .
{
ЭЭ 
proveedores
ЮЮ  +
.
ЮЮ+ ,
Add
ЮЮ, /
(
ЮЮ/ 0
new
ЮЮ0 3
busquedaProveedor
ЮЮ4 E
{
ЯЯ  !
id
аа$ &
=
аа' (
Convert
аа) 0
.
аа0 1
ToInt32
аа1 8
(
аа8 9
srd
аа9 <
[
аа< =
$str
аа= A
]
ааA B
)
ааB C
,
ааC D
nit
бб$ '
=
бб( )
srd
бб* -
[
бб- .
$str
бб. 3
]
бб3 4
+
бб4 5
$str
бб5 7
,
бб7 8
razon_social
вв$ 0
=
вв1 2
srd
вв3 6
[
вв6 7
$str
вв7 E
]
ввE F
+
ввF G
$str
ввG I
,
ввI J
contrato
гг$ ,
=
гг- .
srd
гг/ 2
[
гг2 3
$str
гг3 =
]
гг= >
+
гг> ?
$str
гг? A
}
дд  !
)
дд! "
;
дд" #
}
ее 
}
жж 
con
зз 
.
зз 
Close
зз !
(
зз! "
)
зз" #
;
зз# $
}
йй 
}
кк 
}
лл 
catch
мм 
(
мм 
	Exception
мм 
e
мм 
)
мм 
{
нн 
var
оо 
st
оо 
=
оо 
new
оо 

StackTrace
оо '
(
оо' (
)
оо( )
;
оо) *
var
пп 
sf
пп 
=
пп 
st
пп 
.
пп 
GetFrame
пп $
(
пп$ %
$num
пп% &
)
пп& '
;
пп' (

MethodBase
░░ 
site
░░ 
=
░░  !
e
░░" #
.
░░# $

TargetSite
░░$ .
;
░░. /
string
▒▒ 

methodName
▒▒ !
=
▒▒" #
site
▒▒$ (
==
▒▒) +
null
▒▒, 0
?
▒▒1 2
null
▒▒3 7
:
▒▒8 9
site
▒▒: >
.
▒▒> ?
Name
▒▒? C
;
▒▒C D
General
▓▓ 
.
▓▓ 
CrearLogError
▓▓ %
(
▓▓% &
sf
▓▓& (
.
▓▓( )
	GetMethod
▓▓) 2
(
▓▓2 3
)
▓▓3 4
.
▓▓4 5
Name
▓▓5 9
,
▓▓9 :
$str
▓▓; H
,
▓▓H I
e
▓▓J K
.
▓▓K L
Message
▓▓L S
,
▓▓S T
e
▓▓T U
.
▓▓U V
Source
▓▓V \
,
▓▓\ ]
e
▓▓] ^
.
▓▓^ _

StackTrace
▓▓_ i
,
▓▓i j

methodName
▓▓j t
,
▓▓t u
_config
▓▓v }
.
▓▓} ~"
GetConnectionString▓▓~ С
(▓▓С Т
$str▓▓Т Ь
)▓▓Ь Э
)▓▓Э Ю
;▓▓Ю Я
}
││ 
return
╡╡ 
proveedores
╡╡ 
;
╡╡ 
}
╢╢ 	
public
╕╕ 
List
╕╕ 
<
╕╕ 
articulosPedidos
╕╕ $
>
╕╕$ %-
busquedaArticulosComprasPedidos
╕╕& E
(
╕╕E F
string
╕╕F L
valor
╕╕M R
)
╕╕R S
{
╣╣ 	
List
║║ 
<
║║ 
articulosPedidos
║║ !
>
║║! "
	articulos
║║# ,
=
║║- .
new
║║/ 2
List
║║3 7
<
║║7 8
articulosPedidos
║║8 H
>
║║H I
(
║║I J
)
║║J K
;
║║K L
string
╗╗ 
query
╗╗ 
=
╗╗ 
$str
╗╗ 
;
╗╗ 
try
╝╝ 
{
╜╜ 
query
╛╛ 
=
╛╛ 
$str
╛╛ _
+
╛╛_ `
$str┐┐ е
;┐┐е ж
using
└└ 
(
└└ 
SqlConnection
└└ $
con
└└% (
=
└└) *
new
└└+ .
SqlConnection
└└/ <
(
└└< =
_config
└└= D
.
└└D E!
GetConnectionString
└└E X
(
└└X Y
$str
└└Y c
)
└└c d
)
└└d e
)
└└e f
{
┴┴ 
using
┬┬ 
(
┬┬ 

SqlCommand
┬┬ %
cmd
┬┬& )
=
┬┬* +
new
┬┬, /

SqlCommand
┬┬0 :
(
┬┬: ;
query
┬┬; @
)
┬┬@ A
)
┬┬A B
{
├├ 
cmd
── 
.
── 

Parameters
── &
.
──& '
Add
──' *
(
──* +
new
──+ .
SqlParameter
──/ ;
(
──; <
$str
──< D
,
──D E
System
──F L
.
──L M
Data
──M Q
.
──Q R
	SqlDbType
──R [
.
──[ \
VarChar
──\ c
)
──c d
)
──d e
;
──e f
cmd
┼┼ 
.
┼┼ 

Parameters
┼┼ &
[
┼┼& '
$str
┼┼' /
]
┼┼/ 0
.
┼┼0 1
Value
┼┼1 6
=
┼┼7 8
valor
┼┼9 >
;
┼┼> ?
cmd
╞╞ 
.
╞╞ 

Connection
╞╞ &
=
╞╞' (
con
╞╞) ,
;
╞╞, -
con
╟╟ 
.
╟╟ 
Open
╟╟  
(
╟╟  !
)
╟╟! "
;
╟╟" #
using
╚╚ 
(
╚╚ 
SqlDataReader
╚╚ ,
srd
╚╚- 0
=
╚╚1 2
cmd
╚╚3 6
.
╚╚6 7
ExecuteReader
╚╚7 D
(
╚╚D E
)
╚╚E F
)
╚╚F G
{
╔╔ 
while
╩╩ !
(
╩╩" #
srd
╩╩# &
.
╩╩& '
Read
╩╩' +
(
╩╩+ ,
)
╩╩, -
)
╩╩- .
{
╦╦ 
	articulos
╠╠  )
.
╠╠) *
Add
╠╠* -
(
╠╠- .
new
╠╠. 1
articulosPedidos
╠╠2 B
{
══  !
Id
╬╬$ &
=
╬╬' (
Convert
╬╬) 0
.
╬╬0 1
ToInt32
╬╬1 8
(
╬╬8 9
srd
╬╬9 <
[
╬╬< =
$str
╬╬= A
]
╬╬A B
)
╬╬B C
,
╬╬C D
Codigo
╧╧$ *
=
╧╧+ ,
Convert
╧╧- 4
.
╧╧4 5
ToInt32
╧╧5 <
(
╧╧< =
srd
╧╧= @
[
╧╧@ A
$str
╧╧A I
]
╧╧I J
)
╧╧J K
,
╧╧K L
Descripcion
╨╨$ /
=
╨╨0 1
srd
╨╨2 5
[
╨╨5 6
$str
╨╨6 C
]
╨╨C D
+
╨╨D E
$str
╨╨E G
,
╨╨G H
und
╤╤$ '
=
╤╤( )
srd
╤╤* -
[
╤╤- .
$str
╤╤. 3
]
╤╤3 4
+
╤╤4 5
$str
╤╤5 7
,
╤╤7 8
cuenta
╥╥$ *
=
╥╥+ ,
srd
╥╥- 0
[
╥╥0 1
$str
╥╥1 9
]
╥╥9 :
+
╥╥: ;
$str
╥╥; =
}
╙╙  !
)
╙╙! "
;
╙╙" #
}
╘╘ 
}
╒╒ 
con
╓╓ 
.
╓╓ 
Close
╓╓ !
(
╓╓! "
)
╓╓" #
;
╓╓# $
}
╫╫ 
}
╪╪ 
}
┘┘ 
catch
┌┌ 
(
┌┌ 
	Exception
┌┌ 
e
┌┌ 
)
┌┌ 
{
██ 
var
▄▄ 
st
▄▄ 
=
▄▄ 
new
▄▄ 

StackTrace
▄▄ '
(
▄▄' (
)
▄▄( )
;
▄▄) *
var
▌▌ 
sf
▌▌ 
=
▌▌ 
st
▌▌ 
.
▌▌ 
GetFrame
▌▌ $
(
▌▌$ %
$num
▌▌% &
)
▌▌& '
;
▌▌' (

MethodBase
▐▐ 
site
▐▐ 
=
▐▐  !
e
▐▐" #
.
▐▐# $

TargetSite
▐▐$ .
;
▐▐. /
string
▀▀ 

methodName
▀▀ !
=
▀▀" #
site
▀▀$ (
==
▀▀) +
null
▀▀, 0
?
▀▀1 2
null
▀▀3 7
:
▀▀8 9
site
▀▀: >
.
▀▀> ?
Name
▀▀? C
;
▀▀C D
General
рр 
.
рр 
CrearLogError
рр %
(
рр% &
sf
рр& (
.
рр( )
	GetMethod
рр) 2
(
рр2 3
)
рр3 4
.
рр4 5
Name
рр5 9
,
рр9 :
$str
рр; N
,
ррN O
e
ррP Q
.
ррQ R
Message
ррR Y
,
ррY Z
e
ррZ [
.
рр[ \
Source
рр\ b
,
ррb c
e
ррc d
.
ррd e

StackTrace
ррe o
,
ррo p

methodName
ррp z
,
ррz {
_configрр| Г
.ррГ Д#
GetConnectionStringррД Ч
(ррЧ Ш
$strррШ в
)ррв г
)ррг д
;ррд е
}
сс 
return
тт 
	articulos
тт 
;
тт 
}
уу 	
public
хх 
List
хх 
<
хх 
articulosPedidos
хх $
>
хх$ %)
busquedaArticulosFijoPedido
хх& A
(
ххA B
string
ххB H
valor
ххI N
)
ххN O
{
цц 	
List
чч 
<
чч 
articulosPedidos
чч !
>
чч! "
	articulos
чч# ,
=
чч- .
new
чч/ 2
List
чч3 7
<
чч7 8
articulosPedidos
чч8 H
>
ччH I
(
ччI J
)
ччJ K
;
ччK L
string
шш 
query
шш 
=
шш 
$str
шш 
;
шш 
try
щщ 
{
ъъ 
query
ыы 
=
ыы 
$str
ыы Z
+
ыыZ [
$strьь е
;ьье ж
using
юю 
(
юю 
SqlConnection
юю $
con
юю% (
=
юю) *
new
юю+ .
SqlConnection
юю/ <
(
юю< =
_config
юю= D
.
ююD E!
GetConnectionString
ююE X
(
ююX Y
$str
ююY c
)
ююc d
)
ююd e
)
ююe f
{
яя 
using
ЁЁ 
(
ЁЁ 

SqlCommand
ЁЁ %
cmd
ЁЁ& )
=
ЁЁ* +
new
ЁЁ, /

SqlCommand
ЁЁ0 :
(
ЁЁ: ;
query
ЁЁ; @
)
ЁЁ@ A
)
ЁЁA B
{
ёё 
cmd
ЄЄ 
.
ЄЄ 

Parameters
ЄЄ &
.
ЄЄ& '
Add
ЄЄ' *
(
ЄЄ* +
new
ЄЄ+ .
SqlParameter
ЄЄ/ ;
(
ЄЄ; <
$str
ЄЄ< D
,
ЄЄD E
System
ЄЄF L
.
ЄЄL M
Data
ЄЄM Q
.
ЄЄQ R
	SqlDbType
ЄЄR [
.
ЄЄ[ \
VarChar
ЄЄ\ c
)
ЄЄc d
)
ЄЄd e
;
ЄЄe f
cmd
єє 
.
єє 

Parameters
єє &
[
єє& '
$str
єє' /
]
єє/ 0
.
єє0 1
Value
єє1 6
=
єє7 8
valor
єє9 >
;
єє> ?
cmd
ЇЇ 
.
ЇЇ 

Connection
ЇЇ &
=
ЇЇ' (
con
ЇЇ) ,
;
ЇЇ, -
con
її 
.
її 
Open
її  
(
її  !
)
її! "
;
її" #
using
ЎЎ 
(
ЎЎ 
SqlDataReader
ЎЎ ,
srd
ЎЎ- 0
=
ЎЎ1 2
cmd
ЎЎ3 6
.
ЎЎ6 7
ExecuteReader
ЎЎ7 D
(
ЎЎD E
)
ЎЎE F
)
ЎЎF G
{
ўў 
while
°° !
(
°°" #
srd
°°# &
.
°°& '
Read
°°' +
(
°°+ ,
)
°°, -
)
°°- .
{
∙∙ 
	articulos
··  )
.
··) *
Add
··* -
(
··- .
new
··. 1
articulosPedidos
··2 B
{
√√  !
Id
№№$ &
=
№№' (
Convert
№№) 0
.
№№0 1
ToInt32
№№1 8
(
№№8 9
srd
№№9 <
[
№№< =
$str
№№= A
]
№№A B
)
№№B C
,
№№C D
Codigo
¤¤$ *
=
¤¤+ ,
Convert
¤¤- 4
.
¤¤4 5
ToInt32
¤¤5 <
(
¤¤< =
srd
¤¤= @
[
¤¤@ A
$str
¤¤A I
]
¤¤I J
)
¤¤J K
,
¤¤K L
Descripcion
■■$ /
=
■■0 1
srd
■■2 5
[
■■5 6
$str
■■6 C
]
■■C D
+
■■E F
$str
■■G I
,
■■I J
und
  $ '
=
  ( )
srd
  * -
[
  - .
$str
  . 3
]
  3 4
+
  5 6
$str
  7 9
,
  9 :
cuenta
АА$ *
=
АА+ ,
srd
АА- 0
[
АА0 1
$str
АА1 9
]
АА9 :
+
АА; <
$str
АА= ?
}
ББ  !
)
ББ! "
;
ББ" #
}
ВВ 
}
ГГ 
con
ДД 
.
ДД 
Close
ДД !
(
ДД! "
)
ДД" #
;
ДД# $
}
ЕЕ 
}
ЖЖ 
}
ИИ 
catch
ЙЙ 
(
ЙЙ 
	Exception
ЙЙ 
e
ЙЙ 
)
ЙЙ 
{
КК 
var
ЛЛ 
st
ЛЛ 
=
ЛЛ 
new
ЛЛ 

StackTrace
ЛЛ '
(
ЛЛ' (
)
ЛЛ( )
;
ЛЛ) *
var
ММ 
sf
ММ 
=
ММ 
st
ММ 
.
ММ 
GetFrame
ММ $
(
ММ$ %
$num
ММ% &
)
ММ& '
;
ММ' (

MethodBase
НН 
site
НН 
=
НН  !
e
НН" #
.
НН# $

TargetSite
НН$ .
;
НН. /
string
ОО 

methodName
ОО !
=
ОО" #
site
ОО$ (
==
ОО) +
null
ОО, 0
?
ОО1 2
null
ОО3 7
:
ОО8 9
site
ОО: >
.
ОО> ?
Name
ОО? C
;
ООC D
General
ПП 
.
ПП 
CrearLogError
ПП %
(
ПП% &
sf
ПП& (
.
ПП( )
	GetMethod
ПП) 2
(
ПП2 3
)
ПП3 4
.
ПП4 5
Name
ПП5 9
,
ПП9 :
$str
ПП; I
,
ППI J
e
ППK L
.
ППL M
Message
ППM T
,
ППT U
e
ППU V
.
ППV W
Source
ППW ]
,
ПП] ^
e
ПП^ _
.
ПП_ `

StackTrace
ПП` j
,
ППj k

methodName
ППk u
,
ППu v
_config
ППw ~
.
ПП~ "
GetConnectionStringПП Т
(ППТ У
$strППУ Э
)ППЭ Ю
)ППЮ Я
;ППЯ а
}
РР 
return
СС 
	articulos
СС 
;
СС 
}
ТТ 	
}
ХХ 
}ЦЦ Й/
GE:\GITEA\siscointBKII\siscointBKII\Controllers\CentroCostoController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class !
CentroCostoController &
:' (
ControllerBase) 7
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public !
CentroCostoController $
($ %
AplicationDbContext% 8
context9 @
,@ A
IConfigurationB P
configQ W
)W X
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpPost	 
( 
$str "
)" #
]# $
[ 	
	Authorize	 
] 
public 
IActionResult 
getCentroCosto +
(+ ,
[, -
FromBody- 5
]5 6
area_ccosto7 B
area_ccostosC O
)O P
{ 	
var 
dato 
= 
new 
Object !
(! "
)" #
;# $
try 
{ 
dato   
=   
_context   
.    
area_ccosto    +
.  + ,
Where  , 1
(  1 2
x  2 3
=>  4 6
x  7 8
.  8 9
id  9 ;
==  < >
area_ccostos  ? K
.  K L
id  L N
||  O Q
x  R S
.  S T
ccosto  T Z
==  [ ]
area_ccostos  ^ j
.  j k
ccosto  k q
)  q r
.  r s
ToList  s y
(  y z
)  z {
;  { |
}!! 
catch"" 
("" 
	Exception"" 
e"" 
)"" 
{## 
var%% 
st%% 
=%% 
new%% 

StackTrace%% '
(%%' (
)%%( )
;%%) *
var&& 
sf&& 
=&& 
st&& 
.&& 
GetFrame&& $
(&&$ %
$num&&% &
)&&& '
;&&' (

MethodBase'' 
site'' 
=''  !
e''" #
.''# $

TargetSite''$ .
;''. /
string(( 

methodName(( !
=((" #
site(($ (
==(() +
null((, 0
?((1 2
null((3 7
:((8 9
site((: >
.((> ?
Name((? C
;((C D
General)) 
.)) 
CrearLogError)) %
())% &
sf))& (
.))( )
	GetMethod))) 2
())2 3
)))3 4
.))4 5
Name))5 9
,))9 :
$str)); H
,))H I
e))J K
.))K L
Message))L S
,))S T
e))T U
.))U V
Source))V \
,))\ ]
e))] ^
.))^ _

StackTrace))_ i
,))i j

methodName))k u
,))u v
_config))w ~
.))~  
GetConnectionString	)) Т
(
))Т У
$str
))У Э
)
))Э Ю
)
))Ю Я
;
))Я а
}** 
return++ 
Ok++ 
(++ 
dato++ 
)++ 
;++ 
},, 	
[.. 	
HttpGet..	 
(.. 
$str.. %
)..% &
]..& '
[// 	
	Authorize//	 
]// 
public00 
IActionResult00 "
getListAreaCentroCosto00 3
(003 4
)004 5
{11 	
var22 
data22 
=22 
new22 
Object22 !
(22! "
)22" #
;22# $
try33 
{44 
data55 
=55 
_context55 
.55  
area_ccosto55  +
.55+ ,
ToList55, 2
(552 3
)553 4
;554 5
if66 
(66 
data66 
==66 
null66 
)66  
{77 
return88 
null88 
;88  
}99 
}:: 
catch;; 
(;; 
	Exception;; 
e;; 
);; 
{<< 
var== 
st== 
=== 
new== 

StackTrace== '
(==' (
)==( )
;==) *
var>> 
sf>> 
=>> 
st>> 
.>> 
GetFrame>> $
(>>$ %
$num>>% &
)>>& '
;>>' (

MethodBase?? 
site?? 
=??  !
e??" #
.??# $

TargetSite??$ .
;??. /
string@@ 

methodName@@ !
=@@" #
site@@$ (
==@@) +
null@@, 0
?@@1 2
null@@3 7
:@@8 9
site@@: >
.@@> ?
Name@@? C
;@@C D
GeneralAA 
.AA 
CrearLogErrorAA %
(AA% &
sfAA& (
.AA( )
	GetMethodAA) 2
(AA2 3
)AA3 4
.AA4 5
NameAA5 9
,AA9 :
$strAA; H
,AAH I
eAAJ K
.AAK L
MessageAAL S
,AAS T
eAAT U
.AAU V
SourceAAV \
,AA\ ]
eAA] ^
.AA^ _

StackTraceAA_ i
,AAi j

methodNameAAj t
,AAt u
_configAAv }
.AA} ~ 
GetConnectionString	AA~ С
(
AAС Т
$str
AAТ Ь
)
AAЬ Э
)
AAЭ Ю
;
AAЮ Я
}BB 
returnCC 
OkCC 
(CC 
dataCC 
)CC 
;CC 
}DD 	
}EE 
}FF ╘Ж
DE:\GITEA\siscointBKII\siscointBKII\Controllers\empleadoController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
empleadoController #
:$ %

Controller& 0
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
object  
JavaScriptSerializer *
{+ ,
get- 0
;0 1
private2 9
set: =
;= >
}? @
public 
empleadoController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
]  
[ 	
	Authorize	 
] 
public   
IActionResult   
getEmpresas   (
(  ( )
)  ) *
{!! 	
var"" 
data"" 
="" 
_context"" 
.""  
empresa""  '
.""' (
ToList""( .
("". /
)""/ 0
;""0 1
if## 
(## 
data## 
==## 
null## 
)## 
return$$ 
null$$ 
;$$ 
return&& 
Ok&& 
(&& 
data&& 
)&& 
;&& 
}'' 	
[)) 	
HttpPost))	 
()) 
$str)) !
)))! "
]))" #
[** 	
	Authorize**	 
]** 
public++ 
IActionResult++ 
getAreaCcosto++ *
(++* +
dynamic+++ 2
data++3 7
)++7 8
{,, 	
return99 
Ok99 
(99 
)99 
;99 
}:: 	
[<< 	
HttpPost<<	 
(<< 
$str<< $
)<<$ %
]<<% &
[== 	
	Authorize==	 
]== 
public>> 
IActionResult>> 
busquedaEmpleado>> -
(>>- .
[>>. /
FromBody>>/ 7
]>>7 8
empleado>>9 A
Empleado>>B J
)>>J K
{?? 	
ListAA 
<AA  
dataBusquedaCompletaAA %
>AA% &
busquedaAA' /
=AA0 1
newAA2 5
ListAA6 :
<AA: ; 
dataBusquedaCompletaAA; O
>AAO P
(AAP Q
)AAQ R
;AAR S
tryBB 
{CC 
varDD 
dataDD 
=DD 
_contextDD #
.DD# $
empleadoDD$ ,
.DD, -
WhereDD- 2
(DD2 3
xDD3 4
=>DD5 7
xDD8 9
.DD9 :

cedula_empDD: D
==DDE G
EmpleadoDDH P
.DDP Q

cedula_empDDQ [
||DD\ ^
xEE4 5
.EE5 6
nombreEE6 <
.EE< =
ContainsEE= E
(EEE F
EmpleadoEEF N
.EEN O
nombreEEO U
)EEU V
||EEW Y
xFF4 5
.FF5 6
snombreFF6 =
.FF= >
ContainsFF> F
(FFF G
EmpleadoFFG O
.FFO P
snombreFFP W
)FFW X
||FFY [
xGG4 5
.GG5 6
ppellidoGG6 >
.GG> ?
ContainsGG? G
(GGG H
EmpleadoGGH P
.GGP Q
ppellidoGGQ Y
)GGY Z
||GG[ ]
xHH4 5
.HH5 6
spellidoHH6 >
.HH> ?
ContainsHH? G
(HHG H
EmpleadoHHH P
.HHP Q
spellidoHHQ Y
)HHY Z
)HHZ [
.HH[ \
ToListHH\ b
(HHb c
)HHc d
;HHd e
ifJJ 
(JJ 
dataJJ 
==JJ 
nullJJ  
)JJ  !
returnKK 
nullKK 
;KK  
foreachMM 
(MM 
empleadoMM  
itemMM! %
inMM& (
dataMM) -
)MM- .
{NN  
dataBusquedaCompletaOO (
busqOO) -
=OO. /
newOO0 3 
dataBusquedaCompletaOO4 H
(OOH I
)OOI J
;OOJ K
busqPP 
.PP 
idPP 
=PP 
itemPP "
.PP" #
idPP# %
;PP% &
busqQQ 
.QQ 
valor1QQ 
=QQ  !
itemQQ" &
.QQ& '

cedula_empQQ' 1
;QQ1 2
busqRR 
.RR 
valor2RR 
=RR  !
itemRR" &
.RR& '
nombreRR' -
;RR- .
busqSS 
.SS 
valor3SS 
=SS  !
itemSS" &
.SS& '
snombreSS' .
;SS. /
busqTT 
.TT 
valor4TT 
=TT  !
itemTT" &
.TT& '
ppellidoTT' /
;TT/ 0
busqUU 
.UU 
valor5UU 
=UU  !
itemUU" &
.UU& '
spellidoUU' /
;UU/ 0
busquedaWW 
.WW 
AddWW  
(WW  !
busqWW! %
)WW% &
;WW& '
}XX 
}YY 
catchZZ 
(ZZ 
	ExceptionZZ 
eZZ 
)ZZ 
{[[ 
var]] 
st]] 
=]] 
new]] 

StackTrace]] '
(]]' (
)]]( )
;]]) *
var^^ 
sf^^ 
=^^ 
st^^ 
.^^ 
GetFrame^^ $
(^^$ %
$num^^% &
)^^& '
;^^' (

MethodBase__ 
site__ 
=__  !
e__" #
.__# $

TargetSite__$ .
;__. /
string`` 

methodName`` !
=``" #
site``$ (
==``) +
null``, 0
?``1 2
null``3 7
:``8 9
site``: >
.``> ?
Name``? C
;``C D
Generalaa 
.aa 
CrearLogErroraa %
(aa% &
sfaa& (
.aa( )
	GetMethodaa) 2
(aa2 3
)aa3 4
.aa4 5
Nameaa5 9
,aa9 :
$straa; E
,aaE F
eaaG H
.aaH I
MessageaaI P
,aaP Q
eaaQ R
.aaR S
SourceaaS Y
,aaY Z
eaaZ [
.aa[ \

StackTraceaa\ f
,aaf g

methodNameaag q
,aaq r
_configaas z
.aaz { 
GetConnectionString	aa{ О
(
aaО П
$str
aaП Щ
)
aaЩ Ъ
)
aaЪ Ы
;
aaЫ Ь
}bb 
returncc 
Okcc 
(cc 
busquedacc 
)cc 
;cc  
}dd 	
[ff 	
HttpPostff	 
(ff 
$strff &
)ff& '
]ff' (
[gg 	
	Authorizegg	 
]gg 
publichh 
IActionResulthh 
busquedaEmpleadoIdhh /
(hh/ 0
[hh0 1
FromBodyhh1 9
]hh9 :
empleadohh; C
EmpleadohhD L
)hhL M
{ii 	
varjj 
datajj 
=jj 
newjj 
Objectjj !
(jj! "
)jj" #
;jj# $
trykk 
{ll 
datamm 
=mm 
_contextmm 
.mm  
empleadomm  (
.mm( )
Wheremm) .
(mm. /
xmm/ 0
=>mm1 3
xmm4 5
.mm5 6
idmm6 8
==mm9 ;
Empleadomm< D
.mmD E
idmmE G
)mmG H
.mmH I
ToListmmI O
(mmO P
)mmP Q
;mmQ R
ifnn 
(nn 
datann 
==nn 
nullnn  
)nn  !
returnoo 
nulloo 
;oo  
}pp 
catchqq 
(qq 
	Exceptionqq 
eqq 
)qq 
{rr 
varss 
stss 
=ss 
newss 

StackTracess '
(ss' (
)ss( )
;ss) *
vartt 
sftt 
=tt 
sttt 
.tt 
GetFramett $
(tt$ %
$numtt% &
)tt& '
;tt' (

MethodBaseuu 
siteuu 
=uu  !
euu" #
.uu# $

TargetSiteuu$ .
;uu. /
stringvv 

methodNamevv !
=vv" #
sitevv$ (
==vv) +
nullvv, 0
?vv1 2
nullvv3 7
:vv8 9
sitevv: >
.vv> ?
Namevv? C
;vvC D
Generalww 
.ww 
CrearLogErrorww %
(ww% &
sfww& (
.ww( )
	GetMethodww) 2
(ww2 3
)ww3 4
.ww4 5
Nameww5 9
,ww9 :
$strww; E
,wwE F
ewwG H
.wwH I
MessagewwI P
,wwP Q
ewwQ R
.wwR S
SourcewwS Y
,wwY Z
ewwZ [
.ww[ \

StackTraceww\ f
,wwf g

methodNamewwg q
,wwq r
_configwws z
.wwz { 
GetConnectionString	ww{ О
(
wwО П
$str
wwП Щ
)
wwЩ Ъ
)
wwЪ Ы
;
wwЫ Ь
}xx 
returnyy 
Okyy 
(yy 
datayy 
)yy 
;yy 
}zz 	
[{{ 	
HttpPost{{	 
({{ 
$str{{ #
){{# $
]{{$ %
[|| 	
	Authorize||	 
]|| 
public}} 
IActionResult}} 
agregarEmpleado}} ,
(}}, -
[}}- .
FromBody}}. 6
]}}6 7
empleado}}8 @
Empleado}}A I
)}}I J
{~~ 	
Boolean
АА 
EsEmpleadoValido
АА $
=
АА% &
false
АА' ,
;
АА, -
EsEmpleadoValido
ББ 
=
ББ 
validoEmpleado
ББ -
(
ББ- .
Empleado
ББ. 6
.
ББ6 7

cedula_emp
ББ7 A
)
ББA B
;
ББB C
if
ВВ 
(
ВВ 
EsEmpleadoValido
ВВ  
)
ВВ  !
{
ГГ 
_context
ДД 
.
ДД 
Add
ДД 
(
ДД 
Empleado
ДД %
)
ДД% &
;
ДД& '
return
ЕЕ 
Ok
ЕЕ 
(
ЕЕ 
_context
ЕЕ "
.
ЕЕ" #
SaveChanges
ЕЕ# .
(
ЕЕ. /
)
ЕЕ/ 0
)
ЕЕ0 1
;
ЕЕ1 2
}
ЖЖ 
{
ЗЗ 
return
ИИ 
null
ИИ 
;
ИИ 
}
ЙЙ 
}
ЛЛ 	
[
НН 	
HttpPut
НН	 
(
НН 
$str
НН &
)
НН& '
]
НН' (
[
ОО 	
	Authorize
ОО	 
]
ОО 
public
ПП 
IActionResult
ПП 
Edit
ПП !
(
ПП! "
int
ПП" %
id
ПП& (
,
ПП( )
[
ПП* +
FromBody
ПП+ 3
]
ПП3 4
empleado
ПП5 =
Empleado
ПП> F
)
ППF G
{
РР 	
int
СС 
result
СС 
=
СС 
$num
СС 
;
СС 
string
ТТ 
mensaje
ТТ 
=
ТТ 
$str
ТТ 
;
ТТ  
try
УУ 
{
ФФ 
if
ХХ 
(
ХХ 
id
ХХ 
==
ХХ 
Empleado
ХХ "
.
ХХ" #
id
ХХ# %
)
ХХ% &
{
ЦЦ 
_context
ЧЧ 
.
ЧЧ 
Update
ЧЧ #
(
ЧЧ# $
Empleado
ЧЧ$ ,
)
ЧЧ, -
;
ЧЧ- .
result
ШШ 
=
ШШ 
_context
ШШ %
.
ШШ% &
SaveChanges
ШШ& 1
(
ШШ1 2
)
ШШ2 3
;
ШШ3 4
mensaje
ЩЩ 
=
ЩЩ 
$str
ЩЩ !
;
ЩЩ! "
if
ЪЪ 
(
ЪЪ 
result
ЪЪ 
>
ЪЪ  
$num
ЪЪ! "
)
ЪЪ" #
{
ЫЫ 
mensaje
ЬЬ 
=
ЬЬ  !
$str
ЬЬ" 8
;
ЬЬ8 9
}
ЭЭ 
else
ЮЮ 
{
ЯЯ 
mensaje
аа 
=
аа  !
$str
аа" 7
;
аа7 8
}
бб 
}
гг 
}
дд 
catch
ее 
(
ее 
	Exception
ее 
e
ее 
)
ее 
{
жж 
var
ии 
st
ии 
=
ии 
new
ии 

StackTrace
ии '
(
ии' (
)
ии( )
;
ии) *
var
йй 
sf
йй 
=
йй 
st
йй 
.
йй 
GetFrame
йй $
(
йй$ %
$num
йй% &
)
йй& '
;
йй' (

MethodBase
кк 
site
кк 
=
кк  !
e
кк" #
.
кк# $

TargetSite
кк$ .
;
кк. /
string
лл 

methodName
лл !
=
лл" #
site
лл$ (
==
лл) +
null
лл, 0
?
лл1 2
null
лл3 7
:
лл8 9
site
лл: >
.
лл> ?
Name
лл? C
;
ллC D
General
мм 
.
мм 
CrearLogError
мм %
(
мм% &
sf
мм& (
.
мм( )
	GetMethod
мм) 2
(
мм2 3
)
мм3 4
.
мм4 5
Name
мм5 9
,
мм9 :
$str
мм; E
,
ммE F
e
ммG H
.
ммH I
Message
ммI P
,
ммP Q
e
ммQ R
.
ммR S
Source
ммS Y
,
ммY Z
e
ммZ [
.
мм[ \

StackTrace
мм\ f
,
ммf g

methodName
ммg q
,
ммq r
_config
ммs z
.
ммz {"
GetConnectionStringмм{ О
(ммО П
$strммП Щ
)ммЩ Ъ
)ммЪ Ы
;ммЫ Ь
}
нн 
string
пп 
json
пп 
=
пп 
JsonConvert
пп %
.
пп% &
SerializeObject
пп& 5
(
пп5 6
new
пп6 9
{
пп: ;
Result
пп< B
=
ппC D
result
ппE K
,
ппK L
Mensaje
ппM T
=
ппU V
mensaje
ппW ^
}
пп_ `
)
пп` a
;
ппa b
return
░░ 
Ok
░░ 
(
░░ 
json
░░ 
)
░░ 
;
░░ 
}
▒▒ 	
private
││ 
Boolean
││ 
validoEmpleado
││ &
(
││& '
string
││' -
cedulaEmpleado
││. <
)
││< =
{
┤┤ 	
Boolean
╡╡ 
EsValido
╡╡ 
=
╡╡ 
false
╡╡ $
;
╡╡$ %
try
╢╢ 
{
╖╖ 
var
╕╕ 
dato
╕╕ 
=
╕╕ 
_context
╕╕ #
.
╕╕# $
empleado
╕╕$ ,
.
╕╕, -
FirstOrDefault
╕╕- ;
(
╕╕; <
x
╕╕< =
=>
╕╕> @
x
╕╕A B
.
╕╕B C

cedula_emp
╕╕C M
==
╕╕N P
cedulaEmpleado
╕╕Q _
)
╕╕_ `
;
╕╕` a
if
╣╣ 
(
╣╣ 
dato
╣╣ 
==
╣╣ 
null
╣╣  
)
╣╣  !
EsValido
║║ 
=
║║ 
true
║║ #
;
║║# $
}
╗╗ 
catch
╝╝ 
(
╝╝ 
	Exception
╝╝ 
e
╝╝ 
)
╝╝ 
{
╜╜ 
var
┐┐ 
st
┐┐ 
=
┐┐ 
new
┐┐ 

StackTrace
┐┐ '
(
┐┐' (
)
┐┐( )
;
┐┐) *
var
└└ 
sf
└└ 
=
└└ 
st
└└ 
.
└└ 
GetFrame
└└ $
(
└└$ %
$num
└└% &
)
└└& '
;
└└' (

MethodBase
┴┴ 
site
┴┴ 
=
┴┴  !
e
┴┴" #
.
┴┴# $

TargetSite
┴┴$ .
;
┴┴. /
string
┬┬ 

methodName
┬┬ !
=
┬┬" #
site
┬┬$ (
==
┬┬) +
null
┬┬, 0
?
┬┬1 2
null
┬┬3 7
:
┬┬8 9
site
┬┬: >
.
┬┬> ?
Name
┬┬? C
;
┬┬C D
General
├├ 
.
├├ 
CrearLogError
├├ %
(
├├% &
sf
├├& (
.
├├( )
	GetMethod
├├) 2
(
├├2 3
)
├├3 4
.
├├4 5
Name
├├5 9
,
├├9 :
$str
├├; E
,
├├E F
e
├├G H
.
├├H I
Message
├├I P
,
├├P Q
e
├├Q R
.
├├R S
Source
├├S Y
,
├├Y Z
e
├├Z [
.
├├[ \

StackTrace
├├\ f
,
├├f g

methodName
├├g q
,
├├q r
_config
├├s z
.
├├z {"
GetConnectionString├├{ О
(├├О П
$str├├П Щ
)├├Щ Ъ
)├├Ъ Ы
;├├Ы Ь
}
── 
return
╞╞ 
EsValido
╞╞ 
;
╞╞ 
}
╟╟ 	
}
ТТ 
}УУ ┼й
DE:\GITEA\siscointBKII\siscointBKII\Controllers\EntradasController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
EntradasController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
EntradasController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
)  
]  !
[ 	
	Authorize	 
] 
public   
IActionResult   
getJefes   %
(  % &
)  & '
{!! 	
var"" 
data"" 
="" 
new"" 
Object"" !
(""! "
)""" #
;""# $
try## 
{$$ 
data%% 
=%% 
_context%% 
.%%  
jefes%%  %
.%%% &
ToList%%& ,
(%%, -
)%%- .
;%%. /
if&& 
(&& 
data&& 
==&& 
null&& 
)&&  
{'' 
return(( 
null(( 
;((  
})) 
}** 
catch++ 
(++ 
	Exception++ 
e++ 
)++ 
{,, 
var-- 
st-- 
=-- 
new-- 

StackTrace-- '
(--' (
)--( )
;--) *
var.. 
sf.. 
=.. 
st.. 
... 
GetFrame.. $
(..$ %
$num..% &
)..& '
;..' (

MethodBase// 
site// 
=//  !
e//" #
.//# $

TargetSite//$ .
;//. /
string00 

methodName00 !
=00" #
site00$ (
==00) +
null00, 0
?001 2
null003 7
:008 9
site00: >
.00> ?
Name00? C
;00C D
General11 
.11 
CrearLogError11 %
(11% &
sf11& (
.11( )
	GetMethod11) 2
(112 3
)113 4
.114 5
Name115 9
,119 :
$str11; B
,11B C
e11D E
.11E F
Message11F M
,11M N
e11N O
.11O P
Source11P V
,11V W
e11W X
.11X Y

StackTrace11Y c
,11c d

methodName11d n
,11n o
_config11p w
.11w x 
GetConnectionString	11x Л
(
11Л М
$str
11М Ц
)
11Ц Ч
)
11Ч Ш
;
11Ш Щ
}22 
return33 
Ok33 
(33 
data33 
)33 
;33 
}44 	
[55 	
HttpGet55	 
(55 
$str55 $
)55$ %
]55% &
[66 	
	Authorize66	 
]66 
public77 
IActionResult77 
	getObjeto77 &
(77& '
int77' *
id77+ -
)77- .
{88 	
var99 
data99 
=99 
new99 
Object99 !
(99! "
)99" #
;99# $
try:: 
{;; 
data<< 
=<< 
_context<< 
.<<  
objeto<<  &
.<<& '
Where<<' ,
(<<, -
x<<- .
=><</ 1
x<<2 3
.<<3 4
id<<4 6
==<<7 9
id<<: <
)<<< =
.<<= >
ToList<<> D
(<<D E
)<<E F
;<<F G
if== 
(== 
data== 
==== 
null== 
)==  
{>> 
return?? 
null?? 
;??  
}@@ 
}AA 
catchBB 
(BB 
	ExceptionBB 
eBB 
)BB 
{CC 
varDD 
stDD 
=DD 
newDD 

StackTraceDD '
(DD' (
)DD( )
;DD) *
varEE 
sfEE 
=EE 
stEE 
.EE 
GetFrameEE $
(EE$ %
$numEE% &
)EE& '
;EE' (

MethodBaseFF 
siteFF 
=FF  !
eFF" #
.FF# $

TargetSiteFF$ .
;FF. /
stringGG 

methodNameGG !
=GG" #
siteGG$ (
==GG) +
nullGG, 0
?GG1 2
nullGG3 7
:GG8 9
siteGG: >
.GG> ?
NameGG? C
;GGC D
GeneralHH 
.HH 
CrearLogErrorHH %
(HH% &
sfHH& (
.HH( )
	GetMethodHH) 2
(HH2 3
)HH3 4
.HH4 5
NameHH5 9
,HH9 :
$strHH; C
,HHC D
eHHE F
.HHF G
MessageHHG N
,HHN O
eHHO P
.HHP Q
SourceHHQ W
,HHW X
eHHX Y
.HHY Z

StackTraceHHZ d
,HHd e

methodNameHHe o
,HHo p
_configHHq x
.HHx y 
GetConnectionString	HHy М
(
HHМ Н
$str
HHН Ч
)
HHЧ Ш
)
HHШ Щ
;
HHЩ Ъ
}II 
returnKK 
OkKK 
(KK 
dataKK 
)KK 
;KK 
}LL 	
[NN 	
HttpPostNN	 
(NN 
$strNN "
)NN" #
]NN# $
[OO 	
	AuthorizeOO	 
]OO 
publicPP 
IActionResultPP 
crearEntredaPP )
(PP) *
dynamicPP* 1
jsonPP2 6
)PP6 7
{QQ 	
stringRR 

jsonResultRR 
=RR 
$strRR  "
;RR" #
trySS 
{TT 
varUU 
dataJsonUU 
=UU 
SystemUU %
.UU% &
TextUU& *
.UU* +
JsonUU+ /
.UU/ 0
JsonSerializerUU0 >
.UU> ?
	SerializeUU? H
(UUH I
jsonUUI M
)UUM N
;UUN O
varWW 
	datObjectWW 
=WW 
JObjectWW  '
.WW' (
ParseWW( -
(WW- .
dataJsonWW. 6
)WW6 7
;WW7 8
stringXX 
tipoEntregasXX #
=XX$ %
ConvertXX& -
.XX- .
ToStringXX. 6
(XX6 7
	datObjectXX7 @
[XX@ A
$strXXA N
]XXN O
)XXO P
;XXP Q
tipoEntregaYY 
TipoEntregasYY (
=YY) *
JsonConvertYY+ 6
.YY6 7
DeserializeObjectYY7 H
<YYH I
tipoEntregaYYI T
>YYT U
(YYU V
tipoEntregasYYV b
)YYb c
;YYc d
ifZZ 
(ZZ 
TipoEntregasZZ 
.ZZ  
entregaZZ  '
==ZZ( *
$strZZ+ .
||ZZ/ 1
TipoEntregasZZ2 >
.ZZ> ?
prestamoZZ? G
==ZZH J
$strZZK N
)ZZN O
{[[ 
string]] 
Entregas]] #
=]]$ %
Convert]]& -
.]]- .
ToString]]. 6
(]]6 7
	datObject]]7 @
[]]@ A
$str]]A J
]]]J K
)]]K L
;]]L M
string^^ 
DetalleEntregas^^ *
=^^+ ,
Convert^^- 4
.^^4 5
ToString^^5 =
(^^= >
	datObject^^> G
[^^G H
$str^^H X
]^^X Y
)^^Y Z
;^^Z [

jsonResult`` 
=``  
CrearEntrega``! -
(``- .
Entregas``. 6
,``6 7
DetalleEntregas``8 G
)``G H
;``H I
}aa 
elsebb 
ifbb 
(bb 
TipoEntregasbb $
.bb$ %

devolucionbb% /
==bb0 2
$strbb3 6
)bb6 7
{cc 
stringee 

devolucionee %
=ee& '
Convertee( /
.ee/ 0
ToStringee0 8
(ee8 9
	datObjectee9 B
[eeB C
$streeC L
]eeL M
)eeM N
;eeN O
stringff 
detalleDevolucionff ,
=ff- .
Convertff/ 6
.ff6 7
ToStringff7 ?
(ff? @
	datObjectff@ I
[ffI J
$strffJ Z
]ffZ [
)ff[ \
;ff\ ]

jsonResulthh 
=hh  
CrearDevolucionhh! 0
(hh0 1

devolucionhh1 ;
,hh; <
detalleDevolucionhh= N
)hhN O
;hhO P
}ii 
}jj 
catchkk 
(kk 
	Exceptionkk 
ekk 
)kk 
{ll 
varmm 
stmm 
=mm 
newmm 

StackTracemm '
(mm' (
)mm( )
;mm) *
varnn 
sfnn 
=nn 
stnn 
.nn 
GetFramenn $
(nn$ %
$numnn% &
)nn& '
;nn' (

MethodBaseoo 
siteoo 
=oo  !
eoo" #
.oo# $

TargetSiteoo$ .
;oo. /
stringpp 

methodNamepp !
=pp" #
sitepp$ (
==pp) +
nullpp, 0
?pp1 2
nullpp3 7
:pp8 9
sitepp: >
.pp> ?
Namepp? C
;ppC D
Generalqq 
.qq 
CrearLogErrorqq %
(qq% &
sfqq& (
.qq( )
	GetMethodqq) 2
(qq2 3
)qq3 4
.qq4 5
Nameqq5 9
,qq9 :
$strqq; E
,qqE F
eqqG H
.qqH I
MessageqqI P
,qqP Q
eqqQ R
.qqR S
SourceqqS Y
,qqY Z
eqqZ [
.qq[ \

StackTraceqq\ f
,qqf g

methodNameqqg q
,qqq r
_configqqs z
.qqz { 
GetConnectionString	qq{ О
(
qqО П
$str
qqП Щ
)
qqЩ Ъ
)
qqЪ Ы
;
qqЫ Ь
}rr 
returntt 
Oktt 
(tt 

jsonResulttt  
)tt  !
;tt! "
}uu 	
[vv 	
HttpPostvv	 
(vv 
$strvv "
)vv" #
]vv# $
[ww 	
	Authorizeww	 
]ww 
publicxx 
IActionResultxx 
listarEntregasxx +
(xx+ ,
dynamicxx, 3
tipoxx4 8
)xx8 9
{yy 	
var{{ 
data{{ 
={{ 
System{{ 
.{{ 
Text{{ "
.{{" #
Json{{# '
.{{' (
JsonSerializer{{( 6
.{{6 7
	Serialize{{7 @
({{@ A
tipo{{A E
){{E F
;{{F G
var|| 
datObejt|| 
=|| 
JObject|| "
.||" #
Parse||# (
(||( )
data||) -
)||- .
;||. /
int}} 
tipo_articulo}} 
=}} 
Convert}}  '
.}}' (
ToInt32}}( /
(}}/ 0
datObejt}}0 8
[}}8 9
$str}}9 K
]}}K L
)}}L M
;}}M N
int~~ 
tipo_objeto~~ 
=~~ 
Convert~~ %
.~~% &
ToInt32~~& -
(~~- .
datObejt~~. 6
[~~6 7
$str~~7 A
]~~A B
)~~B C
;~~C D
List 
< 
reporte_objetos  
>  !
rptObj" (
=) *"
getQueryListarReportes+ A
(A B
tipo_articuloB O
,O P
tipo_objetoQ \
)\ ]
;] ^
return
АА 
Ok
АА 
(
АА 
rptObj
АА 
)
АА 
;
АА 
}
ВВ 	
[
ДД 	
HttpGet
ДД	 
(
ДД 
$str
ДД 8
)
ДД8 9
]
ДД9 :
[
ЕЕ 	
	Authorize
ЕЕ	 
]
ЕЕ 
public
ЖЖ 
IActionResult
ЖЖ 
listarTipoReporte
ЖЖ .
(
ЖЖ. /
int
ЖЖ/ 2
tipo_reporte_page
ЖЖ3 D
)
ЖЖD E
{
ЗЗ 	
var
ИИ 
data
ИИ 
=
ИИ 
new
ИИ 
Object
ИИ !
(
ИИ! "
)
ИИ" #
;
ИИ# $
try
ЙЙ 
{
КК 
data
ЛЛ 
=
ЛЛ 
_context
ЛЛ 
.
ЛЛ  
tipo_reporte
ЛЛ  ,
.
ЛЛ, -
Where
ЛЛ- 2
(
ЛЛ2 3
x
ЛЛ3 4
=>
ЛЛ5 7
x
ЛЛ8 9
.
ЛЛ9 : 
tipo_reporte_tabla
ЛЛ: L
==
ЛЛM O
tipo_reporte_page
ЛЛP a
)
ЛЛa b
.
ЛЛb c
ToList
ЛЛc i
(
ЛЛi j
)
ЛЛj k
;
ЛЛk l
}
ММ 
catch
НН 
(
НН 
	Exception
НН 
e
НН 
)
НН 
{
ОО 
var
ПП 
st
ПП 
=
ПП 
new
ПП 

StackTrace
ПП '
(
ПП' (
)
ПП( )
;
ПП) *
var
РР 
sf
РР 
=
РР 
st
РР 
.
РР 
GetFrame
РР $
(
РР$ %
$num
РР% &
)
РР& '
;
РР' (

MethodBase
СС 
site
СС 
=
СС  !
e
СС" #
.
СС# $

TargetSite
СС$ .
;
СС. /
string
ТТ 

methodName
ТТ !
=
ТТ" #
site
ТТ$ (
==
ТТ) +
null
ТТ, 0
?
ТТ1 2
null
ТТ3 7
:
ТТ8 9
site
ТТ: >
.
ТТ> ?
Name
ТТ? C
;
ТТC D
General
УУ 
.
УУ 
CrearLogError
УУ %
(
УУ% &
sf
УУ& (
.
УУ( )
	GetMethod
УУ) 2
(
УУ2 3
)
УУ3 4
.
УУ4 5
Name
УУ5 9
,
УУ9 :
$str
УУ; I
,
УУI J
e
УУK L
.
УУL M
Message
УУM T
,
УУT U
e
УУU V
.
УУV W
Source
УУW ]
,
УУ] ^
e
УУ^ _
.
УУ_ `

StackTrace
УУ` j
,
УУj k

methodName
УУk u
,
УУu v
_config
УУw ~
.
УУ~ "
GetConnectionStringУУ Т
(УУТ У
$strУУУ Э
)УУЭ Ю
)УУЮ Я
;УУЯ а
}
ФФ 
return
ХХ 
Ok
ХХ 
(
ХХ 
data
ХХ 
)
ХХ 
;
ХХ 
}
ЦЦ 	
public
ШШ 
List
ШШ 
<
ШШ 
reporte_objetos
ШШ #
>
ШШ# $$
getQueryListarReportes
ШШ% ;
(
ШШ; <
int
ШШ< ?
tipo_articulo
ШШ@ M
,
ШШM N
int
ШШO R
tipo
ШШS W
)
ШШW X
{
ЩЩ 	
List
ЪЪ 
<
ЪЪ 
reporte_objetos
ЪЪ  
>
ЪЪ  !
rptObj
ЪЪ" (
=
ЪЪ) *
new
ЪЪ+ .
List
ЪЪ/ 3
<
ЪЪ3 4
reporte_objetos
ЪЪ4 C
>
ЪЪC D
(
ЪЪD E
)
ЪЪE F
;
ЪЪF G
string
ЫЫ 
query
ЫЫ 
=
ЫЫ 
$str
ЫЫ 
;
ЫЫ 
try
ЭЭ 
{
ЮЮ 
if
ЯЯ 
(
ЯЯ 
tipo
ЯЯ 
!=
ЯЯ 
$num
ЯЯ 
)
ЯЯ 
{
аа 
query
вв 
=
вв 
$str
вв '
+
вв( )
$str
гг J
+
ггK L
$str
дд 9
+
дд: ;
$strее ╣
+ее║ ╗
$str
жж 5
+
жж6 7
$str
зз 7
+
зз8 9
$str
ии r
+
ииs t
$str
йй 4
+
йй5 6
$str
кк R
+
ккS T
$str
лл H
+
ллI J
$str
мм Q
+
ммR S
$str
нн O
;
ннO P
}
оо 
else
пп 
{
░░ 
query
▒▒ 
=
▒▒ 
$str
▒▒ '
+
▒▒( )
$str
▓▓ J
+
▓▓K L
$str
││ 9
+
││: ;
$str┤┤ ╣
+┤┤║ ╗
$str
╡╡ 5
+
╡╡6 7
$str
╢╢ 7
+
╢╢8 9
$str
╖╖ r
+
╖╖s t
$str
╕╕ 4
+
╕╕5 6
$str
╣╣ R
+
╣╣S T
$str
║║ H
+
║║I J
$str
╗╗ Q
+
╗╗R S
$str
╝╝ =
;
╝╝= >
}
╜╜ 
using
┐┐ 
(
┐┐ 
SqlConnection
┐┐ $
con
┐┐% (
=
┐┐) *
new
┐┐+ .
SqlConnection
┐┐/ <
(
┐┐< =
_config
┐┐= D
.
┐┐D E!
GetConnectionString
┐┐E X
(
┐┐X Y
$str
┐┐Y c
)
┐┐c d
)
┐┐d e
)
┐┐e f
{
└└ 
using
┴┴ 
(
┴┴ 

SqlCommand
┴┴ %
cmd
┴┴& )
=
┴┴* +
new
┴┴, /

SqlCommand
┴┴0 :
(
┴┴: ;
query
┴┴; @
)
┴┴@ A
)
┴┴A B
{
┬┬ 
cmd
├├ 
.
├├ 

Parameters
├├ &
.
├├& '
Add
├├' *
(
├├* +
new
├├+ .
SqlParameter
├├/ ;
(
├├; <
$str
├├< C
,
├├C D
System
├├E K
.
├├K L
Data
├├L P
.
├├P Q
	SqlDbType
├├Q Z
.
├├Z [
Int
├├[ ^
)
├├^ _
)
├├_ `
;
├├` a
cmd
── 
.
── 

Parameters
── &
.
──& '
Add
──' *
(
──* +
new
──+ .
SqlParameter
──/ ;
(
──; <
$str
──< L
,
──L M
System
──N T
.
──T U
Data
──U Y
.
──Y Z
	SqlDbType
──Z c
.
──c d
Int
──d g
)
──g h
)
──h i
;
──i j
cmd
┼┼ 
.
┼┼ 

Parameters
┼┼ &
[
┼┼& '
$str
┼┼' .
]
┼┼. /
.
┼┼/ 0
Value
┼┼0 5
=
┼┼6 7
tipo
┼┼8 <
;
┼┼< =
cmd
╞╞ 
.
╞╞ 

Parameters
╞╞ &
[
╞╞& '
$str
╞╞' 7
]
╞╞7 8
.
╞╞8 9
Value
╞╞9 >
=
╞╞? @
tipo_articulo
╞╞A N
;
╞╞N O
cmd
╟╟ 
.
╟╟ 

Connection
╟╟ &
=
╟╟' (
con
╟╟) ,
;
╟╟, -
con
╚╚ 
.
╚╚ 
Open
╚╚  
(
╚╚  !
)
╚╚! "
;
╚╚" #
using
╔╔ 
(
╔╔ 
SqlDataReader
╔╔ ,
sdr
╔╔- 0
=
╔╔1 2
cmd
╔╔3 6
.
╔╔6 7
ExecuteReader
╔╔7 D
(
╔╔D E
)
╔╔E F
)
╔╔F G
{
╩╩ 
while
╦╦ !
(
╦╦" #
sdr
╦╦# &
.
╦╦& '
Read
╦╦' +
(
╦╦+ ,
)
╦╦, -
)
╦╦- .
{
╠╠ 
rptObj
══  &
.
══& '
Add
══' *
(
══* +
new
══+ .
reporte_objetos
══/ >
{
╬╬  !
Item
╧╧$ (
=
╧╧) *
Convert
╧╧+ 2
.
╧╧2 3
ToInt64
╧╧3 :
(
╧╧: ;
sdr
╧╧; >
[
╧╧> ?
$str
╧╧? E
]
╧╧E F
)
╧╧F G
,
╧╧G H
Descripcion
╨╨$ /
=
╨╨0 1
sdr
╨╨2 5
[
╨╨5 6
$str
╨╨6 C
]
╨╨C D
+
╨╨D E
$str
╨╨E G
,
╨╨G H
Estado
╤╤$ *
=
╤╤+ ,
sdr
╤╤- 0
[
╤╤0 1
$str
╤╤1 9
]
╤╤9 :
+
╤╤: ;
$str
╤╤; =
,
╤╤= >
EstadoNumber
╥╥$ 0
=
╥╥1 2
Convert
╥╥3 :
.
╥╥: ;
ToInt32
╥╥; B
(
╥╥B C
sdr
╥╥C F
[
╥╥F G
$str
╥╥G U
]
╥╥U V
)
╥╥V W
,
╥╥W X
Af
╙╙$ &
=
╙╙' (
sdr
╙╙) ,
[
╙╙, -
$str
╙╙- 1
]
╙╙1 2
+
╙╙2 3
$str
╙╙3 5
,
╙╙5 6
Imei
╘╘$ (
=
╘╘) *
sdr
╘╘+ .
[
╘╘. /
$str
╘╘/ 5
]
╘╘5 6
+
╘╘6 7
$str
╘╘7 9
,
╘╘9 :
usuario
╒╒$ +
=
╒╒, -
sdr
╒╒. 1
[
╒╒1 2
$str
╒╒2 ;
]
╒╒; <
+
╒╒< =
$str
╒╒= ?
,
╒╒? @
Id
╓╓$ &
=
╓╓' (
Convert
╓╓) 0
.
╓╓0 1
ToInt32
╓╓1 8
(
╓╓8 9
sdr
╓╓9 <
[
╓╓< =
$str
╓╓= A
]
╓╓A B
)
╓╓B C
}
╫╫  !
)
╫╫! "
;
╫╫" #
}
╪╪ 
}
┘┘ 
}
┌┌ 
}
██ 
}
▄▄ 
catch
▌▌ 
(
▌▌ 
	Exception
▌▌ 
e
▌▌ 
)
▌▌ 
{
▐▐ 
var
▀▀ 
st
▀▀ 
=
▀▀ 
new
▀▀ 

StackTrace
▀▀ '
(
▀▀' (
)
▀▀( )
;
▀▀) *
var
рр 
sf
рр 
=
рр 
st
рр 
.
рр 
GetFrame
рр $
(
рр$ %
$num
рр% &
)
рр& '
;
рр' (

MethodBase
сс 
site
сс 
=
сс  !
e
сс" #
.
сс# $

TargetSite
сс$ .
;
сс. /
string
тт 

methodName
тт !
=
тт" #
site
тт$ (
==
тт) +
null
тт, 0
?
тт1 2
null
тт3 7
:
тт8 9
site
тт: >
.
тт> ?
Name
тт? C
;
ттC D
General
уу 
.
уу 
CrearLogError
уу %
(
уу% &
sf
уу& (
.
уу( )
	GetMethod
уу) 2
(
уу2 3
)
уу3 4
.
уу4 5
Name
уу5 9
,
уу9 :
$str
уу; C
,
ууC D
e
ууE F
.
ууF G
Message
ууG N
,
ууN O
e
ууO P
.
ууP Q
Source
ууQ W
,
ууW X
e
ууX Y
.
ууY Z

StackTrace
ууZ d
,
ууd e

methodName
ууe o
,
ууo p
_config
ууq x
.
ууx y"
GetConnectionStringууy М
(ууМ Н
$strууН Ч
)ууЧ Ш
)ууШ Щ
;ууЩ Ъ
}
фф 
return
хх 
rptObj
хх 
;
хх 
}
цц 	
public
шш 
string
шш 
CrearEntrega
шш "
(
шш" #
string
шш# )
Entregas
шш* 2
,
шш2 3
string
шш4 :
detalleEntregas
шш; J
)
шшJ K
{
щщ 	
string
ъъ 
data
ъъ 
=
ъъ 
$str
ъъ 
;
ъъ 
string
ыы 
mensaje
ыы 
=
ыы 
$str
ыы 
;
ыы  
int
ьь 
ResultEntregas
ьь 
=
ьь  
$num
ьь! "
;
ьь" #
int
ээ 
ResultDetalles
ээ 
=
ээ  
$num
ээ! "
;
ээ" #
try
юю 
{
яя 
entregas
ЁЁ 
	EntregasS
ЁЁ "
=
ЁЁ# $
JsonConvert
ЁЁ% 0
.
ЁЁ0 1
DeserializeObject
ЁЁ1 B
<
ЁЁB C
entregas
ЁЁC K
>
ЁЁK L
(
ЁЁL M
Entregas
ЁЁM U
)
ЁЁU V
;
ЁЁV W
_context
ёё 
.
ёё 
entregas
ёё !
.
ёё! "
Add
ёё" %
(
ёё% &
	EntregasS
ёё& /
)
ёё/ 0
;
ёё0 1
ResultEntregas
ЄЄ 
=
ЄЄ  
_context
ЄЄ! )
.
ЄЄ) *
SaveChanges
ЄЄ* 5
(
ЄЄ5 6
)
ЄЄ6 7
;
ЄЄ7 8
if
єє 
(
єє 
ResultEntregas
єє !
>
єє" #
$num
єє$ %
)
єє% &
{
ЇЇ 
entregas
її 
entityEntrega
її *
=
її+ ,
_context
її- 5
.
її5 6
entregas
її6 >
.
її> ?
OrderByDescending
її? P
(
їїP Q
x
їїQ R
=>
їїS U
x
їїV W
.
їїW X
id_ent
їїX ^
)
її^ _
.
її_ `
First
її` e
(
їїe f
)
їїf g
;
їїg h
int
ЎЎ 
id_ent
ЎЎ 
=
ЎЎ  
entityEntrega
ЎЎ! .
.
ЎЎ. /
id_ent
ЎЎ/ 5
;
ЎЎ5 6
List
ўў 
<
ўў 
detalle_entregaII
ўў *
>
ўў* +
detalleEntregasS
ўў, <
=
ўў= >
JsonConvert
ўў? J
.
ўўJ K
DeserializeObject
ўўK \
<
ўў\ ]
List
ўў] a
<
ўўa b
detalle_entregaII
ўўb s
>
ўўs t
>
ўўt u
(
ўўu v
detalleEntregasўўv Е
)ўўЕ Ж
;ўўЖ З
foreach
°° 
(
°° 
detalle_entregaII
°° -
det
°°. 1
in
°°2 4
detalleEntregasS
°°5 E
)
°°E F
{
∙∙ 
try
·· 
{
√√ 
det
№№ 
.
№№  
id_ent
№№  &
=
№№' (
id_ent
№№) /
;
№№/ 0
_context
¤¤ $
.
¤¤$ %
detalle_entregaII
¤¤% 6
.
¤¤6 7
Add
¤¤7 :
(
¤¤: ;
det
¤¤; >
)
¤¤> ?
;
¤¤? @
ResultDetalles
■■ )
=
■■* +
_context
■■- 5
.
■■5 6
SaveChanges
■■6 A
(
■■A B
)
■■B C
;
■■C D
if
   
(
   
ResultDetalles
   -
>
  . /
$num
  0 1
)
  1 2
{
АА 
objeto
ББ  &
obj
ББ' *
=
ББ+ ,
_context
ББ- 5
.
ББ5 6
objeto
ББ6 <
.
ББ< =
Where
ББ= B
(
ББB C
x
ББC D
=>
ББE G
x
ББH I
.
ББI J
imei
ББJ N
==
ББO Q
det
ББR U
.
ББU V
imei_inv
ББV ^
)
ББ^ _
.
ББ_ `
First
ББ` e
(
ББe f
)
ББf g
;
ББg h
if
ВВ  "
(
ВВ" #
obj
ВВ# &
!=
ВВ' )
null
ВВ* .
)
ВВ. /
{
ГГ  !
obj
ДД$ '
.
ДД' (
estado
ДД( .
=
ДД/ 0
$num
ДД1 2
;
ДД2 3
_context
ЕЕ$ ,
.
ЕЕ, -
objeto
ЕЕ- 3
.
ЕЕ3 4
Update
ЕЕ4 :
(
ЕЕ: ;
obj
ЕЕ; >
)
ЕЕ> ?
;
ЕЕ? @
_context
ЖЖ$ ,
.
ЖЖ, -
SaveChanges
ЖЖ- 8
(
ЖЖ8 9
)
ЖЖ9 :
;
ЖЖ: ;
}
ЗЗ  !
}
ИИ 
}
ЙЙ 
catch
КК 
(
КК 
	Exception
КК '
e
КК( )
)
КК) *
{
ЛЛ 
ResultDetalles
ММ *
=
ММ+ ,
$num
ММ- .
;
ММ. /
entregas
НН $
ent
НН% (
=
НН) *
_context
НН+ 3
.
НН3 4
entregas
НН4 <
.
НН< =
Where
НН= B
(
ННB C
x
ННC D
=>
ННE G
x
ННH I
.
ННI J
id_ent
ННJ P
==
ННQ S
id_ent
ННT Z
)
ННZ [
.
НН[ \
First
НН\ a
(
ННa b
)
ННb c
;
ННc d
_context
ОО $
.
ОО$ %
entregas
ОО% -
.
ОО- .
Remove
ОО. 4
(
ОО4 5
ent
ОО5 8
)
ОО8 9
;
ОО9 :
_context
ПП $
.
ПП$ %
SaveChanges
ПП% 0
(
ПП0 1
)
ПП1 2
;
ПП2 3
}
РР 
}
СС 
}
ТТ 
if
ФФ 
(
ФФ 
ResultEntregas
ФФ "
>
ФФ# $
$num
ФФ% &
&&
ФФ' )
ResultDetalles
ФФ* 8
>
ФФ9 :
$num
ФФ; <
)
ФФ< =
{
ХХ 
mensaje
ЦЦ 
=
ЦЦ 
$str
ЦЦ <
;
ЦЦ< =
}
ЧЧ 
else
ШШ 
{
ЩЩ 
mensaje
ЪЪ 
=
ЪЪ 
$str
ЪЪ :
;
ЪЪ: ;
}
ЫЫ 
}
ЬЬ 
catch
ЭЭ 
(
ЭЭ 
	Exception
ЭЭ 
e
ЭЭ 
)
ЭЭ 
{
ЮЮ 
var
ЯЯ 
st
ЯЯ 
=
ЯЯ 
new
ЯЯ 

StackTrace
ЯЯ '
(
ЯЯ' (
)
ЯЯ( )
;
ЯЯ) *
var
аа 
sf
аа 
=
аа 
st
аа 
.
аа 
GetFrame
аа $
(
аа$ %
$num
аа% &
)
аа& '
;
аа' (

MethodBase
бб 
site
бб 
=
бб  !
e
бб" #
.
бб# $

TargetSite
бб$ .
;
бб. /
string
вв 

methodName
вв !
=
вв" #
site
вв$ (
==
вв) +
null
вв, 0
?
вв1 2
null
вв3 7
:
вв8 9
site
вв: >
.
вв> ?
Name
вв? C
;
ввC D
General
гг 
.
гг 
CrearLogError
гг %
(
гг% &
sf
гг& (
.
гг( )
	GetMethod
гг) 2
(
гг2 3
)
гг3 4
.
гг4 5
Name
гг5 9
,
гг9 :
$str
гг; E
,
ггE F
e
ггG H
.
ггH I
Message
ггI P
,
ггP Q
e
ггQ R
.
ггR S
Source
ггS Y
,
ггY Z
e
ггZ [
.
гг[ \

StackTrace
гг\ f
,
ггf g

methodName
ггg q
,
ггq r
_config
ггs z
.
ггz {"
GetConnectionStringгг{ О
(ггО П
$strггП Щ
)ггЩ Ъ
)ггЪ Ы
;ггЫ Ь
}
дд 
data
жж 
=
жж 
JsonConvert
жж 
.
жж 
SerializeObject
жж .
(
жж. /
new
жж/ 2
{
жж3 4
Result
жж5 ;
=
жж< =
ResultEntregas
жж> L
,
жжL M
Mensaje
жжN U
=
жжV W
mensaje
жжX _
}
жж` a
)
жжa b
;
жжb c
return
зз 
data
зз 
;
зз 
}
ии 	
public
кк 
string
кк 
CrearDevolucion
кк %
(
кк% &
string
кк& ,

Devolucion
кк- 7
,
кк7 8
string
кк9 ?
detalleDevolucion
кк@ Q
)
ккQ R
{
лл 	
string
мм 
data
мм 
=
мм 
$str
мм 
;
мм 
string
нн 
mensaje
нн 
=
нн 
$str
нн 
;
нн  
int
оо  
ResultDevoluciones
оо "
=
оо# $
$num
оо% &
;
оо& '
int
пп 
ResultDetallesDev
пп !
=
пп" #
$num
пп$ %
;
пп% &
try
░░ 
{
▒▒ 
devoluciones
▓▓ 
devoluciones
▓▓ )
=
▓▓* +
JsonConvert
▓▓, 7
.
▓▓7 8
DeserializeObject
▓▓8 I
<
▓▓I J
devoluciones
▓▓J V
>
▓▓V W
(
▓▓W X

Devolucion
▓▓X b
)
▓▓b c
;
▓▓c d
_context
││ 
.
││ 
devoluciones
││ %
.
││% &
Add
││& )
(
││) *
devoluciones
││* 6
)
││6 7
;
││7 8 
ResultDevoluciones
┤┤ "
=
┤┤# $
_context
┤┤% -
.
┤┤- .
SaveChanges
┤┤. 9
(
┤┤9 :
)
┤┤: ;
;
┤┤; <
if
╡╡ 
(
╡╡  
ResultDevoluciones
╡╡ %
>
╡╡& '
$num
╡╡( )
)
╡╡) *
{
╢╢ 
devoluciones
╖╖  
entityDevolucion
╖╖! 1
=
╖╖2 3
_context
╖╖4 <
.
╖╖< =
devoluciones
╖╖= I
.
╖╖I J
OrderByDescending
╖╖J [
(
╖╖[ \
x
╖╖\ ]
=>
╖╖^ `
x
╖╖a b
.
╖╖b c
id_dev
╖╖c i
)
╖╖i j
.
╖╖j k
First
╖╖k p
(
╖╖p q
)
╖╖q r
;
╖╖r s
int
╕╕ 
id_dev
╕╕ 
=
╕╕  
entityDevolucion
╕╕! 1
.
╕╕1 2
id_dev
╕╕2 8
;
╕╕8 9
List
╣╣ 
<
╣╣ "
detalle_devolucionII
╣╣ -
>
╣╣- ."
detalleDevolucionesS
╣╣/ C
=
╣╣D E
JsonConvert
╣╣F Q
.
╣╣Q R
DeserializeObject
╣╣R c
<
╣╣c d
List
╣╣d h
<
╣╣h i"
detalle_devolucionII
╣╣i }
>
╣╣} ~
>
╣╣~ 
(╣╣ А!
detalleDevolucion╣╣А С
)╣╣С Т
;╣╣Т У
foreach
║║ 
(
║║ "
detalle_devolucionII
║║ 0
det
║║1 4
in
║║5 7"
detalleDevolucionesS
║║8 L
)
║║L M
{
╗╗ 
try
╝╝ 
{
╜╜ 
det
╛╛ 
.
╛╛  
id_dev
╛╛  &
=
╛╛' (
id_dev
╛╛) /
;
╛╛/ 0
_context
┐┐ $
.
┐┐$ %"
detalle_devolucionII
┐┐% 9
.
┐┐9 :
Add
┐┐: =
(
┐┐= >
det
┐┐> A
)
┐┐A B
;
┐┐B C
ResultDetallesDev
└└ -
=
└└. /
_context
└└0 8
.
└└8 9
SaveChanges
└└9 D
(
└└D E
)
└└E F
;
└└F G
if
┴┴ 
(
┴┴ 
ResultDetallesDev
┴┴ 0
>
┴┴1 2
$num
┴┴3 4
)
┴┴4 5
{
┬┬ 
objeto
├├  &
obj
├├' *
=
├├+ ,
_context
├├- 5
.
├├5 6
objeto
├├6 <
.
├├< =
Where
├├= B
(
├├B C
x
├├C D
=>
├├E G
x
├├H I
.
├├I J
imei
├├J N
==
├├O Q
det
├├R U
.
├├U V
imei_inv
├├V ^
)
├├^ _
.
├├_ `
First
├├` e
(
├├e f
)
├├f g
;
├├g h
if
──  "
(
──# $
obj
──$ '
!=
──( *
null
──+ /
)
──/ 0
{
┼┼  !
obj
╞╞$ '
.
╞╞' (
estado
╞╞( .
=
╞╞/ 0
$num
╞╞1 2
;
╞╞2 3
_context
╟╟$ ,
.
╟╟, -
objeto
╟╟- 3
.
╟╟3 4
Update
╟╟4 :
(
╟╟: ;
obj
╟╟; >
)
╟╟> ?
;
╟╟? @
_context
╚╚$ ,
.
╚╚, -
SaveChanges
╚╚- 8
(
╚╚8 9
)
╚╚9 :
;
╚╚: ;
}
╔╔  !
}
╩╩ 
}
╦╦ 
catch
╠╠ 
(
╠╠ 
	Exception
╠╠ '
e
╠╠( )
)
╠╠) *
{
══ 
ResultDetallesDev
╬╬ -
=
╬╬. /
$num
╬╬0 1
;
╬╬1 2
devoluciones
╧╧ (
dev
╧╧) ,
=
╧╧- .
_context
╧╧/ 7
.
╧╧7 8
devoluciones
╧╧8 D
.
╧╧D E
Where
╧╧E J
(
╧╧J K
x
╧╧K L
=>
╧╧M O
x
╧╧P Q
.
╧╧Q R
id_dev
╧╧R X
==
╧╧Y [
id_dev
╧╧\ b
)
╧╧b c
.
╧╧c d
First
╧╧d i
(
╧╧i j
)
╧╧j k
;
╧╧k l
_context
╨╨ $
.
╨╨$ %
devoluciones
╨╨% 1
.
╨╨1 2
Remove
╨╨2 8
(
╨╨8 9
dev
╨╨9 <
)
╨╨< =
;
╨╨= >
_context
╤╤ $
.
╤╤$ %
SaveChanges
╤╤% 0
(
╤╤0 1
)
╤╤1 2
;
╤╤2 3
}
╥╥ 
}
╘╘ 
}
╒╒ 
if
╓╓ 
(
╓╓  
ResultDevoluciones
╓╓ &
>
╓╓' (
$num
╓╓) *
&&
╓╓+ -
ResultDetallesDev
╓╓. ?
>
╓╓@ A
$num
╓╓B C
)
╓╓C D
{
╫╫ 
mensaje
╪╪ 
=
╪╪ 
$str
╪╪ <
;
╪╪< =
}
┘┘ 
else
┌┌ 
{
██ 
mensaje
▄▄ 
=
▄▄ 
$str
▄▄ :
;
▄▄: ;
}
▌▌ 
}
▐▐ 
catch
▀▀ 
(
▀▀ 
	Exception
▀▀ 
e
▀▀ 
)
▀▀ 
{
рр 
var
сс 
st
сс 
=
сс 
new
сс 

StackTrace
сс '
(
сс' (
)
сс( )
;
сс) *
var
тт 
sf
тт 
=
тт 
st
тт 
.
тт 
GetFrame
тт $
(
тт$ %
$num
тт% &
)
тт& '
;
тт' (

MethodBase
уу 
site
уу 
=
уу  !
e
уу" #
.
уу# $

TargetSite
уу$ .
;
уу. /
string
фф 

methodName
фф !
=
фф" #
site
фф$ (
==
фф) +
null
фф, 0
?
фф1 2
null
фф3 7
:
фф8 9
site
фф: >
.
фф> ?
Name
фф? C
;
ффC D
General
хх 
.
хх 
CrearLogError
хх %
(
хх% &
sf
хх& (
.
хх( )
	GetMethod
хх) 2
(
хх2 3
)
хх3 4
.
хх4 5
Name
хх5 9
,
хх9 :
$str
хх; I
,
ххI J
e
ххK L
.
ххL M
Message
ххM T
,
ххT U
e
ххU V
.
ххV W
Source
ххW ]
,
хх] ^
e
хх^ _
.
хх_ `

StackTrace
хх` j
,
ххj k

methodName
ххk u
,
ххu v
_config
ххw ~
.
хх~ "
GetConnectionStringхх Т
(ххТ У
$strххУ Э
)ххЭ Ю
)ххЮ Я
;ххЯ а
}
цц 
data
чч 
=
чч 
JsonConvert
чч 
.
чч 
SerializeObject
чч .
(
чч. /
new
чч/ 2
{
чч3 4
Result
чч5 ;
=
чч< = 
ResultDevoluciones
чч> P
,
ччP Q
Mensaje
ччR Y
=
ччZ [
mensaje
чч\ c
}
ччd e
)
ччe f
;
ччf g
return
шш 
data
шш 
;
шш 
}
щщ 	
}
ъъ 
}ыы ┘D
LE:\GITEA\siscointBKII\siscointBKII\Controllers\ExcelBcoAgrearioController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class &
ExcelBcoAgrearioController +
:, -
ControllerBase. <
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public &
ExcelBcoAgrearioController )
() *
AplicationDbContext* =
context> E
,F G
IConfigurationH V
configW ]
)] ^
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
}   	
["" 	
HttpPost""	 
("" 
$str"" +
)""+ ,
]"", -
[## 	
	Authorize##	 
]## 
public$$ 
IActionResult$$ #
procesarExcelBcoAgrario$$ 4
($$4 5
dynamic$$5 <
data_recibe$$= H
)$$H I
{%% 	
string&& 
	resultado&& 
=&& 
$str&& !
;&&! "
string'' 
base_'' 
='' 
$str'' 
;'' 
string(( 
usuario_(( 
=(( 
$str((  
;((  !
string)) 
nombreUsuario_)) !
=))" #
$str))$ &
;))& '
try** 
{++ 
var,, 
dataJson,, 
=,, 
System,, %
.,,% &
Text,,& *
.,,* +
Json,,+ /
.,,/ 0
JsonSerializer,,0 >
.,,> ?
	Serialize,,? H
(,,H I
data_recibe,,I T
),,T U
;,,U V
var-- 
	datObject-- 
=-- 
JObject--  '
.--' (
Parse--( -
(--- .
dataJson--. 6
)--6 7
;--7 8
base_.. 
=.. 
Convert.. 
...  
ToString..  (
(..( )
	datObject..) 2
[..2 3
$str..3 9
]..9 :
)..: ;
;..; <
usuario_// 
=// 
Convert// "
.//" #
ToString//# +
(//+ ,
	datObject//, 5
[//5 6
$str//6 ?
]//? @
)//@ A
;//A B
nombreUsuario_00 
=00  
Convert00! (
.00( )
ToString00) 1
(001 2
	datObject002 ;
[00; <
$str00< H
]00H I
)00I J
;00J K
Int6411 
ultimoConsecutivo11 '
=11( )
$num11* +
;11+ ,
List33 
<33 !
tmp_excel_bco_agrario33 *
>33* +
_bco_agrario33, 8
=339 :
new33; >
List33? C
<33C D!
tmp_excel_bco_agrario33D Y
>33Y Z
(33Z [
)33[ \
;33\ ]
_bco_agrario44 
=44 
JsonConvert44 *
.44* +
DeserializeObject44+ <
<44< =
List44= A
<44A B!
tmp_excel_bco_agrario44B W
>44W X
>44X Y
(44Y Z
base_44Z _
)44_ `
;44` a
if55 
(55 
_bco_agrario55 
.55  
Count55  %
(55% &
)55& '
>55( )
$num55* +
)55+ ,
{66 
ultimoConsecutivo77 %
=77& '&
consecutivoExcelBcoAgrario77( B
(77B C
)77C D
;77D E
excel_bco_agrario88 %
_excel_bco_agrario88& 8
=889 :
new88; >
excel_bco_agrario88? P
(88P Q
)88Q R
;88R S
_excel_bco_agrario99 &
.99& '
fecha99' ,
=99- .
DateTime99/ 7
.997 8
Now998 ;
;99; <
_excel_bco_agrario:: &
.::& '
ruta::' +
=::, -
$str::. 3
;::3 4
_excel_bco_agrario;; &
.;;& '
estado;;' -
=;;. /
$num;;0 1
;;;1 2
_excel_bco_agrario<< &
.<<& '
usuario<<' .
=<</ 0
usuario_<<1 9
;<<9 :
_excel_bco_agrario>> &
.>>& '
consecutivo>>' 2
=>>3 4
ultimoConsecutivo>>5 F
;>>F G
_context?? 
.?? 
Add??  
(??  !
_excel_bco_agrario??! 3
)??3 4
;??4 5
if@@ 
(@@ 
_excel_bco_agrario@@ )
!=@@* ,
null@@- 1
)@@1 2
{AA 
foreachBB 
(BB  !
tmp_excel_bco_agrarioBB  5
itemBB6 :
inBB; =
_bco_agrarioBB> J
)BBJ K
{CC !
tmp_excel_bco_agrarioEE 1"
_tmp_excel_bco_agrarioEE2 H
=EEI J
newEEK N!
tmp_excel_bco_agrarioEEO d
(EEd e
)EEe f
;EEf g"
_tmp_excel_bco_agrarioFF 2
.FF2 3
excel_bco_agrarioFF3 D
=FFE F
ultimoConsecutivoFFG X
;FFX Y"
_tmp_excel_bco_agrarioGG 2
=GG3 4
itemGG5 9
;GG9 :
_contextHH $
.HH$ %
AddHH% (
(HH( )"
_tmp_excel_bco_agrarioHH) ?
)HH? @
;HH@ A
}II 
}JJ 
}KK 
intPP 
rsPP 
=PP 
_contextPP !
.PP! "
SaveChangesPP" -
(PP- .
)PP. /
;PP/ 0
returnQQ 
OkQQ 
(QQ 
rsQQ 
)QQ 
;QQ 
}RR 
catchSS 
(SS 
	ExceptionSS 
eSS 
)SS 
{TT 
varUU 
stUU 
=UU 
newUU 

StackTraceUU '
(UU' (
)UU( )
;UU) *
varVV 
sfVV 
=VV 
stVV 
.VV 
GetFrameVV $
(VV$ %
$numVV% &
)VV& '
;VV' (

MethodBaseWW 
siteWW 
=WW  !
eWW" #
.WW# $

TargetSiteWW$ .
;WW. /
stringXX 

methodNameXX !
=XX" #
siteXX$ (
==XX) +
nullXX, 0
?XX1 2
nullXX3 7
:XX8 9
siteXX: >
.XX> ?
NameXX? C
;XXC D
GeneralYY 
.YY 
CrearLogErrorYY %
(YY% &
sfYY& (
.YY( )
	GetMethodYY) 2
(YY2 3
)YY3 4
.YY4 5
NameYY5 9
,YY9 :
$strYY; N
,YYN O
eYYP Q
.YYQ R
MessageYYR Y
,YYY Z
eYY[ \
.YY\ ]
SourceYY] c
,YYc d
eYYe f
.YYf g

StackTraceYYg q
,YYq r

methodNameYYs }
,YY} ~
_config	YY Ж
.
YYЖ З!
GetConnectionString
YYЗ Ъ
(
YYЪ Ы
$str
YYЫ е
)
YYе ж
)
YYж з
;
YYз и
}ZZ 
return[[ 
Ok[[ 
([[ 
	resultado[[ 
)[[  
;[[  !
}\\ 	
[^^ 	
HttpGet^^	 
(^^ 
$str^^ (
)^^( )
]^^) *
[__ 	
	Authorize__	 
]__ 
public`` 
IActionResult`` !
listarExcelBcoAgrario`` 2
(``2 3
)``3 4
{aa 	
returnbb 
Okbb 
(bb 
)bb 
;bb 
}cc 	
publicee 
Int64ee &
consecutivoExcelBcoAgrarioee /
(ee/ 0
)ee0 1
{ff 	
Int64gg 

consecutvogg 
=gg 
$numgg  
;gg  !

consecutvohh 
=hh 
_contexthh !
.hh! "
excel_bco_agrariohh" 3
.hh3 4
Wherehh4 9
(hh9 :
xhh: ;
=>hh< >
xhh? @
.hh@ A
estadohhA G
==hhH J
$numhhK L
)hhL M
.hhM N
SelecthhN T
(hhT U
xhhU V
=>hhW Y
xhhZ [
.hh[ \
consecutivohh\ g
)hhg h
.hhh i
Maxhhi l
(hhl m
)hhm n
;hhn o

consecutvoii 
=ii 

consecutvoii #
+ii$ %
$numii& '
;ii' (
returnjj 

consecutvojj 
;jj 
}kk 	
}ll 
}mm кw
AE:\GITEA\siscointBKII\siscointBKII\Controllers\LoginController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
LoginController  
:! "
ControllerBase# 1
{ 
public 
List 
< 
UsuariosModel !
>! "
usuarios# +
=, -
new. 1
List2 6
<6 7
UsuariosModel7 D
>D E
(E F
)F G
;G H
private 
AplicationDbContext #
_context$ ,
;, -
private 
IConfiguration 
_config &
;& '
public 
LoginController 
( 
IConfiguration -
config. 4
,4 5
AplicationDbContext6 I
contextJ Q
)Q R
{ 	
_config 
= 
config 
; 
_context 
= 
context 
; 
} 	
[ 	
AllowAnonymous	 
] 
[ 	
HttpPost	 
] 
public   
IActionResult   
Login   "
(  " #
[  # $
FromBody  $ ,
]  , -
	UserLogin  . 7
	userLogin  8 A
)  A B
{!! 	
var"" 
user"" 
="" 
Authenticate"" #
(""# $
	userLogin""$ -
)""- .
;"". /
if## 
(## 
user## 
==## 
null## 
)## 
return$$ 
NotFound$$ 
($$  
$str$$  0
)$$0 1
;$$1 2
var&& 
token&& 
=&& 
Generate&&  
(&&  !
user&&! %
)&&% &
;&&& '
return'' 
Ok'' 
('' 
token'' 
)'' 
;'' 
}(( 	
[** 	
AllowAnonymous**	 
]** 
[++ 	
HttpPost++	 
(++ 
$str++ !
)++! "
]++" #
public,, 
IActionResult,, 
resetPassword,, *
(,,* +
[,,+ ,
FromBody,,, 4
],,4 5
	UserLogin,,6 ?
	userLogin,,@ I
),,I J
{-- 	
Boolean.. 
EsUsuarioValido.. #
=..$ %
validateUsuario..& 5
(..5 6
	userLogin..6 ?
...? @
Username..@ H
)..H I
;..I J
string// 
data_mensaje// 
=//  !
$str//" $
;//$ %
if00 
(00 
EsUsuarioValido00 
)00  
{11 
usuario22 
usuario22 
=22  !
_context22" *
.22* +
usuario22+ 2
.222 3
Where223 8
(228 9
x229 :
=>22; =
x22> ?
.22? @
username22@ H
==22I K
	userLogin22L U
.22U V
Username22V ^
)22^ _
.22_ `
FirstOrDefault22` n
(22n o
)22o p
;22p q
if33 
(33 
usuario33 
!=33 
null33 "
)33" #
{44 
string55 
_nombre_usuario55 *
=55+ ,
usuario55- 4
.554 5
nombre_usuario555 C
;55C D
string66 
nombre_usuario66 )
=66* +
System66, 2
.662 3
Text663 7
.667 8
RegularExpressions668 J
.66J K
Regex66K P
.66P Q
Replace66Q X
(66X Y
_nombre_usuario66Y h
,66h i
$str66j o
,66o p
$str66q s
)66s t
;66t u
string77 

nombreCapa77 %
=77& '
$str77( 4
+775 6
nombre_usuario777 E
+77F G
	userLogin77H Q
.77Q R
Password77R Z
;77Z [
usuario:: 
.:: 
pssword:: #
=::$ %
General::& -
.::- .
cifrarTextoAES::. <
(::< =
	userLogin::= F
.::F G
Password::G O
,::O P

nombreCapa::Q [
,::[ \

nombreCapa::] g
,::g h
$str::i o
,::o p
$num::q s
,::s t
$str	::u З
,
::З И
$num
::Й М
)
::М Н
;
::Н О
_context;; 
.;; 
Update;; #
(;;# $
usuario;;$ +
);;+ ,
;;;, -
int<< 
saveChanges<< #
=<<$ %
_context<<& .
.<<. /
SaveChanges<</ :
(<<: ;
)<<; <
;<<< =
if== 
(== 
saveChanges== "
>==# $
$num==% &
)==& '
{>> 
data_mensaje?? $
=??% &
$str??' F
;??F G
}@@ 
}BB 
elseCC 
{DD 
data_mensajeEE  
=EE! "
$strEE# 7
;EE7 8
}FF 
}GG 
elseHH 
{II 
data_mensajeJJ 
=JJ 
$strJJ 2
;JJ2 3
}KK 
returnLL 
OkLL 
(LL 
data_mensajeLL "
)LL" #
;LL# $
}MM 	
privateOO 
BooleanOO 
validateUsuarioOO '
(OO' (
stringOO( .
usuarioOO/ 6
)OO6 7
{PP 	
BooleanQQ 
EsUsuarioValidoQQ #
=QQ$ %
falseQQ& +
;QQ+ ,
tryRR 
{SS 
varTT 
_usuarioTT 
=TT 
_contextTT '
.TT' (
usuarioTT( /
.TT/ 0
WhereTT0 5
(TT5 6
xTT6 7
=>TT8 :
xTT; <
.TT< =
usernameTT= E
==TTF H
usuarioTTI P
)TTP Q
.TTQ R
FirstOrDefaultTTR `
(TT` a
)TTa b
;TTb c
ifUU 
(UU 
_usuarioUU 
!=UU 
nullUU #
)UU# $
{VV 
EsUsuarioValidoWW #
=WW$ %
trueWW& *
;WW* +
}XX 
}YY 
catchZZ 
(ZZ 
	ExceptionZZ 
eZZ 
)ZZ 
{[[ 
var\\ 
st\\ 
=\\ 
new\\ 

StackTrace\\ '
(\\' (
)\\( )
;\\) *
var]] 
sf]] 
=]] 
st]] 
.]] 
GetFrame]] $
(]]$ %
$num]]% &
)]]& '
;]]' (

MethodBase^^ 
site^^ 
=^^  !
e^^" #
.^^# $

TargetSite^^$ .
;^^. /
string__ 

methodName__ !
=__" #
site__$ (
==__) +
null__, 0
?__1 2
null__3 7
:__8 9
site__: >
.__> ?
Name__? C
;__C D
General`` 
.`` 
CrearLogError`` %
(``% &
sf``& (
.``( )
	GetMethod``) 2
(``2 3
)``3 4
.``4 5
Name``5 9
,``9 :
$str``; E
,``E F
e``G H
.``H I
Message``I P
,``P Q
e``R S
.``S T
Source``T Z
,``Z [
e``\ ]
.``] ^

StackTrace``^ h
,``h i

methodName``j t
,``t u
_config``v }
.``} ~ 
GetConnectionString	``~ С
(
``С Т
$str
``Т Ь
)
``Ь Э
)
``Э Ю
;
``Ю Я
}aa 
returnbb 
EsUsuarioValidobb "
;bb" #
}cc 	
privateee 
stringee 
Generateee 
(ee  
usuarioee  '
useree( ,
)ee, -
{ff 	
vargg 
securityKeygg 
=gg 
newgg ! 
SymmetricSecurityKeygg" 6
(gg6 7
Encodinggg7 ?
.gg? @
UTF8gg@ D
.ggD E
GetBytesggE M
(ggM N
_configggN U
[ggU V
$strggV _
]gg_ `
)gg` a
)gga b
;ggb c
varhh 
	credialeshh 
=hh 
newhh 
SigningCredentialshh  2
(hh2 3
securityKeyhh3 >
,hh> ?
SecurityAlgorithmshh@ R
.hhR S

HmacSha256hhS ]
)hh] ^
;hh^ _
varjj 
claimsjj 
=jj 
newjj 
[jj 
]jj 
{kk 
newmm 
Claimmm 
(mm 

ClaimTypesmm $
.mm$ %
SerialNumbermm% 1
,mm1 2
usermm3 7
.mm7 8
codigomm8 >
)mm> ?
,mm? @
newnn 
Claimnn 
(nn 

ClaimTypesnn $
.nn$ %
Namenn% )
,nn) *
usernn+ /
.nn/ 0
nombre_usuarionn0 >
)nn> ?
,nn? @
newoo 
Claimoo 
(oo 

ClaimTypesoo $
.oo$ %
NameIdentifieroo% 3
,oo3 4
useroo5 9
.oo9 :
usernameoo: B
)ooB C
}pp 
;pp 
varqq 
tokenqq 
=qq 
newqq 
JwtSecurityTokenqq ,
(qq, -
_configqq- 4
[qq4 5
$strqq5 A
]qqA B
,qqB C
_configrr 
[rr 
$strrr &
]rr& '
,rr' (
claimsss 
,ss 
expirestt 
:tt 
DateTimett !
.tt! "
Nowtt" %
.tt% &

AddMinutestt& 0
(tt0 1
$numtt1 3
)tt3 4
,tt4 5
signingCredentialsuu "
:uu" #
	credialesuu$ -
)uu- .
;uu. /
returnww 
newww #
JwtSecurityTokenHandlerww .
(ww. /
)ww/ 0
.ww0 1

WriteTokenww1 ;
(ww; <
tokenww< A
)wwA B
;wwB C
}xx 	
privatezz 
usuariozz 
Authenticatezz $
(zz$ %
	UserLoginzz% .
	userLoginzz/ 8
)zz8 9
{{{ 	
var|| 
user|| 
=|| 
new|| 
usuario|| "
(||" #
)||# $
;||$ %
Boolean}} 
EsUsuarioValido}} #
=}}$ %
false}}& +
;}}+ ,
string~~ 
_nombre_usuario~~ "
=~~# $
$str~~% '
;~~' (
string 
nombre_usuario !
=" #
$str$ &
;& '
string
АА 

nombreCapa
АА 
=
АА 
$str
АА  "
;
АА" #
try
ББ 
{
ВВ 
user
ГГ 
=
ГГ 
_context
ГГ 
.
ГГ  
usuario
ГГ  '
.
ГГ' (
FirstOrDefault
ГГ( 6
(
ГГ6 7
o
ГГ7 8
=>
ГГ9 ;
o
ГГ< =
.
ГГ= >
username
ГГ> F
==
ГГG I
	userLogin
ГГJ S
.
ГГS T
Username
ГГT \
)
ГГ\ ]
;
ГГ] ^
string
ДД 
passwordHash
ДД #
=
ДД$ %
$str
ДД& (
;
ДД( )
if
ЕЕ 
(
ЕЕ 
user
ЕЕ 
!=
ЕЕ 
null
ЕЕ  
)
ЕЕ  !
{
ЖЖ 
passwordHash
ЗЗ  
=
ЗЗ! "
user
ЗЗ# '
.
ЗЗ' (
pssword
ЗЗ( /
;
ЗЗ/ 0
_nombre_usuario
ИИ #
=
ИИ$ %
user
ИИ& *
.
ИИ* +
nombre_usuario
ИИ+ 9
;
ИИ9 :
nombre_usuario
ЙЙ "
=
ЙЙ# $
System
ЙЙ% +
.
ЙЙ+ ,
Text
ЙЙ, 0
.
ЙЙ0 1 
RegularExpressions
ЙЙ1 C
.
ЙЙC D
Regex
ЙЙD I
.
ЙЙI J
Replace
ЙЙJ Q
(
ЙЙQ R
_nombre_usuario
ЙЙR a
,
ЙЙa b
$str
ЙЙc h
,
ЙЙh i
$str
ЙЙj l
)
ЙЙl m
;
ЙЙm n

nombreCapa
КК 
=
КК  
$str
КК! -
+
КК. /
nombre_usuario
КК0 >
+
КК? @
	userLogin
ККA J
.
ККJ K
Password
ККK S
;
ККS T
}
ЛЛ 
passwordHash
ПП 
=
ПП 
General
ПП &
.
ПП& '
descifrarTextoAES
ПП' 8
(
ПП8 9
passwordHash
ПП9 E
,
ППE F

nombreCapa
ППG Q
,
ППQ R

nombreCapa
ППS ]
,
ПП] ^
$str
ПП_ e
,
ППe f
$num
ППg i
,
ППi j
$str
ППk }
,
ПП} ~
$numПП В
)ППВ Г
;ППГ Д
if
РР 
(
РР 
passwordHash
РР  
!=
РР! #
$str
РР$ &
)
РР& '
{
СС 
if
ТТ 
(
ТТ 
passwordHash
ТТ #
.
ТТ# $
Contains
ТТ$ ,
(
ТТ, -
	userLogin
ТТ- 6
.
ТТ6 7
Password
ТТ7 ?
)
ТТ? @
)
ТТ@ A
{
УУ 
EsUsuarioValido
ФФ '
=
ФФ( )
true
ФФ* .
;
ФФ. /
}
ХХ 
}
ЦЦ 
}
ЧЧ 
catch
ШШ 
(
ШШ 
	Exception
ШШ 
e
ШШ 
)
ШШ 
{
ЩЩ 
var
ЪЪ 
st
ЪЪ 
=
ЪЪ 
new
ЪЪ 

StackTrace
ЪЪ '
(
ЪЪ' (
)
ЪЪ( )
;
ЪЪ) *
var
ЫЫ 
sf
ЫЫ 
=
ЫЫ 
st
ЫЫ 
.
ЫЫ 
GetFrame
ЫЫ $
(
ЫЫ$ %
$num
ЫЫ% &
)
ЫЫ& '
;
ЫЫ' (

MethodBase
ЬЬ 
site
ЬЬ 
=
ЬЬ  !
e
ЬЬ" #
.
ЬЬ# $

TargetSite
ЬЬ$ .
;
ЬЬ. /
string
ЭЭ 

methodName
ЭЭ !
=
ЭЭ" #
site
ЭЭ$ (
==
ЭЭ) +
null
ЭЭ, 0
?
ЭЭ1 2
null
ЭЭ3 7
:
ЭЭ8 9
site
ЭЭ: >
.
ЭЭ> ?
Name
ЭЭ? C
;
ЭЭC D
General
ЮЮ 
.
ЮЮ 
CrearLogError
ЮЮ %
(
ЮЮ% &
sf
ЮЮ& (
.
ЮЮ( )
	GetMethod
ЮЮ) 2
(
ЮЮ2 3
)
ЮЮ3 4
.
ЮЮ4 5
Name
ЮЮ5 9
,
ЮЮ9 :
$str
ЮЮ; E
,
ЮЮE F
e
ЮЮG H
.
ЮЮH I
Message
ЮЮI P
,
ЮЮP Q
e
ЮЮQ R
.
ЮЮR S
Source
ЮЮS Y
,
ЮЮY Z
e
ЮЮZ [
.
ЮЮ[ \

StackTrace
ЮЮ\ f
,
ЮЮf g

methodName
ЮЮg q
,
ЮЮq r
_config
ЮЮs z
.
ЮЮz {"
GetConnectionStringЮЮ{ О
(ЮЮО П
$strЮЮП Щ
)ЮЮЩ Ъ
)ЮЮЪ Ы
;ЮЮЫ Ь
}
ЯЯ 
if
жж 
(
жж 
!
жж 
EsUsuarioValido
жж  
)
жж  !
return
зз 
null
зз 
;
зз 
return
ии 
user
ии 
;
ии 
}
кк 	
}
оо 
}пп с
CE:\GITEA\siscointBKII\siscointBKII\Controllers\PedidosConreoller.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
PedidosConreoller "
:# $
ControllerBase% 3
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
PedidosConreoller  
(  !
AplicationDbContext! 4
context5 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str /
)/ 0
]0 1
[ 	
	Authorize	 
] 
public 
IActionResult 
getContratoProvedor 0
(0 1
int1 4
id5 7
)7 8
{ 	
var 
data 
= 
new 
Object !
(! "
)" #
;# $
try 
{ 
data 
= 
( 
from 
dp 
in  "
_context# +
.+ ,
detalle_proveedor, =
join   
p   
in   !
_context  " *
.  * +
proveedorII  + 6
on  7 9
dp  : <
.  < =
nit  = @
equals  A G
p  H I
.  I J
nit  J M
where!! 
(!! 
dp!! !
.!!! "
id!!" $
==!!% '
id!!( *
)!!* +
select"" 
new"" "
{## 
nit$$ 
=$$  !
dp$$" $
.$$$ %
nit$$% (
,$$( )
razon_social%% (
=%%) *
p%%+ ,
.%%, -
razon_social%%- 9
,%%9 :
contrato&& $
=&&% &
dp&&' )
.&&) *
contrato&&* 2
}'' 
)'' 
.'' 
First''  
(''  !
)''! "
;''" #
}(( 
catch)) 
()) 
	Exception)) 
e)) 
))) 
{** 
},, 
return-- 
Ok-- 
(-- 
data-- 
)-- 
;-- 
}.. 	
}// 
}00 Р╝
CE:\GITEA\siscointBKII\siscointBKII\Controllers\PedidosController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
PedidosController "
:# $
ControllerBase% 3
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
PedidosController  
(  !
AplicationDbContext! 4
context5 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str /
)/ 0
]0 1
[ 	
	Authorize	 
] 
public 
IActionResult 
getContratoProvedor 0
(0 1
int1 4
id5 7
)7 8
{   	
var!! 
data!! 
=!! 
new!! 
Object!! !
(!!! "
)!!" #
;!!# $
try"" 
{## 
data$$ 
=$$ 
($$ 
from$$ 
dp$$ 
in$$  "
_context$$# +
.$$+ ,
detalle_proveedor$$, =
join%% 
p%% 
in%% !
_context%%" *
.%%* +
proveedorII%%+ 6
on%%7 9
dp%%: <
.%%< =
nit%%= @
equals%%A G
p%%H I
.%%I J
nit%%J M
where&& 
(&& 
dp&& !
.&&! "
id&&" $
==&&% '
id&&( *
)&&* +
select'' 
new'' "
{(( 
nit)) 
=))  !
dp))" $
.))$ %
nit))% (
,))( )
razon_social** (
=**) *
p**+ ,
.**, -
razon_social**- 9
,**9 :
contrato++ $
=++% &
dp++' )
.++) *
contrato++* 2
},, 
),, 
.,, 
First,,  
(,,  !
),,! "
;,," #
}-- 
catch.. 
(.. 
	Exception.. 
e.. 
).. 
{// 
var00 
st00 
=00 
new00 

StackTrace00 '
(00' (
)00( )
;00) *
var11 
sf11 
=11 
st11 
.11 
GetFrame11 $
(11$ %
$num11% &
)11& '
;11' (

MethodBase22 
site22 
=22  !
e22" #
.22# $

TargetSite22$ .
;22. /
string33 

methodName33 !
=33" #
site33$ (
==33) +
null33, 0
?331 2
null333 7
:338 9
site33: >
.33> ?
Name33? C
;33C D
General44 
.44 
CrearLogError44 %
(44% &
sf44& (
.44( )
	GetMethod44) 2
(442 3
)443 4
.444 5
Name445 9
,449 :
$str44; N
,44N O
e44P Q
.44Q R
Message44R Y
,44Y Z
e44Z [
.44[ \
Source44\ b
,44b c
e44c d
.44d e

StackTrace44e o
,44o p

methodName44p z
,44z {
_config	44| Г
.
44Г Д!
GetConnectionString
44Д Ч
(
44Ч Ш
$str
44Ш в
)
44в г
)
44г д
;
44д е
}55 
return66 
Ok66 
(66 
data66 
)66 
;66 
}77 	
[88 	
HttpGet88	 
(88 
$str88 0
)880 1
]881 2
[99 	
	Authorize99	 
]99 
public:: 
IActionResult::  
getArticuloComprasId:: 1
(::1 2
int::2 5
id::6 8
)::8 9
{;; 	
var<< 
data<< 
=<< 
new<< 
Object<< !
(<<! "
)<<" #
;<<# $
try== 
{>> 
data?? 
=?? 
(?? 
from?? 
ac?? 
in??  "
_context??# +
.??+ ,
compras_articulos??, =
join@@ 
i@@ 
in@@ !
_context@@" *
.@@* +
iva@@+ .
on@@/ 1
ac@@2 4
.@@4 5
tipo_iva@@5 =
equals@@> D
i@@E F
.@@F G
id@@G I
+@@J K
$str@@L N
whereAA 
(AA 
acAA !
.AA! "
idAA" $
==AA% '
idAA( *
)AA* +
selectBB 
newBB "
{CC 
codigoDD "
=DD# $
acDD% '
.DD' (
codigoDD( .
,DD. /
descripcionEE '
=EE( )
acEE* ,
.EE, -
descripcionEE- 8
,EE8 9
undFF 
=FF  !
acFF" $
.FF$ %
undFF% (
,FF( )
cuentaGG "
=GG# $
acGG% '
.GG' (
cuentaGG( .
,GG. /
ivaHH 
=HH  !
iHH" #
.HH# $

porcentajeHH$ .
}II 
)II 
.II 
FirstII  
(II  !
)II! "
;II" #
}JJ 
catchKK 
(KK 
	ExceptionKK 
eKK 
)KK 
{LL 
varMM 
stMM 
=MM 
newMM 

StackTraceMM '
(MM' (
)MM( )
;MM) *
varNN 
sfNN 
=NN 
stNN 
.NN 
GetFrameNN $
(NN$ %
$numNN% &
)NN& '
;NN' (

MethodBaseOO 
siteOO 
=OO  !
eOO" #
.OO# $

TargetSiteOO$ .
;OO. /
stringPP 

methodNamePP !
=PP" #
sitePP$ (
==PP) +
nullPP, 0
?PP1 2
nullPP3 7
:PP8 9
sitePP: >
.PP> ?
NamePP? C
;PPC D
GeneralQQ 
.QQ 
CrearLogErrorQQ %
(QQ% &
sfQQ& (
.QQ( )
	GetMethodQQ) 2
(QQ2 3
)QQ3 4
.QQ4 5
NameQQ5 9
,QQ9 :
$strQQ; N
,QQN O
eQQP Q
.QQQ R
MessageQQR Y
,QQY Z
eQQZ [
.QQ[ \
SourceQQ\ b
,QQb c
eQQc d
.QQd e

StackTraceQQe o
,QQo p

methodNameQQp z
,QQz {
_config	QQ| Г
.
QQГ Д!
GetConnectionString
QQД Ч
(
QQЧ Ш
$str
QQШ в
)
QQв г
)
QQг д
;
QQд е
}RR 
returnSS 
OkSS 
(SS 
dataSS 
)SS 
;SS 
}TT 	
[UU 	
HttpGetUU	 
(UU 
$strUU -
)UU- .
]UU. /
[VV 	
	AuthorizeVV	 
]VV 
publicWW 
IActionResultWW 
getArticuloFijoIdWW .
(WW. /
intWW/ 2
idWW3 5
)WW5 6
{XX 	
varYY 
dataYY 
=YY 
newYY 
ObjectYY !
(YY! "
)YY" #
;YY# $
tryZZ 
{[[ 
data\\ 
=\\ 
(\\ 
from\\ 
af\\ 
in\\  "
_context\\# +
.\\+ ,
articulos_af\\, 8
join]] 
i]] 
in]] !
_context]]" *
.]]* +
iva]]+ .
on]]/ 1
af]]2 4
.]]4 5
tipo_iva]]5 =
equals]]> D
i]]E F
.]]F G
id]]G I
+]]J K
$str]]L N
where^^ 
(^^ 
af^^ !
.^^! "
id^^" $
==^^% '
id^^( *
)^^* +
select__ 
new__ "
{`` 
codigoaa "
=aa# $
afaa% '
.aa' (
codigoaa( .
,aa. /
descripcionbb '
=bb( )
afbb* ,
.bb, -
descripcionbb- 8
,bb8 9
undcc 
=cc  !
afcc" $
.cc$ %
undcc% (
,cc( )
cuentadd "
=dd# $
afdd% '
.dd' (
cuentadd( .
,dd. /
ivaee 
=ee  !
iee" #
.ee# $

porcentajeee$ .
}ff 
)ff 
.ff 
Firstff  
(ff  !
)ff! "
;ff" #
}gg 
catchhh 
(hh 
	Exceptionhh 
ehh 
)hh 
{ii 
varjj 
stjj 
=jj 
newjj 

StackTracejj '
(jj' (
)jj( )
;jj) *
varkk 
sfkk 
=kk 
stkk 
.kk 
GetFramekk $
(kk$ %
$numkk% &
)kk& '
;kk' (

MethodBasell 
sitell 
=ll  !
ell" #
.ll# $

TargetSitell$ .
;ll. /
stringmm 

methodNamemm !
=mm" #
sitemm$ (
==mm) +
nullmm, 0
?mm1 2
nullmm3 7
:mm8 9
sitemm: >
.mm> ?
Namemm? C
;mmC D
Generalnn 
.nn 
CrearLogErrornn %
(nn% &
sfnn& (
.nn( )
	GetMethodnn) 2
(nn2 3
)nn3 4
.nn4 5
Namenn5 9
,nn9 :
$strnn; I
,nnI J
ennK L
.nnL M
MessagennM T
,nnT U
ennU V
.nnV W
SourcennW ]
,nn] ^
enn^ _
.nn_ `

StackTracenn` j
,nnj k

methodNamennk u
,nnu v
_confignnw ~
.nn~  
GetConnectionString	nn Т
(
nnТ У
$str
nnУ Э
)
nnЭ Ю
)
nnЮ Я
;
nnЯ а
}oo 
returnpp 
Okpp 
(pp 
datapp 
)pp 
;pp 
}qq 	
[ss 	
HttpGetss	 
(ss 
$strss  
)ss  !
]ss! "
[tt 	
	Authorizett	 
]tt 
publicuu 
IActionResultuu 
getDirectivosuu *
(uu* +
)uu+ ,
{vv 	
varww 
dataww 
=ww 
newww 
Objectww !
(ww! "
)ww" #
;ww# $
tryxx 
{yy 
datazz 
=zz 
_contextzz 
.zz  

directivoszz  *
.zz* +
ToListzz+ 1
(zz1 2
)zz2 3
;zz3 4
if{{ 
({{ 
data{{ 
=={{ 
null{{ 
){{  
{|| 
return}} 
null}} 
;}}  
}~~ 
} 
catch
АА 
(
АА 
	Exception
АА 
e
АА 
)
АА 
{
ББ 
var
ВВ 
st
ВВ 
=
ВВ 
new
ВВ 

StackTrace
ВВ '
(
ВВ' (
)
ВВ( )
;
ВВ) *
var
ГГ 
sf
ГГ 
=
ГГ 
st
ГГ 
.
ГГ 
GetFrame
ГГ $
(
ГГ$ %
$num
ГГ% &
)
ГГ& '
;
ГГ' (

MethodBase
ДД 
site
ДД 
=
ДД  !
e
ДД" #
.
ДД# $

TargetSite
ДД$ .
;
ДД. /
string
ЕЕ 

methodName
ЕЕ !
=
ЕЕ" #
site
ЕЕ$ (
==
ЕЕ) +
null
ЕЕ, 0
?
ЕЕ1 2
null
ЕЕ3 7
:
ЕЕ8 9
site
ЕЕ: >
.
ЕЕ> ?
Name
ЕЕ? C
;
ЕЕC D
General
ЖЖ 
.
ЖЖ 
CrearLogError
ЖЖ %
(
ЖЖ% &
sf
ЖЖ& (
.
ЖЖ( )
	GetMethod
ЖЖ) 2
(
ЖЖ2 3
)
ЖЖ3 4
.
ЖЖ4 5
Name
ЖЖ5 9
,
ЖЖ9 :
$str
ЖЖ; G
,
ЖЖG H
e
ЖЖI J
.
ЖЖJ K
Message
ЖЖK R
,
ЖЖR S
e
ЖЖS T
.
ЖЖT U
Source
ЖЖU [
,
ЖЖ[ \
e
ЖЖ\ ]
.
ЖЖ] ^

StackTrace
ЖЖ^ h
,
ЖЖh i

methodName
ЖЖi s
,
ЖЖs t
_config
ЖЖu |
.
ЖЖ| }"
GetConnectionStringЖЖ} Р
(ЖЖР С
$strЖЖС Ы
)ЖЖЫ Ь
)ЖЖЬ Э
;ЖЖЭ Ю
}
ЗЗ 
return
ИИ 
Ok
ИИ 
(
ИИ 
data
ИИ 
)
ИИ 
;
ИИ 
}
ЙЙ 	
[
ЛЛ 	
HttpPost
ЛЛ	 
(
ЛЛ 
$str
ЛЛ !
)
ЛЛ! "
]
ЛЛ" #
[
ММ 	
	Authorize
ММ	 
]
ММ 
public
НН 
IActionResult
НН 
agregarTipoPedido
НН .
(
НН. /
dynamic
НН/ 6
data
НН7 ;
)
НН; <
{
ОО 	
string
ПП 
	resultado
ПП 
=
ПП 
$str
ПП !
;
ПП! "
string
РР 
cadena_conexion
РР "
=
РР# $
_config
РР% ,
.
РР, -!
GetConnectionString
РР- @
(
РР@ A
$str
РРA K
)
РРK L
;
РРL M
try
СС 
{
ТТ 
var
УУ 
dataJson
УУ 
=
УУ 
System
УУ %
.
УУ% &
Text
УУ& *
.
УУ* +
Json
УУ+ /
.
УУ/ 0
JsonSerializer
УУ0 >
.
УУ> ?
	Serialize
УУ? H
(
УУH I
data
УУI M
)
УУM N
;
УУN O
var
ФФ 
	datObject
ФФ 
=
ФФ 
JObject
ФФ  '
.
ФФ' (
Parse
ФФ( -
(
ФФ- .
dataJson
ФФ. 6
)
ФФ6 7
;
ФФ7 8
string
ХХ 

tipoPedido
ХХ !
=
ХХ" #
Convert
ХХ$ +
.
ХХ+ ,
ToString
ХХ, 4
(
ХХ4 5
	datObject
ХХ5 >
[
ХХ> ?
$str
ХХ? K
]
ХХK L
)
ХХL M
;
ХХM N
string
ЦЦ 
pedido
ЦЦ 
=
ЦЦ 
Convert
ЦЦ  '
.
ЦЦ' (
ToString
ЦЦ( 0
(
ЦЦ0 1
	datObject
ЦЦ1 :
[
ЦЦ: ;
$str
ЦЦ; C
]
ЦЦC D
)
ЦЦD E
;
ЦЦE F
string
ЧЧ 
detallePedido
ЧЧ $
=
ЧЧ% &
Convert
ЧЧ' .
.
ЧЧ. /
ToString
ЧЧ/ 7
(
ЧЧ7 8
	datObject
ЧЧ8 A
[
ЧЧA B
$str
ЧЧB Q
]
ЧЧQ R
)
ЧЧR S
;
ЧЧS T
pedidos
ЩЩ 

pedidosAdd
ЩЩ "
=
ЩЩ# $
JsonConvert
ЩЩ% 0
.
ЩЩ0 1
DeserializeObject
ЩЩ1 B
<
ЩЩB C
pedidos
ЩЩC J
>
ЩЩJ K
(
ЩЩK L
pedido
ЩЩL R
)
ЩЩR S
;
ЩЩS T
List
ЪЪ 
<
ЪЪ 
detalle_pedido
ЪЪ #
>
ЪЪ# $
detallePedidos
ЪЪ% 3
=
ЪЪ4 5
JsonConvert
ЪЪ6 A
.
ЪЪA B
DeserializeObject
ЪЪB S
<
ЪЪS T
List
ЪЪT X
<
ЪЪX Y
detalle_pedido
ЪЪY g
>
ЪЪg h
>
ЪЪh i
(
ЪЪi j
detallePedido
ЪЪj w
)
ЪЪw x
;
ЪЪx y
}
ЫЫ 
catch
ЬЬ 
(
ЬЬ 
	Exception
ЬЬ 
e
ЬЬ 
)
ЬЬ 
{
ЭЭ 
var
ЮЮ 
st
ЮЮ 
=
ЮЮ 
new
ЮЮ 

StackTrace
ЮЮ '
(
ЮЮ' (
)
ЮЮ( )
;
ЮЮ) *
var
ЯЯ 
sf
ЯЯ 
=
ЯЯ 
st
ЯЯ 
.
ЯЯ 
GetFrame
ЯЯ $
(
ЯЯ$ %
$num
ЯЯ% &
)
ЯЯ& '
;
ЯЯ' (

MethodBase
аа 
site
аа 
=
аа  !
e
аа" #
.
аа# $

TargetSite
аа$ .
;
аа. /
string
бб 

methodName
бб !
=
бб" #
site
бб$ (
==
бб) +
null
бб, 0
?
бб1 2
null
бб3 7
:
бб8 9
site
бб: >
.
бб> ?
Name
бб? C
;
ббC D
General
вв 
.
вв 
CrearLogError
вв %
(
вв% &
sf
вв& (
.
вв( )
	GetMethod
вв) 2
(
вв2 3
)
вв3 4
.
вв4 5
Name
вв5 9
,
вв9 :
$str
вв; D
,
ввD E
e
ввF G
.
ввG H
Message
ввH O
,
ввO P
e
ввP Q
.
ввQ R
Source
ввR X
,
ввX Y
e
ввY Z
.
ввZ [

StackTrace
вв[ e
,
ввe f

methodName
ввf p
,
ввp q
_config
ввr y
.
ввy z"
GetConnectionStringввz Н
(ввН О
$strввО Ш
)ввШ Щ
)ввЩ Ъ
;ввЪ Ы
}
гг 
return
ее 
Ok
ее 
(
ее 
	resultado
ее 
)
ее  
;
ее  !
}
жж 	
public
ии 
static
ии 
Boolean
ии 
CrearPedido
ии )
(
ии) *
pedidos
ии* 1
pedido
ии2 8
,
ии8 9
List
ии: >
<
ии> ?
detalle_pedido
ии? M
>
ииM N
detallePedido
ииO \
,
ии\ ]
string
ии^ d

tipoPedido
ииe o
,
ииo p"
AplicationDbContextииq Д
contextииЕ М
,ииМ Н
outииО С
intииТ Х
numero_pedidoииЦ г
,ииг д
stringиид к
cadena_conexionиил ║
)ии║ ╗
{
йй 	
Boolean
кк 
PedidoCreado
кк  
=
кк! "
false
кк# (
;
кк( )
int
лл 

numero_ped
лл 
=
лл 
$num
лл 
;
лл 
numero_pedido
нн 
=
нн 
Convert
нн #
.
нн# $
ToInt32
нн$ +
(
нн+ ,
PreloadNro_pedido
нн, =
(
нн= >
context
нн> E
)
ннE F
)
ннF G
;
ннG H
if
оо 
(
оо 
numero_pedido
оо 
>
оо 
$num
оо  
)
оо  !
{
пп 
pedido
░░ 
.
░░ 

nro_pedido
░░ !
=
░░" #
numero_pedido
░░$ 1
;
░░1 2
pedido
▒▒ 
.
▒▒ 
aprobado_jefe
▒▒ $
=
▒▒% &
$str
▒▒' *
;
▒▒* +
context
▓▓ 
.
▓▓ 
pedidos
▓▓ 
.
▓▓  
Add
▓▓  #
(
▓▓# $
pedido
▓▓$ *
)
▓▓* +
;
▓▓+ ,
int
││ 

creoPedido
││ 
=
││  
context
││! (
.
││( )
SaveChanges
││) 4
(
││4 5
)
││5 6
;
││6 7
if
┤┤ 
(
┤┤ 

creoPedido
┤┤ 
>
┤┤ 
$num
┤┤  !
)
┤┤! "
{
╡╡ 
foreach
╢╢ 
(
╢╢ 
detalle_pedido
╢╢ *
	detPedido
╢╢+ 4
in
╢╢5 7
detallePedido
╢╢8 E
)
╢╢E F
{
╖╖ 
	detPedido
╕╕ !
.
╕╕! "
	id_pedido
╕╕" +
=
╕╕, -
numero_pedido
╕╕. ;
;
╕╕; <
context
╣╣ 
.
╣╣  
detalle_pedido
╣╣  .
.
╣╣. /
Add
╣╣/ 2
(
╣╣2 3
	detPedido
╣╣3 <
)
╣╣< =
;
╣╣= >
int
║║ 
creoDetallePedido
║║ -
=
║║. /
context
║║0 7
.
║║7 8
SaveChanges
║║8 C
(
║║C D
)
║║D E
;
║║E F
}
╝╝ 
switch
╛╛ 
(
╛╛ 

tipoPedido
╛╛ &
)
╛╛& '
{
┐┐ 
case
└└ 
$str
└└ ,
:
└└, -
General
┴┴ #
.
┴┴# $A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
┴┴$ W
(
┴┴W X
$str
┴┴X q
,
┴┴q r
numero_pedido┴┴s А
+┴┴Б В
$str┴┴Г Е
,┴┴Е Ж
cadena_conexion┴┴З Ц
)┴┴Ц Ч
;┴┴Ч Ш

numero_ped
┬┬ &
=
┬┬' (
numero_pedido
┬┬) 6
;
┬┬6 7
var
├├ 
det_ped
├├  '
=
├├( )
context
├├* 1
.
├├1 2
detalle_pedido
├├2 @
.
├├@ A
Where
├├A F
(
├├F G
x
├├G H
=>
├├I K
x
├├L M
.
├├M N
	id_pedido
├├N W
==
├├X Z

numero_ped
├├[ e
)
├├e f
.
├├f g
ToList
├├g m
(
├├m n
)
├├n o
;
├├o p
if
── 
(
── 
det_ped
── &
!=
──' )
null
──* .
)
──. /
{
┼┼ 
foreach
╞╞  '
(
╞╞' (
detalle_pedido
╞╞( 6
idata
╞╞7 <
in
╞╞= ?
det_ped
╞╞@ G
)
╞╞G H
{
╟╟  !
General
╚╚$ +
.
╚╚+ ,<
.EjecutarProcedimientoAlmacenado_validateAFDiff
╚╚, Z
(
╚╚Z [
$str
╚╚[ p
,
╚╚p q
cadena_conexion╚╚r Б
,╚╚Б В
idata╚╚Г И
.╚╚И Й
	id_pedido╚╚Й Т
+╚╚У Ф
$str╚╚Х Ч
,╚╚Ч Ш
idata╚╚Щ Ю
.╚╚Ю Я
cantidad╚╚Я з
??╚╚з й
$num╚╚к л
,╚╚л м
idata╚╚н ▓
.╚╚▓ │

codigo_art╚╚│ ╜
)╚╚╜ ╛
;╚╚╛ ┐
}
╔╔  !
}
╩╩ 
break
╦╦ !
;
╦╦! "
case
╠╠ 
$str
╠╠ '
:
╠╠' (
General
══ #
.
══# $A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
══$ W
(
══W X
$str
══X n
,
══n o
numero_pedido
══p }
+
══~ 
$str══А В
,══В Г
cadena_conexion══Д У
)══У Ф
;══Ф Х
break
╬╬ !
;
╬╬! "
default
╧╧ 
:
╧╧  
General
╨╨ #
.
╨╨# $A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
╨╨$ W
(
╨╨W X
$str
╨╨X n
,
╨╨n o
numero_pedido
╨╨p }
+
╨╨~ 
$str╨╨А В
,╨╨В Г
cadena_conexion╨╨Д У
)╨╨У Ф
;╨╨Ф Х
break
╤╤ !
;
╤╤! "
}
╥╥ 
}
╘╘ 
}
╒╒ 
return
╪╪ 
PedidoCreado
╪╪ 
;
╪╪  
}
┘┘ 	
public
██ 
static
██ 
string
██ 
PreloadNro_pedido
██ .
(
██. /!
AplicationDbContext
██/ B
context
██C J
)
██J K
{
▄▄ 	
int
▌▌ 

nro_pedido
▌▌ 
=
▌▌ 
$num
▌▌ 
;
▌▌ 
pedidos
▐▐ 
p
▐▐ 
=
▐▐ 
context
▐▐ 
.
▐▐  
pedidos
▐▐  '
.
▐▐' (
OrderByDescending
▐▐( 9
(
▐▐9 :
x
▐▐: ;
=>
▐▐< >
x
▐▐? @
.
▐▐@ A

nro_pedido
▐▐A K
)
▐▐K L
.
▐▐L M
FirstOrDefault
▐▐M [
(
▐▐[ \
)
▐▐\ ]
;
▐▐] ^
if
▀▀ 
(
▀▀ 
p
▀▀ 
!=
▀▀ 
null
▀▀ 
)
▀▀ 
{
рр 

nro_pedido
сс 
=
сс 
p
сс 
.
сс 

nro_pedido
сс )
+
сс* +
$num
сс, -
;
сс- .
}
тт 
return
уу 

nro_pedido
уу 
+
уу 
$str
уу  "
;
уу" #
}
фф 	
}
хх 
}цц фq
JE:\GITEA\siscointBKII\siscointBKII\Controllers\permisos_usuIIController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
permisos_usuIIController )
:* +
ControllerBase, :
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public $
permisos_usuIIController '
(' (
AplicationDbContext( ;
context< C
,C D
IConfigurationE S
configT Z
)Z [
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str !
)! "
]" #
[ 	
	Authorize	 
] 
public   
IActionResult   
permisos   %
(  % &
)  & '
{!! 	
var"" 
permisos"" 
="" 
new"" 
Object"" %
(""% &
)""& '
;""' (
try## 
{$$ 
permisos%% 
=%% 
listarPermisos%% )
(%%) *
)%%* +
;%%+ ,
}'' 
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 
var++ 
st++ 
=++ 
new++ 

StackTrace++ '
(++' (
)++( )
;++) *
var,, 
sf,, 
=,, 
st,, 
.,, 
GetFrame,, $
(,,$ %
$num,,% &
),,& '
;,,' (

MethodBase-- 
site-- 
=--  !
e--" #
.--# $

TargetSite--$ .
;--. /
string.. 

methodName.. !
=.." #
site..$ (
==..) +
null.., 0
?..1 2
null..3 7
:..8 9
site..: >
...> ?
Name..? C
;..C D
General// 
.// 
CrearLogError// %
(//% &
sf//& (
.//( )
	GetMethod//) 2
(//2 3
)//3 4
.//4 5
Name//5 9
,//9 :
$str//; K
,//K L
e//M N
.//N O
Message//O V
,//V W
e//W X
.//X Y
Source//Y _
,//_ `
e//` a
.//a b

StackTrace//b l
,//l m

methodName//m w
,//w x
_config	//y А
.
//А Б!
GetConnectionString
//Б Ф
(
//Ф Х
$str
//Х Я
)
//Я а
)
//а б
;
//б в
}00 
return11 
Ok11 
(11 
permisos11 
)11 
;11  
}22 	
[44 	
HttpPost44	 
(44 
$str44 *
)44* +
]44+ ,
[55 	
	Authorize55	 
]55 
public66 
IActionResult66 "
listarPermisosUsuarios66 3
(663 4
[664 5
FromBody665 =
]66= >
permisos_usuII66? M
permisos_UsuII66N \
)66\ ]
{77 	
var88 
permisosUsu88 
=88 
new88 !
Object88" (
(88( )
)88) *
;88* +
try99 
{:: 
permisosUsu;; 
=;; 
_context;; &
.;;& '
permisos_usuIII;;' 6
.;;6 7
Where;;7 <
(;;< =
x;;= >
=>;;? A
x;;B C
.;;C D
usuario;;D K
==;;L N
permisos_UsuII;;O ]
.;;] ^
usuario;;^ e
||;;f h
x;;i j
.;;j k
cod_usuario;;k v
==;;w y
permisos_UsuII	;;z И
.
;;И Й
cod_usuario
;;Й Ф
)
;;Ф Х
.
;;Х Ц
ToList
;;Ц Ь
(
;;Ь Э
)
;;Э Ю
;
;;Ю Я
}<< 
catch== 
(== 
	Exception== 
e== 
)== 
{>> 
var@@ 
st@@ 
=@@ 
new@@ 

StackTrace@@ '
(@@' (
)@@( )
;@@) *
varAA 
sfAA 
=AA 
stAA 
.AA 
GetFrameAA $
(AA$ %
$numAA% &
)AA& '
;AA' (

MethodBaseBB 
siteBB 
=BB  !
eBB" #
.BB# $

TargetSiteBB$ .
;BB. /
stringCC 

methodNameCC !
=CC" #
siteCC$ (
==CC) +
nullCC, 0
?CC1 2
nullCC3 7
:CC8 9
siteCC: >
.CC> ?
NameCC? C
;CCC D
GeneralDD 
.DD 
CrearLogErrorDD %
(DD% &
sfDD& (
.DD( )
	GetMethodDD) 2
(DD2 3
)DD3 4
.DD4 5
NameDD5 9
,DD9 :
$strDD; L
,DDL M
eDDN O
.DDO P
MessageDDP W
,DDW X
eDDX Y
.DDY Z
SourceDDZ `
,DD` a
eDDa b
.DDb c

StackTraceDDc m
,DDm n

methodNameDDn x
,DDx y
_config	DDz Б
.
DDБ В!
GetConnectionString
DDВ Х
(
DDХ Ц
$str
DDЦ а
)
DDа б
)
DDб в
;
DDв г
}EE 
returnGG 
OkGG 
(GG 
permisosUsuGG !
)GG! "
;GG" #
}HH 	
[II 	
HttpPostII	 
(II 
$strII (
)II( )
]II) *
[JJ 	
	AuthorizeJJ	 
]JJ 
publicKK 
IActionResultKK  
actulizarPermisosUsuKK 1
(KK1 2
dynamicKK2 9
dataKK: >
)KK> ?
{LL 	
tryMM 
{NN 
stringPP 
datPP 
=PP 
SystemPP #
.PP# $
TextPP$ (
.PP( )
JsonPP) -
.PP- .
JsonSerializerPP. <
.PP< =
	SerializePP= F
(PPF G
dataPPG K
)PPK L
;PPL M
ListQQ 
<QQ 
permisos_usuIIQQ #
>QQ# $
permisosQQ% -
=QQ. /
JsonConvertQQ0 ;
.QQ; <
DeserializeObjectQQ< M
<QQM N
ListQQN R
<QQR S
permisos_usuIIQQS a
>QQa b
>QQb c
(QQc d
datQQd g
)QQg h
;QQh i
foreachRR 
(RR 
permisos_usuIIRR &
permisoRR' .
inRR/ 1
permisosRR2 :
)RR: ;
{SS 
varTT 
datoTT 
=TT 
_contextTT '
.TT' (
permisos_usuIIITT( 7
.TT7 8
FirstOrDefaultTT8 F
(TTF G
xTTG H
=>TTI K
xTTL M
.TTM N
id_viewTTN U
==TTV X
permisoTTY `
.TT` a
id_viewTTa h
&&TTi k
xTTl m
.TTm n
usuarioTTn u
==TTv x
permiso	TTy А
.
TTА Б
usuario
TTБ И
)
TTИ Й
;
TTЙ К
ifVV 
(VV 
datoVV 
!=VV 
nullVV  $
)VV$ %
{WW 
ifXX 
(XX 
permisoXX #
.XX# $
autorizacionXX$ 0
==XX1 3
$strXX4 :
)XX: ;
{YY 
datoZZ  
.ZZ  !
autorizacionZZ! -
=ZZ. /
$strZZ0 3
;ZZ3 4
}[[ 
else\\ 
{]] 
dato^^  
.^^  !
autorizacion^^! -
=^^. /
$str^^0 3
;^^3 4
}__ 
if`` 
(`` 
permiso`` #
.``# $
pe1``$ '
==``( *
$str``+ 1
)``1 2
{aa 
datobb  
.bb  !
pe1bb! $
=bb% &
$strbb' *
;bb* +
}cc 
elsedd 
{ee 
datoff  
.ff  !
pe1ff! $
=ff% &
$strff' *
;ff* +
}gg 
ifhh 
(hh 
permisohh #
.hh# $
pe2hh$ '
==hh( *
$strhh+ 1
)hh1 2
{ii 
datojj  
.jj  !
pe2jj! $
=jj% &
$strjj' *
;jj* +
}kk 
elsell 
{mm 
datonn  
.nn  !
pe2nn! $
=nn% &
$strnn' *
;nn* +
}oo 
datopp 
.pp 
fecha_modificacionpp /
=pp0 1
permisopp2 9
.pp9 :
fecha_modificacionpp: L
;ppL M
_contextqq  
.qq  !
Updateqq! '
(qq' (
datoqq( ,
)qq, -
;qq- .
_contextrr  
.rr  !
SaveChangesrr! ,
(rr, -
)rr- .
;rr. /
}ss 
elsett 
{uu 
permisos_usuIIIww '
permisosAddww( 3
=ww4 5
newww6 9
permisos_usuIIIww: I
(wwI J
)wwJ K
;wwK L
permisosAddxx #
.xx# $
id_viewxx$ +
=xx, -
permisoxx. 5
.xx5 6
id_viewxx6 =
;xx= >
permisosAddyy #
.yy# $
cod_usuarioyy$ /
=yy0 1
permisoyy2 9
.yy9 :
cod_usuarioyy: E
;yyE F
permisosAddzz #
.zz# $

id_usuariozz$ .
=zz/ 0
permisozz1 8
.zz8 9

id_usuariozz9 C
;zzC D
permisosAdd{{ #
.{{# $
usuario{{$ +
={{, -
permiso{{. 5
.{{5 6
usuario{{6 =
;{{= >
if|| 
(|| 
permiso|| #
.||# $
autorizacion||$ 0
==||1 3
$str||4 :
)||: ;
{}} 
permisosAdd~~ '
.~~' (
autorizacion~~( 4
=~~5 6
$str~~7 :
;~~: ;
} 
else
АА 
{
ББ 
permisosAdd
ВВ '
.
ВВ' (
autorizacion
ВВ( 4
=
ВВ5 6
$str
ВВ7 :
;
ВВ: ;
}
ГГ 
if
ДД 
(
ДД 
permiso
ДД #
.
ДД# $
pe1
ДД$ '
==
ДД( *
$str
ДД+ 1
)
ДД1 2
{
ЕЕ 
permisosAdd
ЖЖ '
.
ЖЖ' (
pe1
ЖЖ( +
=
ЖЖ, -
$str
ЖЖ. 1
;
ЖЖ1 2
}
ЗЗ 
else
ИИ 
{
ЙЙ 
permisosAdd
КК '
.
КК' (
pe1
КК( +
=
КК, -
$str
КК. 1
;
КК1 2
}
ЛЛ 
if
ММ 
(
ММ 
permiso
ММ #
.
ММ# $
pe2
ММ$ '
==
ММ( *
$str
ММ+ 1
)
ММ1 2
{
НН 
permisosAdd
ОО '
.
ОО' (
pe2
ОО( +
=
ОО, -
$str
ОО. 1
;
ОО1 2
}
ПП 
else
РР 
{
СС 
permisosAdd
ТТ '
.
ТТ' (
pe2
ТТ( +
=
ТТ, -
$str
ТТ. 1
;
ТТ1 2
}
УУ 
permisosAdd
ФФ #
.
ФФ# $
usuario_crea
ФФ$ 0
=
ФФ1 2
permiso
ФФ3 :
.
ФФ: ;
usuario_crea
ФФ; G
;
ФФG H
permisosAdd
ХХ #
.
ХХ# $
Fecha_creacion
ХХ$ 2
=
ХХ3 4
permiso
ХХ5 <
.
ХХ< =
Fecha_creacion
ХХ= K
;
ХХK L
permisosAdd
ЦЦ #
.
ЦЦ# $ 
fecha_modificacion
ЦЦ$ 6
=
ЦЦ7 8
permiso
ЦЦ9 @
.
ЦЦ@ A 
fecha_modificacion
ЦЦA S
;
ЦЦS T
permisosAdd
ЧЧ #
.
ЧЧ# $
Estado
ЧЧ$ *
=
ЧЧ+ ,
$num
ЧЧ- .
;
ЧЧ. /
_context
ШШ  
.
ШШ  !
Add
ШШ! $
(
ШШ$ %
permisosAdd
ШШ% 0
)
ШШ0 1
;
ШШ1 2
_context
ЩЩ  
.
ЩЩ  !
SaveChanges
ЩЩ! ,
(
ЩЩ, -
)
ЩЩ- .
;
ЩЩ. /
}
ЪЪ 
}
ЬЬ 
}
ЮЮ 
catch
ЯЯ 
(
ЯЯ 
	Exception
ЯЯ 
e
ЯЯ 
)
ЯЯ 
{
аа 
var
вв 
st
вв 
=
вв 
new
вв 

StackTrace
вв '
(
вв' (
)
вв( )
;
вв) *
var
гг 
sf
гг 
=
гг 
st
гг 
.
гг 
GetFrame
гг $
(
гг$ %
$num
гг% &
)
гг& '
;
гг' (

MethodBase
дд 
site
дд 
=
дд  !
e
дд" #
.
дд# $

TargetSite
дд$ .
;
дд. /
string
ее 

methodName
ее !
=
ее" #
site
ее$ (
==
ее) +
null
ее, 0
?
ее1 2
null
ее3 7
:
ее8 9
site
ее: >
.
ее> ?
Name
ее? C
;
ееC D
General
жж 
.
жж 
CrearLogError
жж %
(
жж% &
sf
жж& (
.
жж( )
	GetMethod
жж) 2
(
жж2 3
)
жж3 4
.
жж4 5
Name
жж5 9
,
жж9 :
$str
жж; L
,
жжL M
e
жжN O
.
жжO P
Message
жжP W
,
жжW X
e
жжX Y
.
жжY Z
Source
жжZ `
,
жж` a
e
жжa b
.
жжb c

StackTrace
жжc m
,
жжm n

methodName
жжn x
,
жжx y
_configжжz Б
.жжБ В#
GetConnectionStringжжВ Х
(жжХ Ц
$strжжЦ а
)жжа б
)жжб в
;жжв г
}
зз 
return
йй 
Ok
йй 
(
йй 
)
йй 
;
йй 
}
кк 	
public
лл 
Object
лл 
listarPermisos
лл $
(
лл$ %
)
лл% &
{
мм 	
var
нн 
permisos
нн 
=
нн 
_context
нн #
.
нн# $
permisos_usuIII
нн$ 3
.
нн3 4
ToList
нн4 :
(
нн: ;
)
нн; <
;
нн< =
return
оо 
permisos
оо 
;
оо 
}
пп 	
}
▓▓ 
}││ Гд
DE:\GITEA\siscointBKII\siscointBKII\Controllers\UsuariosController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UsuariosController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
UsuariosController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
}   	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
["" 	
	Authorize""	 
]"" 
public## 
IActionResult## 
Usuarios## %
(##% &
)##& '
{$$ 	
var%% 
currentUser%% 
=%% 
GetCurrentUser%% ,
(%%, -
)%%- .
;%%. /
return(( 
Ok(( 
((( 
currentUser(( !
)((! "
;((" #
})) 	
[** 	
HttpGet**	 
(** 
$str** 
)** 
]**  
[++ 	
	Authorize++	 
]++ 
public,, 
IActionResult,, 
tipoUsuario,, (
(,,( )
),,) *
{-- 	
var.. 
tipoUsuario.. 
=.. 
_context.. &
...& '
tipo_usuario..' 3
...3 4
ToList..4 :
(..: ;
)..; <
;..< =
return// 
Ok// 
(// 
tipoUsuario// !
)//! "
;//" #
}00 	
[22 	
HttpPost22	 
(22 
$str22 
)22 
]22  
[33 	
	Authorize33	 
]33 
public44 
IActionResult44 

getUsuario44 '
(44' (
[44( )
FromBody44) 1
]441 2
usuario443 :
user44; ?
)44? @
{55 	
List66 
<66  
dataBusquedaCompleta66 %
>66% &
busqueda66' /
=660 1
new662 5
List666 :
<66: ; 
dataBusquedaCompleta66; O
>66O P
(66P Q
)66Q R
;66R S
var77 
usuarios77 
=77 
_context77 #
.77# $
usuario77$ +
.77+ ,
Where77, 1
(771 2
x772 3
=>774 6
x778 9
.779 :
codigo77: @
==77A C
user77D H
.77H I
codigo77I O
||77P R
x77S T
.77T U
nombre_usuario77U c
.77c d
Contains77d l
(77l m
user77m q
.77q r
nombre_usuario	77r А
)
77А Б
||
77В Д
x
77Е Ж
.
77Ж З
username
77З П
==
77Р Т
user
77У Ч
.
77Ч Ш
username
77Ш а
)
77а б
.
77б в
ToList
77в и
(
77и й
)
77й к
;
77к л
if88 
(88 
usuarios88 
==88 
null88  
)88  !
return99 
null99 
;99 
foreach;; 
(;; 
usuario;; 
item;;  
in;;! #
usuarios;;$ ,
);;, -
{<<  
dataBusquedaCompleta== $
busq==% )
===* +
new==, / 
dataBusquedaCompleta==0 D
(==D E
)==E F
;==F G
busq>> 
.>> 
id>> 
=>> 
item>> 
.>> 
id>> !
;>>! "
busq?? 
.?? 
valor1?? 
=?? 
item?? "
.??" #
codigo??# )
;??) *
busq@@ 
.@@ 
valor2@@ 
=@@ 
item@@ "
.@@" #
nombre_usuario@@# 1
;@@1 2
busqAA 
.AA 
valor3AA 
=AA 
itemAA "
.AA" #
usernameAA# +
;AA+ ,
busqBB 
.BB 
valor4BB 
=BB 
$strBB  
;BB  !
busqCC 
.CC 
valor5CC 
=CC 
$strCC  
;CC  !
busquedaDD 
.DD 
AddDD 
(DD 
busqDD !
)DD! "
;DD" #
}EE 
returnII 
OkII 
(II 
busquedaII 
)II 
;II  
}JJ 	
[LL 	
HttpPostLL	 
(LL 
$strLL  
)LL  !
]LL! "
[MM 	
	AuthorizeMM	 
]MM 
publicNN 
IActionResultNN 
getUsuarioIdNN )
(NN) *
[NN* +
FromBodyNN+ 3
]NN3 4
usuarioNN5 <
userNN= A
)NNA B
{OO 	
varPP 
usuariosPP 
=PP 
newPP 
ObjectPP %
(PP% &
)PP& '
;PP' (
tryQQ 
{RR 
usuariosSS 
=SS 
_contextSS #
.SS# $
usuarioSS$ +
.SS+ ,
WhereSS, 1
(SS1 2
xSS2 3
=>SS4 6
xSS7 8
.SS8 9
idSS9 ;
==SS< >
userSS? C
.SSC D
idSSD F
)SSF G
.SSG H
ToListSSH N
(SSN O
)SSO P
;SSP Q
ifTT 
(TT 
usuariosTT 
==TT 
nullTT  $
)TT$ %
returnUU 
nullUU 
;UU  
}VV 
catchWW 
(WW 
	ExceptionWW 
eWW 
)WW 
{XX 
varZZ 
stZZ 
=ZZ 
newZZ 

StackTraceZZ '
(ZZ' (
)ZZ( )
;ZZ) *
var[[ 
sf[[ 
=[[ 
st[[ 
.[[ 
GetFrame[[ $
([[$ %
$num[[% &
)[[& '
;[[' (

MethodBase\\ 
site\\ 
=\\  !
e\\" #
.\\# $

TargetSite\\$ .
;\\. /
string]] 

methodName]] !
=]]" #
site]]$ (
==]]) +
null]], 0
?]]1 2
null]]3 7
:]]8 9
site]]: >
.]]> ?
Name]]? C
;]]C D
General^^ 
.^^ 
CrearLogError^^ %
(^^% &
sf^^& (
.^^( )
	GetMethod^^) 2
(^^2 3
)^^3 4
.^^4 5
Name^^5 9
,^^9 :
$str^^; D
,^^D E
e^^F G
.^^G H
Message^^H O
,^^O P
e^^P Q
.^^Q R
Source^^R X
,^^X Y
e^^Y Z
.^^Z [

StackTrace^^[ e
,^^e f

methodName^^f p
,^^p q
_config^^r y
.^^y z 
GetConnectionString	^^z Н
(
^^Н О
$str
^^О Ш
)
^^Ш Щ
)
^^Щ Ъ
;
^^Ъ Ы
}__ 
return`` 
Ok`` 
(`` 
usuarios`` 
)`` 
;``  
}aa 	
[ll 	
HttpGetll	 
(ll 
$strll !
)ll! "
]ll" #
publicmm 
IActionResultmm 
listarUsuariosmm +
(mm+ ,
)mm, -
{nn 	
varoo 
usuariosoo 
=oo 
_contextoo #
.oo# $
usuariooo$ +
.oo+ ,
ToListoo, 2
(oo2 3
)oo3 4
;oo4 5
returnpp 
Okpp 
(pp 
usuariospp 
)pp 
;pp  
}qq 	
[rr 	
HttpPostrr	 
(rr 
$strrr "
)rr" #
]rr# $
[ss 	
	Authorizess	 
]ss 
publictt 
IActionResulttt 
Addtt  
(tt  !
dynamictt! (
datatt) -
)tt- .
{uu 	
varvv 
datovv 
=vv 
newvv 
Objectvv !
(vv! "
)vv" #
;vv# $
tryww 
{xx 
stringyy 
datyy 
=yy 
Systemyy #
.yy# $
Textyy$ (
.yy( )
Jsonyy) -
.yy- .
JsonSerializeryy. <
.yy< =
	Serializeyy= F
(yyF G
datayyG K
)yyK L
;yyL M
usuariozz 
usuariozz 
=zz  !
JsonConvertzz" -
.zz- .
DeserializeObjectzz. ?
<zz? @
usuariozz@ G
>zzG H
(zzH I
datzzI L
)zzL M
;zzM N
string{{ 

nombreCapa{{ !
={{" #
$str{{$ 3
+{{4 5
usuario{{6 =
.{{= >
nombre_usuario{{> L
+{{M N
usuario{{O V
.{{V W
pssword{{W ^
;{{^ _
dato}} 
=}} 
_context}} 
.}}  
usuario}}  '
.}}' (
FirstOrDefault}}( 6
(}}6 7
x}}7 8
=>}}9 ;
x}}< =
.}}= >
codigo}}> D
==}}E G
usuario}}H O
.}}O P
codigo}}P V
||}}W Y
x}}Z [
.}}[ \
username}}\ d
==}}e g
usuario}}h o
.}}o p
username}}p x
)}}x y
;}}y z
if 
( 
dato 
== 
null  
)  !
{
АА 
_context
ГГ 
.
ГГ 
Add
ГГ  
(
ГГ  !
usuario
ГГ! (
)
ГГ( )
;
ГГ) *
_context
ДД 
.
ДД 
SaveChanges
ДД (
(
ДД( )
)
ДД) *
;
ДД* +
}
ЕЕ 
else
ЖЖ 
{
ЗЗ 
return
ИИ 

BadRequest
ИИ %
(
ИИ% &
)
ИИ& '
;
ИИ' (
}
ЙЙ 
}
ЛЛ 
catch
ММ 
(
ММ 
	Exception
ММ 
e
ММ 
)
ММ 
{
НН 
var
ПП 
st
ПП 
=
ПП 
new
ПП 

StackTrace
ПП '
(
ПП' (
)
ПП( )
;
ПП) *
var
РР 
sf
РР 
=
РР 
st
РР 
.
РР 
GetFrame
РР $
(
РР$ %
$num
РР% &
)
РР& '
;
РР' (

MethodBase
СС 
site
СС 
=
СС  !
e
СС" #
.
СС# $

TargetSite
СС$ .
;
СС. /
string
ТТ 

methodName
ТТ !
=
ТТ" #
site
ТТ$ (
==
ТТ) +
null
ТТ, 0
?
ТТ1 2
null
ТТ3 7
:
ТТ8 9
site
ТТ: >
.
ТТ> ?
Name
ТТ? C
;
ТТC D
General
УУ 
.
УУ 
CrearLogError
УУ %
(
УУ% &
sf
УУ& (
.
УУ( )
	GetMethod
УУ) 2
(
УУ2 3
)
УУ3 4
.
УУ4 5
Name
УУ5 9
,
УУ9 :
$str
УУ; D
,
УУD E
e
УУF G
.
УУG H
Message
УУH O
,
УУO P
e
УУP Q
.
УУQ R
Source
УУR X
,
УУX Y
e
УУY Z
.
УУZ [

StackTrace
УУ[ e
,
УУe f

methodName
УУf p
,
УУp q
_config
УУr y
.
УУy z"
GetConnectionStringУУz Н
(УУН О
$strУУО Ш
)УУШ Щ
)УУЩ Ъ
;УУЪ Ы
}
ФФ 
return
ХХ 
Ok
ХХ 
(
ХХ 
)
ХХ 
;
ХХ 
}
ЦЦ 	
[
ЧЧ 	
HttpPut
ЧЧ	 
(
ЧЧ 
$str
ЧЧ %
)
ЧЧ% &
]
ЧЧ& '
[
ШШ 	
	Authorize
ШШ	 
]
ШШ 
public
ЩЩ 
IActionResult
ЩЩ 
Edit
ЩЩ !
(
ЩЩ! "
int
ЩЩ" %
id
ЩЩ& (
,
ЩЩ( )
[
ЩЩ) *
FromBody
ЩЩ* 2
]
ЩЩ2 3
usuario
ЩЩ4 ;
usuarios
ЩЩ< D
)
ЩЩD E
{
ЪЪ 	
Boolean
ЭЭ 
EsEditar
ЭЭ 
=
ЭЭ 
false
ЭЭ $
;
ЭЭ$ %
try
ЮЮ 
{
ЯЯ 
if
бб 
(
бб 
id
бб 
!=
бб 
usuarios
бб "
.
бб" #
id
бб# %
)
бб% &
{
вв 
return
гг 

BadRequest
гг %
(
гг% &
)
гг& '
;
гг' (
}
дд 
string
ее 
_nombre_usuario
ее &
=
ее' (
usuarios
ее) 1
.
ее1 2
nombre_usuario
ее2 @
;
ее@ A
string
жж 
nombre_usuario
жж %
=
жж& '
Regex
жж( -
.
жж- .
Replace
жж. 5
(
жж5 6
_nombre_usuario
жж6 E
,
жжE F
$str
жжG L
,
жжL M
$str
жжN P
)
жжP Q
;
жжQ R
string
зз 

nombreCapa
зз !
=
зз" #
$str
зз$ 0
+
зз0 1
nombre_usuario
зз2 @
+
ззA B
usuarios
ззC K
.
ззK L
pssword
ззL S
;
ззS T
usuario
ии 
users
ии 
=
ии 
new
ии  #
usuario
ии$ +
(
ии+ ,
)
ии, -
;
ии- .
users
йй 
.
йй 
id
йй 
=
йй 
usuarios
йй #
.
йй# $
id
йй$ &
;
йй& '
users
кк 
.
кк 
codigo
кк 
=
кк 
usuarios
кк '
.
кк' (
codigo
кк( .
;
кк. /
users
лл 
.
лл 
nombre_usuario
лл $
=
лл% &
usuarios
лл' /
.
лл/ 0
nombre_usuario
лл0 >
;
лл> ?
users
мм 
.
мм 
username
мм 
=
мм  
usuarios
мм! )
.
мм) *
username
мм* 2
;
мм2 3
users
нн 
.
нн 
password
нн 
=
нн  
usuarios
нн! )
.
нн) *
password
нн* 2
;
нн2 3
users
пп 
.
пп 
id_tipo_usuario
пп %
=
пп& '
usuarios
пп( 0
.
пп0 1
id_tipo_usuario
пп1 @
;
пп@ A
users
░░ 
.
░░ 
estado
░░ 
=
░░ 
usuarios
░░ '
.
░░' (
estado
░░( .
;
░░. /
users
▒▒ 
.
▒▒ 
cargo
▒▒ 
=
▒▒ 
usuarios
▒▒ &
.
▒▒& '
cargo
▒▒' ,
;
▒▒, -
users
▓▓ 
.
▓▓ 
area
▓▓ 
=
▓▓ 
usuarios
▓▓ %
.
▓▓% &
area
▓▓& *
;
▓▓* +
users
││ 
.
││ 
modulo
││ 
=
││ 
usuarios
││ '
.
││' (
modulo
││( .
;
││. /
_context
╡╡ 
.
╡╡ 
Update
╡╡ 
(
╡╡  
users
╡╡  %
)
╡╡% &
;
╡╡& '
_context
╢╢ 
.
╢╢ 
SaveChanges
╢╢ $
(
╢╢$ %
)
╢╢% &
;
╢╢& '
}
╕╕ 
catch
╣╣ 
(
╣╣ 
	Exception
╣╣ 
e
╣╣ 
)
╣╣ 
{
║║ 
var
╝╝ 
st
╝╝ 
=
╝╝ 
new
╝╝ 

StackTrace
╝╝ '
(
╝╝' (
)
╝╝( )
;
╝╝) *
var
╜╜ 
sf
╜╜ 
=
╜╜ 
st
╜╜ 
.
╜╜ 
GetFrame
╜╜ $
(
╜╜$ %
$num
╜╜% &
)
╜╜& '
;
╜╜' (

MethodBase
╛╛ 
site
╛╛ 
=
╛╛  !
e
╛╛" #
.
╛╛# $

TargetSite
╛╛$ .
;
╛╛. /
string
┐┐ 

methodName
┐┐ !
=
┐┐" #
site
┐┐$ (
==
┐┐) +
null
┐┐, 0
?
┐┐1 2
null
┐┐3 7
:
┐┐8 9
site
┐┐: >
.
┐┐> ?
Name
┐┐? C
;
┐┐C D
General
└└ 
.
└└ 
CrearLogError
└└ %
(
└└% &
sf
└└& (
.
└└( )
	GetMethod
└└) 2
(
└└2 3
)
└└3 4
.
└└4 5
Name
└└5 9
,
└└9 :
$str
└└; D
,
└└D E
e
└└F G
.
└└G H
Message
└└H O
,
└└O P
e
└└P Q
.
└└Q R
Source
└└R X
,
└└X Y
e
└└Y Z
.
└└Z [

StackTrace
└└[ e
,
└└e f

methodName
└└f p
,
└└p q
_config
└└r y
.
└└y z"
GetConnectionString└└z Н
(└└Н О
$str└└О Ш
)└└Ш Щ
)└└Щ Ъ
;└└Ъ Ы
}
┴┴ 
return
┬┬ 
Ok
┬┬ 
(
┬┬ 
)
┬┬ 
;
┬┬ 
}
├├ 	
private
╞╞ 
UsuariosModel
╞╞ 
GetCurrentUser
╞╞ ,
(
╞╞, -
)
╞╞- .
{
╟╟ 	
var
╚╚ 
identity
╚╚ 
=
╚╚ 
HttpContext
╚╚ &
.
╚╚& '
User
╚╚' +
.
╚╚+ ,
Identity
╚╚, 4
as
╚╚5 7
ClaimsIdentity
╚╚8 F
;
╚╚F G
if
╔╔ 
(
╔╔ 
identity
╔╔ 
==
╔╔ 
null
╔╔  
)
╔╔  !
return
╩╩ 
null
╩╩ 
;
╩╩ 
var
╠╠ 

userclaims
╠╠ 
=
╠╠ 
identity
╠╠ %
.
╠╠% &
Claims
╠╠& ,
;
╠╠, -
return
══ 
new
══ 
UsuariosModel
══ $
{
╬╬ 
codigo
╧╧ 
=
╧╧ 

userclaims
╧╧ #
.
╧╧# $
FirstOrDefault
╧╧$ 2
(
╧╧2 3
o
╧╧3 4
=>
╧╧5 7
o
╧╧8 9
.
╧╧9 :
Type
╧╧: >
==
╧╧? A

ClaimTypes
╧╧B L
.
╧╧L M
SerialNumber
╧╧M Y
)
╧╧Y Z
?
╧╧Z [
.
╧╧[ \
Value
╧╧\ a
,
╧╧a b
nombre_usuario
╨╨ 
=
╨╨  

userclaims
╨╨! +
.
╨╨+ ,
FirstOrDefault
╨╨, :
(
╨╨: ;
o
╨╨; <
=>
╨╨= ?
o
╨╨@ A
.
╨╨A B
Type
╨╨B F
==
╨╨G I

ClaimTypes
╨╨J T
.
╨╨T U
Name
╨╨U Y
)
╨╨Y Z
?
╨╨Z [
.
╨╨[ \
Value
╨╨\ a
,
╨╨a b
username
╤╤ 
=
╤╤ 

userclaims
╤╤ %
.
╤╤% &
FirstOrDefault
╤╤& 4
(
╤╤4 5
o
╤╤5 6
=>
╤╤7 9
o
╤╤: ;
.
╤╤; <
Type
╤╤< @
==
╤╤A C

ClaimTypes
╤╤D N
.
╤╤N O
NameIdentifier
╤╤O ]
)
╤╤] ^
?
╤╤^ _
.
╤╤_ `
Value
╤╤` e
}
╥╥ 
;
╥╥ 
}
╙╙ 	
public
▐▐ 
static
▐▐ 
string
▐▐ 
ToSha256
▐▐ %
(
▐▐% &
string
▐▐& ,
password
▐▐- 5
)
▐▐5 6
{
▀▀ 	
using
рр 
var
рр 
sha256
рр 
=
рр 
SHA256
рр %
.
рр% &
Create
рр& ,
(
рр, -
)
рр- .
;
рр. /
byte
сс 
[
сс 
]
сс 
bytes
сс 
=
сс 
sha256
сс !
.
сс! "
ComputeHash
сс" -
(
сс- .
Encoding
сс. 6
.
сс6 7
UTF8
сс7 ;
.
сс; <
GetBytes
сс< D
(
ссD E
password
ссE M
)
ссM N
)
ссN O
;
ссO P
var
уу 
sb
уу 
=
уу 
new
уу 
StringBuilder
уу &
(
уу& '
)
уу' (
;
уу( )
for
фф 
(
фф 
int
фф 
i
фф 
=
фф 
$num
фф 
;
фф 
i
фф 
<
фф 
bytes
фф $
.
фф$ %
Length
фф% +
;
фф+ ,
i
фф- .
++
фф. 0
)
фф0 1
{
хх 
sb
цц 
.
цц 
Append
цц 
(
цц 
bytes
цц 
[
цц  
i
цц  !
]
цц! "
.
цц" #
ToString
цц# +
(
цц+ ,
$str
цц, 0
)
цц0 1
)
цц1 2
;
цц2 3
}
чч 
return
шш 
sb
шш 
.
шш 
ToString
шш 
(
шш 
)
шш  
;
шш  !
}
щщ 	
}
ъъ 
}ыы ╩▄
AE:\GITEA\siscointBKII\siscointBKII\Controllers\ViewsController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ViewsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
ViewsController 
( 
AplicationDbContext 2
context3 :
,: ;
IConfiguration< J
configK Q
)Q R
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
[ 	
	Authorize	 
] 
public 
IActionResult 
views "
(" #
)# $
{   	
string!! 
username!! 
=!! 
$str!!  
;!!  !
List## 
<## 
viewsPermisos## 
>## 
viewsPermisos##  -
=##. /
new##0 3
List##4 8
<##8 9
viewsPermisos##9 F
>##F G
(##G H
)##H I
;##I J
try$$ 
{%% 
viewsPermisos&& 
=&& !
getListVistasPermisos&&  5
(&&5 6
username&&6 >
)&&> ?
;&&? @
}'' 
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 
var++ 
st++ 
=++ 
new++ 

StackTrace++ '
(++' (
)++( )
;++) *
var,, 
sf,, 
=,, 
st,, 
.,, 
GetFrame,, $
(,,$ %
$num,,% &
),,& '
;,,' (

MethodBase-- 
site-- 
=--  !
e--" #
.--# $

TargetSite--$ .
;--. /
string.. 

methodName.. !
=.." #
site..$ (
==..) +
null.., 0
?..1 2
null..3 7
:..8 9
site..: >
...> ?
Name..? C
;..C D
General// 
.// 
CrearLogError// %
(//% &
sf//& (
.//( )
	GetMethod//) 2
(//2 3
)//3 4
.//4 5
Name//5 9
,//9 :
$str//; K
,//K L
e//M N
.//N O
Message//O V
,//V W
e//W X
.//X Y
Source//Y _
,//_ `
e//` a
.//a b

StackTrace//b l
,//l m

methodName//m w
,//w x
_config	//y А
.
//А Б!
GetConnectionString
//Б Ф
(
//Ф Х
$str
//Х Я
)
//Я а
)
//а б
;
//б в
}00 
return22 
Ok22 
(22 
viewsPermisos22 #
)22# $
;22$ %
}33 	
[44 	
HttpPost44	 
(44 
$str44 
)44 
]44 
[55 	
	Authorize55	 
]55 
public66 
IActionResult66 

viewsUsers66 '
(66' (
[66( )
FromBody66) 1
]661 2
permisos_usuII663 A
permisos_UsuII66B P
)66P Q
{77 	
string88 
username88 
=88 
$str88  
;88  !
List99 
<99 
viewsPermisos99 
>99 
viewsPermisos99  -
=99. /
new990 3
List994 8
<998 9
viewsPermisos999 F
>99F G
(99G H
)99H I
;99I J
try:: 
{;; 
var<< 
usuarioPermisos<< #
=<<$ %
_context<<& .
.<<. /
permisos_usuIII<</ >
.<<> ?
FirstOrDefault<<? M
(<<M N
x<<N O
=><<P R
x<<S T
.<<T U
usuario<<U \
==<<] _
permisos_UsuII<<` n
.<<n o
usuario<<o v
)<<v w
;<<w x
if== 
(== 
usuarioPermisos== #
!===$ &
null==' +
)==+ ,
username>> 
=>> 
usuarioPermisos>> .
.>>. /
usuario>>/ 6
.>>6 7
ToString>>7 ?
(>>? @
)>>@ A
;>>A B
viewsPermisos@@ 
=@@ !
getListVistasPermisos@@  5
(@@5 6
username@@6 >
)@@> ?
;@@? @
}AA 
catchBB 
(BB 
	ExceptionBB 
eBB 
)BB 
{CC 
varEE 
stEE 
=EE 
newEE 

StackTraceEE '
(EE' (
)EE( )
;EE) *
varFF 
sfFF 
=FF 
stFF 
.FF 
GetFrameFF $
(FF$ %
$numFF% &
)FF& '
;FF' (

MethodBaseGG 
siteGG 
=GG  !
eGG" #
.GG# $

TargetSiteGG$ .
;GG. /
stringHH 

methodNameHH !
=HH" #
siteHH$ (
==HH) +
nullHH, 0
?HH1 2
nullHH3 7
:HH8 9
siteHH: >
.HH> ?
NameHH? C
;HHC D
GeneralII 
.II 
CrearLogErrorII %
(II% &
sfII& (
.II( )
	GetMethodII) 2
(II2 3
)II3 4
.II4 5
NameII5 9
,II9 :
$strII; L
,IIL M
eIIN O
.IIO P
MessageIIP W
,IIW X
eIIX Y
.IIY Z
SourceIIZ `
,II` a
eIIa b
.IIb c

StackTraceIIc m
,IIm n

methodNameIIn x
,IIx y
_config	IIz Б
.
IIБ В!
GetConnectionString
IIВ Х
(
IIХ Ц
$str
IIЦ а
)
IIа б
)
IIб в
;
IIв г
}JJ 
returnKK 
OkKK 
(KK 
viewsPermisosKK #
)KK# $
;KK$ %
}LL 	
[NN 	
HttpPostNN	 
(NN 
$strNN #
)NN# $
]NN$ %
[OO 	
	AuthorizeOO	 
]OO 
publicPP 
IActionResultPP 
listarMenuPadrePP ,
(PP, -
[PP- .
FromBodyPP. 6
]PP6 7
usuarioPP8 ?
usuarioPP@ G
)PPG H
{QQ 	
ListRR 
<RR 
listar_menu_padreRR "
>RR" #
_menu_padreRR$ /
=RR0 1
newRR2 5
ListRR6 :
<RR: ;
listar_menu_padreRR; L
>RRL M
(RRM N
)RRN O
;RRO P
trySS 
{TT 
stringVV 
_usuarioVV 
=VV  !
usuarioVV" )
.VV) *
usernameVV* 2
;VV2 3
_menu_padreWW 
=WW 
getListMenuPadreWW .
(WW. /
_usuarioWW/ 7
)WW7 8
;WW8 9
}XX 
catchYY 
(YY 
	ExceptionYY 
eYY 
)YY 
{ZZ 
var[[ 
st[[ 
=[[ 
new[[ 

StackTrace[[ '
([[' (
)[[( )
;[[) *
var\\ 
sf\\ 
=\\ 
st\\ 
.\\ 
GetFrame\\ $
(\\$ %
$num\\% &
)\\& '
;\\' (

MethodBase]] 
site]] 
=]]  !
e]]" #
.]]# $

TargetSite]]$ .
;]]. /
string^^ 

methodName^^ !
=^^" #
site^^$ (
==^^) +
null^^, 0
?^^1 2
null^^3 7
:^^8 9
site^^: >
.^^> ?
Name^^? C
;^^C D
General__ 
.__ 
CrearLogError__ %
(__% &
sf__& (
.__( )
	GetMethod__) 2
(__2 3
)__3 4
.__4 5
Name__5 9
,__9 :
$str__; B
,__B C
e__D E
.__E F
Message__F M
,__M N
e__O P
.__P Q
Source__Q W
,__W X
e__Y Z
.__Z [

StackTrace__[ e
,__e f

methodName__g q
,__q r
_config__s z
.__z { 
GetConnectionString	__{ О
(
__О П
$str
__П Щ
)
__Щ Ъ
)
__Ъ Ы
;
__Ы Ь
}`` 
returnaa 
Okaa 
(aa 
_menu_padreaa !
)aa! "
;aa" #
}bb 	
[dd 	
HttpPostdd	 
(dd 
$strdd "
)dd" #
]dd# $
[ee 	
	Authorizeee	 
]ee 
publicff 
IActionResultff 
listarMenuHijoff +
(ff+ ,
[ff, -
FromBodyff- 5
]ff5 6
usuarioff7 >
usuarioff? F
)ffF G
{gg 	
Listhh 
<hh 
viewshh 
>hh 

_menu_hijohh "
=hh# $
newhh% (
Listhh) -
<hh- .
viewshh. 3
>hh3 4
(hh4 5
)hh5 6
;hh6 7
tryii 
{jj 
stringkk 
	_ussuariokk  
=kk! "
usuariokk# *
.kk* +
usernamekk+ 3
;kk3 4

_menu_hijoll 
=ll 
getListMenuHijoll ,
(ll, -
	_ussuarioll- 6
)ll6 7
;ll7 8
}mm 
catchnn 
(nn 
	Exceptionnn 
enn 
)nn 
{oo 
varpp 
stpp 
=pp 
newpp 

StackTracepp '
(pp' (
)pp( )
;pp) *
varqq 
sfqq 
=qq 
stqq 
.qq 
GetFrameqq $
(qq$ %
$numqq% &
)qq& '
;qq' (

MethodBaserr 
siterr 
=rr  !
err" #
.rr# $

TargetSiterr$ .
;rr. /
stringss 

methodNamess !
=ss" #
sitess$ (
==ss) +
nullss, 0
?ss1 2
nullss3 7
:ss8 9
sitess: >
.ss> ?
Namess? C
;ssC D
Generaltt 
.tt 
CrearLogErrortt %
(tt% &
sftt& (
.tt( )
	GetMethodtt) 2
(tt2 3
)tt3 4
.tt4 5
Namett5 9
,tt9 :
$strtt; B
,ttB C
ettD E
.ttE F
MessagettF M
,ttM N
ettO P
.ttP Q
SourcettQ W
,ttW X
ettY Z
.ttZ [

StackTracett[ e
,tte f

methodNamettg q
,ttq r
_configtts z
.ttz { 
GetConnectionString	tt{ О
(
ttО П
$str
ttП Щ
)
ttЩ Ъ
)
ttЪ Ы
;
ttЫ Ь
}uu 
returnvv 
Okvv 
(vv 

_menu_hijovv  
)vv  !
;vv! "
}ww 	
public
ЖЖ 
Object
ЖЖ 
getListViews
ЖЖ "
(
ЖЖ" #
)
ЖЖ# $
{
ЗЗ 	
var
ИИ 
vistas
ИИ 
=
ИИ 
_context
ИИ !
.
ИИ! "
views
ИИ" '
.
ИИ' (
ToList
ИИ( .
(
ИИ. /
)
ИИ/ 0
;
ИИ0 1
return
ЙЙ 
vistas
ЙЙ 
;
ЙЙ 
}
КК 	
public
ЛЛ 
List
ЛЛ 
<
ЛЛ 
listar_menu_padre
ЛЛ %
>
ЛЛ% &
getListMenuPadre
ЛЛ' 7
(
ЛЛ7 8
string
ЛЛ8 >
username
ЛЛ? G
)
ЛЛG H
{
ММ 	
List
НН 
<
НН 
listar_menu_padre
НН "
>
НН" #

menu_padre
НН$ .
=
НН/ 0
new
НН1 4
List
НН5 9
<
НН9 :
listar_menu_padre
НН: K
>
ННK L
(
ННL M
)
ННM N
;
ННN O
string
ОО 
query
ОО 
=
ОО 
$str
ОО 
;
ОО 
try
ПП 
{
РР 
if
СС 
(
СС 
!
СС 
string
СС 
.
СС 
IsNullOrEmpty
СС )
(
СС) *
username
СС* 2
)
СС2 3
)
СС3 4
{
ТТ 
query
УУ 
=
УУ 
$strУУ Г
+УУГ Д
$str
ФФ 2
+
ФФ2 3
username
ФФ4 <
+
ФФ= >
$str
ФФ? Y
;
ФФY Z
using
ХХ 
(
ХХ 
SqlConnection
ХХ '
con
ХХ( +
=
ХХ, -
new
ХХ. 1
SqlConnection
ХХ2 ?
(
ХХ? @
_config
ХХ@ G
.
ХХG H!
GetConnectionString
ХХH [
(
ХХ[ \
$str
ХХ\ f
)
ХХf g
)
ХХg h
)
ХХh i
{
ЦЦ 
using
ЧЧ 
(
ЧЧ 

SqlCommand
ЧЧ (
cmd
ЧЧ) ,
=
ЧЧ- .
new
ЧЧ/ 2

SqlCommand
ЧЧ3 =
(
ЧЧ= >
query
ЧЧ> C
)
ЧЧC D
)
ЧЧD E
{
ШШ 
cmd
ЩЩ 
.
ЩЩ  

Connection
ЩЩ  *
=
ЩЩ+ ,
con
ЩЩ- 0
;
ЩЩ0 1
con
ЪЪ 
.
ЪЪ  
Open
ЪЪ  $
(
ЪЪ$ %
)
ЪЪ% &
;
ЪЪ& '
using
ЫЫ !
(
ЫЫ! "
SqlDataReader
ЫЫ" /
srd
ЫЫ0 3
=
ЫЫ4 5
cmd
ЫЫ6 9
.
ЫЫ9 :
ExecuteReader
ЫЫ: G
(
ЫЫG H
)
ЫЫH I
)
ЫЫI J
{
ЬЬ 
while
ЭЭ  %
(
ЭЭ& '
srd
ЭЭ' *
.
ЭЭ* +
Read
ЭЭ+ /
(
ЭЭ/ 0
)
ЭЭ0 1
)
ЭЭ1 2
{
ЮЮ  !

menu_padre
ЯЯ$ .
.
ЯЯ. /
Add
ЯЯ/ 2
(
ЯЯ2 3
new
ЯЯ3 6
listar_menu_padre
ЯЯ7 H
{
аа$ %

menu_padre
бб( 2
=
бб3 4
srd
бб5 8
[
бб8 9
$str
бб9 E
]
ббE F
+
ббG H
$str
ббI K
}
вв$ %
)
вв% &
;
вв& '
}
гг  !
}
дд 
con
ее 
.
ее  
Close
ее  %
(
ее% &
)
ее& '
;
ее' (
}
жж 
}
зз 
}
ии 
}
йй 
catch
кк 
(
кк 
	Exception
кк 
e
кк 
)
кк 
{
лл 
var
мм 
st
мм 
=
мм 
new
мм 

StackTrace
мм '
(
мм' (
)
мм( )
;
мм) *
var
нн 
sf
нн 
=
нн 
st
нн 
.
нн 
GetFrame
нн $
(
нн$ %
$num
нн% &
)
нн& '
;
нн' (

MethodBase
оо 
site
оо 
=
оо  !
e
оо" #
.
оо# $

TargetSite
оо$ .
;
оо. /
string
пп 

methodName
пп !
=
пп" #
site
пп$ (
==
пп) +
null
пп, 0
?
пп1 2
null
пп3 7
:
пп8 9
site
пп: >
.
пп> ?
Name
пп? C
;
ппC D
General
░░ 
.
░░ 
CrearLogError
░░ %
(
░░% &
sf
░░& (
.
░░( )
	GetMethod
░░) 2
(
░░2 3
)
░░3 4
.
░░4 5
Name
░░5 9
,
░░9 :
$str
░░; B
,
░░B C
e
░░D E
.
░░E F
Message
░░F M
,
░░M N
e
░░O P
.
░░P Q
Source
░░Q W
,
░░W X
e
░░Y Z
.
░░Z [

StackTrace
░░[ e
,
░░e f

methodName
░░g q
,
░░q r
_config
░░s z
.
░░z {"
GetConnectionString░░{ О
(░░О П
$str░░П Щ
)░░Щ Ъ
)░░Ъ Ы
;░░Ы Ь
}
▒▒ 
return
▓▓ 

menu_padre
▓▓ 
;
▓▓ 
}
││ 	
public
╢╢ 
List
╢╢ 
<
╢╢ 
views
╢╢ 
>
╢╢ 
getListMenuHijo
╢╢ *
(
╢╢* +
string
╢╢+ 1
username
╢╢2 :
)
╢╢: ;
{
╖╖ 	
List
╕╕ 
<
╕╕ 
views
╕╕ 
>
╕╕ 
	menu_hijo
╕╕ !
=
╕╕" #
new
╕╕$ '
List
╕╕( ,
<
╕╕, -
views
╕╕- 2
>
╕╕2 3
(
╕╕3 4
)
╕╕4 5
;
╕╕5 6
try
║║ 
{
╗╗ 
var
╝╝ 
data
╝╝ 
=
╝╝ 
(
╝╝ 
from
╝╝  
v
╝╝! "
in
╝╝# %
_context
╝╝& .
.
╝╝. /
views
╝╝/ 4
join
╜╜ 
pe
╜╜ 
in
╜╜  "
_context
╜╜# +
.
╜╜+ ,
permisos_usuIII
╜╜, ;
on
╜╜< >
v
╜╜? @
.
╜╜@ A
id_vista
╜╜A I
equals
╜╜J P
pe
╜╜Q S
.
╜╜S T
id_view
╜╜T [
where
╛╛ 
(
╛╛ 
pe
╛╛ !
.
╛╛! "
usuario
╛╛" )
==
╛╛* ,
username
╛╛- 5
&&
╛╛6 8
v
╛╛9 :
.
╛╛: ;
estado
╛╛; A
==
╛╛B D
$num
╛╛E F
)
╛╛F G
select
┐┐ 
new
┐┐ "
{
└└ 
id
┴┴ 
=
┴┴  
v
┴┴! "
.
┴┴" #
id
┴┴# %
,
┴┴% &
id_vista
┬┬ $
=
┬┬% &
v
┬┬' (
.
┬┬( )
id_vista
┬┬) 1
,
┬┬1 2
name_module
├├ '
=
├├( )
v
├├* +
.
├├+ ,
name_module
├├, 7
,
├├7 8
module
── "
=
──# $
v
──% &
.
──& '
module
──' -
,
──- .
icon
┼┼  
=
┼┼! "
v
┼┼# $
.
┼┼$ %
icon
┼┼% )
,
┼┼) *
url
╞╞ 
=
╞╞  !
v
╞╞" #
.
╞╞# $
url
╞╞$ '
,
╞╞' (
visble
╟╟ "
=
╟╟# $
v
╟╟% &
.
╟╟& '
visible
╟╟' .
,
╟╟. /
routeurl
╚╚ $
=
╚╚% &
v
╚╚' (
.
╚╚( )
routeurl
╚╚) 1
,
╚╚1 2

menu_padre
╔╔ &
=
╔╔' (
v
╔╔) *
.
╔╔* +

menu_padre
╔╔+ 5
,
╔╔5 6
estado
╩╩ "
=
╩╩# $
v
╩╩% &
.
╩╩& '
estado
╩╩' -
}
╦╦ 
)
╦╦ 
.
╦╦ 
ToList
╦╦ !
(
╦╦! "
)
╦╦" #
;
╦╦# $
foreach
╠╠ 
(
╠╠ 
var
╠╠ 
result
╠╠ !
in
╠╠" $
data
╠╠% )
)
╠╠) *
{
══ 
	menu_hijo
╬╬ 
.
╬╬ 
Add
╬╬ !
(
╬╬! "
new
╬╬" %
views
╬╬& +
{
╧╧ 
id
╨╨ 
=
╨╨ 
result
╨╨ #
.
╨╨# $
id
╨╨$ &
,
╨╨& '
id_vista
╤╤  
=
╤╤! "
result
╤╤# )
.
╤╤) *
id_vista
╤╤* 2
,
╤╤2 3
name_module
╥╥ #
=
╥╥$ %
result
╥╥& ,
.
╥╥, -
name_module
╥╥- 8
,
╥╥8 9
module
╙╙ 
=
╙╙  
result
╙╙! '
.
╙╙' (
module
╙╙( .
,
╙╙. /
icon
╘╘ 
=
╘╘ 
result
╘╘ %
.
╘╘% &
icon
╘╘& *
,
╘╘* +
visible
╒╒ 
=
╒╒  !
result
╒╒" (
.
╒╒( )
visble
╒╒) /
,
╒╒/ 0
routeurl
╓╓  
=
╓╓! "
result
╓╓# )
.
╓╓) *
routeurl
╓╓* 2
,
╓╓2 3

menu_padre
╫╫ "
=
╫╫# $
result
╫╫% +
.
╫╫+ ,

menu_padre
╫╫, 6
,
╫╫6 7
estado
╪╪ 
=
╪╪  
result
╪╪! '
.
╪╪' (
estado
╪╪( .
}
┘┘ 
)
┘┘ 
;
┘┘ 
}
┌┌ 
}
▄▄ 
catch
▌▌ 
(
▌▌ 
	Exception
▌▌ 
e
▌▌ 
)
▌▌ 
{
▐▐ 
var
▀▀ 
st
▀▀ 
=
▀▀ 
new
▀▀ 

StackTrace
▀▀ '
(
▀▀' (
)
▀▀( )
;
▀▀) *
var
рр 
sf
рр 
=
рр 
st
рр 
.
рр 
GetFrame
рр $
(
рр$ %
$num
рр% &
)
рр& '
;
рр' (

MethodBase
сс 
site
сс 
=
сс  !
e
сс" #
.
сс# $

TargetSite
сс$ .
;
сс. /
string
тт 

methodName
тт !
=
тт" #
site
тт$ (
==
тт) +
null
тт, 0
?
тт1 2
null
тт3 7
:
тт8 9
site
тт: >
.
тт> ?
Name
тт? C
;
ттC D
General
уу 
.
уу 
CrearLogError
уу %
(
уу% &
sf
уу& (
.
уу( )
	GetMethod
уу) 2
(
уу2 3
)
уу3 4
.
уу4 5
Name
уу5 9
,
уу9 :
$str
уу; B
,
ууB C
e
ууD E
.
ууE F
Message
ууF M
,
ууM N
e
ууO P
.
ууP Q
Source
ууQ W
,
ууW X
e
ууY Z
.
ууZ [

StackTrace
уу[ e
,
ууe f

methodName
ууg q
,
ууq r
_config
ууs z
.
ууz {"
GetConnectionStringуу{ О
(ууО П
$strууП Щ
)ууЩ Ъ
)ууЪ Ы
;ууЫ Ь
}
фф 
return
цц 
	menu_hijo
цц 
;
цц 
}
чч 	
public
щщ 
List
щщ 
<
щщ 
viewsPermisos
щщ !
>
щщ! "#
getListVistasPermisos
щщ# 8
(
щщ8 9
string
щщ9 ?
username
щщ@ H
)
щщH I
{
ъъ 	
var
ыы 
usuariospermiso
ыы 
=
ыы  !
new
ыы" %
Object
ыы& ,
(
ыы, -
)
ыы- .
;
ыы. /
List
ьь 
<
ьь 
viewsPermisos
ьь 
>
ьь 
ViewsPermisos
ьь  -
=
ьь. /
new
ьь0 3
List
ьь4 8
<
ьь8 9
viewsPermisos
ьь9 F
>
ььF G
(
ььG H
)
ььH I
;
ььI J
string
ээ 
query
ээ 
=
ээ 
$str
ээ 
;
ээ 
try
юю 
{
яя 
if
ЁЁ 
(
ЁЁ 
username
ЁЁ 
==
ЁЁ 
$str
ЁЁ !
)
ЁЁ! "
{
ёё 
query
ЄЄ 
=
ЄЄ 
$strЄЄ Й
;ЄЄЙ К
}
єє 
else
ЇЇ 
{
її 
query
ЎЎ 
=
ЎЎ 
$str
ЎЎ <
+
ЎЎ= >
$str
ўў `
+
ўўa b
username
ўўc k
+
ўўl m
$strўўn Э
+ўўЮ Я
$str
°° W
+
°°X Y
username
°°Z b
+
°°c d
$str°°e Л
+°°М Н
$str
∙∙ W
+
∙∙X Y
username
∙∙Z b
+
∙∙c d
$str∙∙e Ф
;∙∙Ф Х
}
·· 
using
√√ 
(
√√ 
SqlConnection
√√ $
con
√√% (
=
√√) *
new
√√+ .
SqlConnection
√√/ <
(
√√< =
_config
√√= D
.
√√D E!
GetConnectionString
√√E X
(
√√X Y
$str
√√Y c
)
√√c d
)
√√d e
)
√√e f
{
№№ 
using
■■ 
(
■■ 

SqlCommand
■■ $
cmd
■■% (
=
■■) *
new
■■+ .

SqlCommand
■■/ 9
(
■■9 :
query
■■: ?
)
■■? @
)
■■@ A
{
   
cmd
АА 
.
АА 

Connection
АА &
=
АА' (
con
АА) ,
;
АА, -
con
ББ 
.
ББ 
Open
ББ  
(
ББ  !
)
ББ! "
;
ББ" #
using
ВВ 
(
ВВ 
SqlDataReader
ВВ ,
sdr
ВВ- 0
=
ВВ1 2
cmd
ВВ3 6
.
ВВ6 7
ExecuteReader
ВВ7 D
(
ВВD E
)
ВВE F
)
ВВF G
{
ГГ 
while
ДД !
(
ДД" #
sdr
ДД# &
.
ДД& '
Read
ДД' +
(
ДД+ ,
)
ДД, -
)
ДД- .
{
ЕЕ 
ViewsPermisos
ЖЖ  -
.
ЖЖ- .
Add
ЖЖ. 1
(
ЖЖ1 2
new
ЖЖ2 5
viewsPermisos
ЖЖ6 C
{
ЗЗ  !
id
ИИ$ &
=
ИИ' (
Convert
ИИ) 0
.
ИИ0 1
ToInt32
ИИ1 8
(
ИИ8 9
sdr
ИИ9 <
[
ИИ< =
$str
ИИ= A
]
ИИA B
)
ИИB C
,
ИИC D
name_module
ЙЙ$ /
=
ЙЙ0 1
sdr
ЙЙ2 5
[
ЙЙ5 6
$str
ЙЙ6 C
]
ЙЙC D
+
ЙЙD E
$str
ЙЙE G
,
ЙЙG H
module
КК$ *
=
КК+ ,
sdr
КК- 0
[
КК0 1
$str
КК1 9
]
КК9 :
+
КК: ;
$str
КК; =
,
КК= >
autorizacion
ЛЛ$ 0
=
ЛЛ1 2
Convert
ЛЛ3 :
.
ЛЛ: ;
	ToBoolean
ЛЛ; D
(
ЛЛD E
Convert
ЛЛE L
.
ЛЛL M
ToInt32
ЛЛM T
(
ЛЛT U
sdr
ЛЛU X
[
ЛЛX Y
$str
ЛЛY g
]
ЛЛg h
)
ЛЛh i
)
ЛЛi j
,
ЛЛj k
pe1
ММ$ '
=
ММ( )
Convert
ММ* 1
.
ММ1 2
	ToBoolean
ММ2 ;
(
ММ; <
Convert
ММ< C
.
ММC D
ToInt32
ММD K
(
ММK L
sdr
ММL O
[
ММO P
$str
ММP U
]
ММU V
)
ММV W
)
ММW X
,
ММX Y
pe2
НН$ '
=
НН( )
Convert
НН* 1
.
НН1 2
	ToBoolean
НН2 ;
(
НН; <
Convert
НН< C
.
ННC D
ToInt32
ННD K
(
ННK L
sdr
ННL O
[
ННO P
$str
ННP U
]
ННU V
)
ННV W
)
ННW X
}
ОО  !
)
ОО! "
;
ОО" #
}
ПП 
}
РР 
con
СС 
.
СС 
Close
СС !
(
СС! "
)
СС" #
;
СС# $
}
ТТ 
}
УУ 
}
ФФ 
catch
ХХ 
(
ХХ 
	Exception
ХХ 
e
ХХ 
)
ХХ 
{
ЦЦ 
var
ЧЧ 
st
ЧЧ 
=
ЧЧ 
new
ЧЧ 

StackTrace
ЧЧ '
(
ЧЧ' (
)
ЧЧ( )
;
ЧЧ) *
var
ШШ 
sf
ШШ 
=
ШШ 
st
ШШ 
.
ШШ 
GetFrame
ШШ $
(
ШШ$ %
$num
ШШ% &
)
ШШ& '
;
ШШ' (

MethodBase
ЩЩ 
site
ЩЩ 
=
ЩЩ  !
e
ЩЩ" #
.
ЩЩ# $

TargetSite
ЩЩ$ .
;
ЩЩ. /
string
ЪЪ 

methodName
ЪЪ !
=
ЪЪ" #
site
ЪЪ$ (
==
ЪЪ) +
null
ЪЪ, 0
?
ЪЪ1 2
null
ЪЪ3 7
:
ЪЪ8 9
site
ЪЪ: >
.
ЪЪ> ?
Name
ЪЪ? C
;
ЪЪC D
General
ЫЫ 
.
ЫЫ 
CrearLogError
ЫЫ %
(
ЫЫ% &
sf
ЫЫ& (
.
ЫЫ( )
	GetMethod
ЫЫ) 2
(
ЫЫ2 3
)
ЫЫ3 4
.
ЫЫ4 5
Name
ЫЫ5 9
,
ЫЫ9 :
$str
ЫЫ; L
,
ЫЫL M
e
ЫЫN O
.
ЫЫO P
Message
ЫЫP W
,
ЫЫW X
e
ЫЫX Y
.
ЫЫY Z
Source
ЫЫZ `
,
ЫЫ` a
e
ЫЫa b
.
ЫЫb c

StackTrace
ЫЫc m
,
ЫЫm n

methodName
ЫЫn x
,
ЫЫx y
_configЫЫz Б
.ЫЫБ В#
GetConnectionStringЫЫВ Х
(ЫЫХ Ц
$strЫЫЦ а
)ЫЫа б
)ЫЫб в
;ЫЫв г
}
ЬЬ 
return
ЮЮ 
ViewsPermisos
ЮЮ  
;
ЮЮ  !
}
ЯЯ 	
}
вв 
}гг ═
KE:\GITEA\siscointBKII\siscointBKII\Controllers\WeatherForecastController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class %
WeatherForecastController *
:+ ,
ControllerBase- ;
{ 
private 
static 
readonly 
string  &
[& '
]' (
	Summaries) 2
=3 4
new5 8
[8 9
]9 :
{ 	
$str 
, 
$str !
,! "
$str# +
,+ ,
$str- 3
,3 4
$str5 ;
,; <
$str= C
,C D
$strE L
,L M
$strN S
,S T
$strU a
,a b
$strc n
} 	
;	 

private 
readonly 
ILogger  
<  !%
WeatherForecastController! :
>: ;
_logger< C
;C D
public %
WeatherForecastController (
(( )
ILogger) 0
<0 1%
WeatherForecastController1 J
>J K
loggerL R
)R S
{ 	
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
string !
>! "
Get# &
(& '
)' (
{ 	
return%% 
	Summaries%% 
.%% 
ToArray%% $
(%%$ %
)%%% &
;%%& '
}&& 	
}'' 
}(( ьЗ
-E:\GITEA\siscointBKII\siscointBKII\General.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
General 
{ 
public
єє 
static
єє 
string
єє 
cifrarTextoAES
єє +
(
єє+ ,
string
єє, 2
textoCifrar
єє3 >
,
єє> ?
string
єє@ F
palabraPaso
єєG R
,
єєR S
string
ЇЇ 
valorRGBSalt
ЇЇ 
,
ЇЇ  
string
ЇЇ! ''
algoritmoEncriptacionHASH
ЇЇ( A
,
ЇЇA B
int
її 
iteraciones
її 
,
її 
string
її #
vectorInicial
її$ 1
,
її1 2
int
її3 6
tamanoClave
її7 B
)
їїB C
{
ЎЎ 	
try
ўў 
{
°° 
byte
∙∙ 
[
∙∙ 
]
∙∙  
InitialVectorBytes
∙∙ )
=
∙∙* +
Encoding
∙∙, 4
.
∙∙4 5
ASCII
∙∙5 :
.
∙∙: ;
GetBytes
∙∙; C
(
∙∙C D
vectorInicial
∙∙D Q
)
∙∙Q R
;
∙∙R S
byte
·· 
[
·· 
]
·· 
saltValueBytes
·· %
=
··& '
Encoding
··( 0
.
··0 1
ASCII
··1 6
.
··6 7
GetBytes
··7 ?
(
··? @
valorRGBSalt
··@ L
)
··L M
;
··M N
byte
√√ 
[
√√ 
]
√√ 
plainTextBytes
√√ %
=
√√& '
Encoding
√√( 0
.
√√0 1
UTF8
√√1 5
.
√√5 6
GetBytes
√√6 >
(
√√> ?
textoCifrar
√√? J
)
√√J K
;
√√K L!
PasswordDeriveBytes
¤¤ #
password
¤¤$ ,
=
¤¤- .
new
■■ !
PasswordDeriveBytes
■■ +
(
■■+ ,
palabraPaso
■■, 7
,
■■7 8
saltValueBytes
■■9 G
,
■■G H'
algoritmoEncriptacionHASH
   1
,
  1 2
iteraciones
  3 >
)
  > ?
;
  ? @
byte
ББ 
[
ББ 
]
ББ 
keyBytes
ББ 
=
ББ  !
password
ББ" *
.
ББ* +
GetBytes
ББ+ 3
(
ББ3 4
tamanoClave
ББ4 ?
/
ББ@ A
$num
ББB C
)
ББC D
;
ББD E
RijndaelManaged
ГГ 
symmetricKey
ГГ  ,
=
ГГ- .
new
ГГ/ 2
RijndaelManaged
ГГ3 B
(
ГГB C
)
ГГC D
;
ГГD E
symmetricKey
ЕЕ 
.
ЕЕ 
Mode
ЕЕ !
=
ЕЕ" #

CipherMode
ЕЕ$ .
.
ЕЕ. /
CBC
ЕЕ/ 2
;
ЕЕ2 3
ICryptoTransform
ЗЗ  
	encryptor
ЗЗ! *
=
ЗЗ+ ,
symmetricKey
ИИ  
.
ИИ  !
CreateEncryptor
ИИ! 0
(
ИИ0 1
keyBytes
ИИ1 9
,
ИИ9 : 
InitialVectorBytes
ИИ; M
)
ИИM N
;
ИИN O
MemoryStream
КК 
memoryStream
КК )
=
КК* +
new
КК, /
MemoryStream
КК0 <
(
КК< =
)
КК= >
;
КК> ?
CryptoStream
ММ 
cryptoStream
ММ )
=
ММ* +
new
НН 
CryptoStream
НН $
(
НН$ %
memoryStream
НН% 1
,
НН1 2
	encryptor
НН3 <
,
НН< =
CryptoStreamMode
НН> N
.
ННN O
Write
ННO T
)
ННT U
;
ННU V
cryptoStream
ПП 
.
ПП 
Write
ПП "
(
ПП" #
plainTextBytes
ПП# 1
,
ПП1 2
$num
ПП3 4
,
ПП4 5
plainTextBytes
ПП6 D
.
ППD E
Length
ППE K
)
ППK L
;
ППL M
cryptoStream
СС 
.
СС 
FlushFinalBlock
СС ,
(
СС, -
)
СС- .
;
СС. /
byte
УУ 
[
УУ 
]
УУ 
cipherTextBytes
УУ &
=
УУ' (
memoryStream
УУ) 5
.
УУ5 6
ToArray
УУ6 =
(
УУ= >
)
УУ> ?
;
УУ? @
memoryStream
ХХ 
.
ХХ 
Close
ХХ "
(
ХХ" #
)
ХХ# $
;
ХХ$ %
cryptoStream
ЦЦ 
.
ЦЦ 
Close
ЦЦ "
(
ЦЦ" #
)
ЦЦ# $
;
ЦЦ$ %
string
ШШ 
textoCifradoFinal
ШШ (
=
ШШ) *
Convert
ШШ+ 2
.
ШШ2 3
ToBase64String
ШШ3 A
(
ШШA B
cipherTextBytes
ШШB Q
)
ШШQ R
;
ШШR S
return
ЪЪ 
textoCifradoFinal
ЪЪ (
;
ЪЪ( )
}
ЫЫ 
catch
ЬЬ 
{
ЭЭ 
return
ЮЮ 
null
ЮЮ 
;
ЮЮ 
}
ЯЯ 
}
аа 	
public
гг 
static
гг 
string
гг 
descifrarTextoAES
гг .
(
гг. /
string
гг/ 5
textoCifrado
гг6 B
,
ггB C
string
ггD J
palabraPaso
ггK V
,
ггV W
string
дд 
valorRGBSalt
дд 
,
дд 
string
дд  &'
algoritmoEncriptacionHASH
дд' @
,
дд@ A
int
ее 
iteraciones
ее 
,
ее 
string
ее "
vectorInicial
ее# 0
,
ее0 1
int
ее2 5
tamanoClave
ее6 A
)
ееA B
{
жж 	
try
зз 
{
ии 
byte
йй 
[
йй 
]
йй  
InitialVectorBytes
йй )
=
йй* +
Encoding
йй, 4
.
йй4 5
ASCII
йй5 :
.
йй: ;
GetBytes
йй; C
(
ййC D
vectorInicial
ййD Q
)
ййQ R
;
ййR S
byte
кк 
[
кк 
]
кк 
saltValueBytes
кк %
=
кк& '
Encoding
кк( 0
.
кк0 1
ASCII
кк1 6
.
кк6 7
GetBytes
кк7 ?
(
кк? @
valorRGBSalt
кк@ L
)
ккL M
;
ккM N
byte
мм 
[
мм 
]
мм 
cipherTextBytes
мм &
=
мм' (
Convert
мм) 0
.
мм0 1
FromBase64String
мм1 A
(
ммA B
textoCifrado
ммB N
)
ммN O
;
ммO P!
PasswordDeriveBytes
оо #
password
оо$ ,
=
оо- .
new
пп !
PasswordDeriveBytes
пп +
(
пп+ ,
palabraPaso
пп, 7
,
пп7 8
saltValueBytes
пп9 G
,
ппG H'
algoritmoEncriptacionHASH
░░ 1
,
░░1 2
iteraciones
░░3 >
)
░░> ?
;
░░? @
byte
▓▓ 
[
▓▓ 
]
▓▓ 
keyBytes
▓▓ 
=
▓▓  !
password
▓▓" *
.
▓▓* +
GetBytes
▓▓+ 3
(
▓▓3 4
tamanoClave
▓▓4 ?
/
▓▓@ A
$num
▓▓B C
)
▓▓C D
;
▓▓D E
RijndaelManaged
┤┤ 
symmetricKey
┤┤  ,
=
┤┤- .
new
┤┤/ 2
RijndaelManaged
┤┤3 B
(
┤┤B C
)
┤┤C D
;
┤┤D E
symmetricKey
╢╢ 
.
╢╢ 
Mode
╢╢ !
=
╢╢" #

CipherMode
╢╢$ .
.
╢╢. /
CBC
╢╢/ 2
;
╢╢2 3
ICryptoTransform
╕╕  
	decryptor
╕╕! *
=
╕╕+ ,
symmetricKey
╕╕- 9
.
╕╕9 :
CreateDecryptor
╕╕: I
(
╕╕I J
keyBytes
╕╕J R
,
╕╕R S 
InitialVectorBytes
╕╕T f
)
╕╕f g
;
╕╕g h
MemoryStream
║║ 
memoryStream
║║ )
=
║║* +
new
║║, /
MemoryStream
║║0 <
(
║║< =
cipherTextBytes
║║= L
)
║║L M
;
║║M N
CryptoStream
╝╝ 
cryptoStream
╝╝ )
=
╝╝* +
new
╝╝, /
CryptoStream
╝╝0 <
(
╝╝< =
memoryStream
╝╝= I
,
╝╝I J
	decryptor
╝╝K T
,
╝╝T U
CryptoStreamMode
╝╝V f
.
╝╝f g
Read
╝╝g k
)
╝╝k l
;
╝╝l m
byte
╛╛ 
[
╛╛ 
]
╛╛ 
plainTextBytes
╛╛ %
=
╛╛& '
new
╛╛( +
byte
╛╛, 0
[
╛╛0 1
cipherTextBytes
╛╛1 @
.
╛╛@ A
Length
╛╛A G
]
╛╛G H
;
╛╛H I
int
└└  
decryptedByteCount
└└ &
=
└└' (
cryptoStream
└└) 5
.
└└5 6
Read
└└6 :
(
└└: ;
plainTextBytes
└└; I
,
└└I J
$num
└└K L
,
└└L M
plainTextBytes
└└N \
.
└└\ ]
Length
└└] c
)
└└c d
;
└└d e
memoryStream
┬┬ 
.
┬┬ 
Close
┬┬ "
(
┬┬" #
)
┬┬# $
;
┬┬$ %
cryptoStream
├├ 
.
├├ 
Close
├├ "
(
├├" #
)
├├# $
;
├├$ %
string
┼┼ "
textoDescifradoFinal
┼┼ +
=
┼┼, -
Encoding
┼┼. 6
.
┼┼6 7
UTF8
┼┼7 ;
.
┼┼; <
	GetString
┼┼< E
(
┼┼E F
plainTextBytes
┼┼F T
,
┼┼T U
$num
┼┼V W
,
┼┼W X 
decryptedByteCount
┼┼Y k
)
┼┼k l
;
┼┼l m
return
╟╟ "
textoDescifradoFinal
╟╟ +
;
╟╟+ ,
}
╚╚ 
catch
╔╔ 
{
╩╩ 
return
╦╦ 
null
╦╦ 
;
╦╦ 
}
╠╠ 
}
══ 	
public
╧╧ 
static
╧╧ 
void
╧╧ 
CrearLogError
╧╧ (
(
╧╧( )
string
╧╧) /
tipo
╧╧0 4
,
╧╧4 5
string
╧╧6 <
entidad
╧╧= D
,
╧╧D E
string
╧╧F L
mensaje
╧╧M T
,
╧╧T U
string
╧╧V \
source
╧╧] c
,
╧╧c d
string
╧╧e k

stacktrace
╧╧l v
,
╧╧v w
string
╧╧x ~

targetsite╧╧ Й
,╧╧Й К
string╧╧Л С
conexion╧╧Т Ъ
)╧╧Ъ Ы
{
╨╨ 	
using
╤╤ 
(
╤╤ 
SqlConnection
╤╤ 

connection
╤╤  *
=
╤╤+ ,
new
╤╤- 0
SqlConnection
╤╤1 >
(
╤╤> ?
conexion
╤╤? G
)
╤╤G H
)
╤╤H I
{
╥╥ 
using
╙╙ 
(
╙╙ 

SqlCommand
╙╙ !
command
╙╙" )
=
╙╙* +
new
╙╙, /

SqlCommand
╙╙0 :
(
╙╙: ;
)
╙╙; <
)
╙╙< =
{
╘╘ 
command
╒╒ 
.
╒╒ 

Connection
╒╒ &
=
╒╒' (

connection
╒╒) 3
;
╒╒3 4
command
╓╓ 
.
╓╓ 
CommandType
╓╓ '
=
╓╓( )
CommandType
╓╓* 5
.
╓╓5 6
Text
╓╓6 :
;
╓╓: ;
command
╫╫ 
.
╫╫ 
CommandText
╫╫ '
=
╫╫( )
$str╫╫* █
;╫╫█ ▄
command
╪╪ 
.
╪╪ 

Parameters
╪╪ &
.
╪╪& '
AddWithValue
╪╪' 3
(
╪╪3 4
$str
╪╪4 >
,
╪╪> ?
entidad
╪╪@ G
)
╪╪G H
;
╪╪H I
command
┘┘ 
.
┘┘ 

Parameters
┘┘ &
.
┘┘& '
AddWithValue
┘┘' 3
(
┘┘3 4
$str
┘┘4 ;
,
┘┘; <
tipo
┘┘= A
)
┘┘A B
;
┘┘B C
command
┌┌ 
.
┌┌ 

Parameters
┌┌ &
.
┌┌& '
AddWithValue
┌┌' 3
(
┌┌3 4
$str
┌┌4 >
,
┌┌> ?
mensaje
┌┌@ G
)
┌┌G H
;
┌┌H I
command
██ 
.
██ 

Parameters
██ &
.
██& '
AddWithValue
██' 3
(
██3 4
$str
██4 =
,
██= >
source
██? E
)
██E F
;
██F G
command
▄▄ 
.
▄▄ 

Parameters
▄▄ &
.
▄▄& '
AddWithValue
▄▄' 3
(
▄▄3 4
$str
▄▄4 A
,
▄▄A B

stacktrace
▄▄C M
)
▄▄M N
;
▄▄N O
command
▌▌ 
.
▌▌ 

Parameters
▌▌ &
.
▌▌& '
AddWithValue
▌▌' 3
(
▌▌3 4
$str
▌▌4 A
,
▌▌A B

targetsite
▌▌C M
)
▌▌M N
;
▌▌N O
command
▐▐ 
.
▐▐ 

Parameters
▐▐ &
.
▐▐& '
AddWithValue
▐▐' 3
(
▐▐3 4
$str
▐▐4 D
,
▐▐D E
DateTime
▐▐F N
.
▐▐N O
Now
▐▐O R
)
▐▐R S
;
▐▐S T
try
рр 
{
сс 

connection
тт "
.
тт" #
Open
тт# '
(
тт' (
)
тт( )
;
тт) *
int
уу 
recordsAffected
уу +
=
уу, -
command
уу. 5
.
уу5 6
ExecuteNonQuery
уу6 E
(
ууE F
)
ууF G
;
ууG H
}
фф 
catch
хх 
(
хх 
SqlException
хх '
)
хх' (
{
цц 
}
шш 
finally
щщ 
{
ъъ 

connection
ыы "
.
ыы" #
Close
ыы# (
(
ыы( )
)
ыы) *
;
ыы* +
}
ьь 
}
ээ 
}
юю 
}
яя 	
public
ёё 
static
ёё 
void
ёё A
3EjecutarProcedimientoAlmacenado_validatePresupuesto
ёё N
(
ёёN O
string
ёёO U"
nombre_procedimiento
ёёV j
,
ёёj k
string
ёёl r
conexion
ёёs {
,
ёё{ |
stringёё} Г
	parametroёёД Н
)ёёН О
{
ЄЄ 	
using
єє 
(
єє 
SqlConnection
єє  

connection
єє! +
=
єє, -
new
єє. 1
SqlConnection
єє2 ?
(
єє? @
conexion
єє@ H
)
єєH I
)
єєI J
{
ЇЇ 

connection
її 
.
її 
Open
її 
(
її  
)
її  !
;
її! "

SqlCommand
ЎЎ 
sql_cmnd
ЎЎ #
=
ЎЎ$ %
new
ЎЎ& )

SqlCommand
ЎЎ* 4
(
ЎЎ4 5"
nombre_procedimiento
ЎЎ5 I
,
ЎЎI J

connection
ЎЎK U
)
ЎЎU V
;
ЎЎV W
sql_cmnd
ўў 
.
ўў 
CommandType
ўў $
=
ўў% &
CommandType
ўў' 2
.
ўў2 3
StoredProcedure
ўў3 B
;
ўўB C
sql_cmnd
°° 
.
°° 

Parameters
°° #
.
°°# $
AddWithValue
°°$ 0
(
°°0 1
$str
°°1 ;
,
°°; <
	SqlDbType
°°= F
.
°°F G
NVarChar
°°G O
)
°°O P
.
°°P Q
Value
°°Q V
=
°°W X
	parametro
°°Y b
;
°°b c
sql_cmnd
∙∙ 
.
∙∙ 
ExecuteNonQuery
∙∙ (
(
∙∙( )
)
∙∙) *
;
∙∙* +

connection
·· 
.
·· 
Close
··  
(
··  !
)
··! "
;
··" #
}
√√ 
}
№№ 	
public
■■ 
static
■■ 
void
■■ <
.EjecutarProcedimientoAlmacenado_validateAFDiff
■■ I
(
■■I J
string
■■J P"
nombre_procedimiento
■■Q e
,
■■e f
string
■■g m
conexion
■■n v
,
■■v w
string
■■x ~
numero_pedido■■ М
,■■М Н
int■■О С
cantidad■■Т Ъ
,■■Ъ Ы
string■■Ь в
cod_articulo■■г п
)■■п ░
{
   	
using
АА 
(
АА 
SqlConnection
АА  

connection
АА! +
=
АА, -
new
АА. 1
SqlConnection
АА2 ?
(
АА? @
conexion
АА@ H
)
ААH I
)
ААI J
{
ББ 

connection
ВВ 
.
ВВ 
Open
ВВ 
(
ВВ  
)
ВВ  !
;
ВВ! "

SqlCommand
ГГ 
sql_cmnd
ГГ #
=
ГГ$ %
new
ГГ& )

SqlCommand
ГГ* 4
(
ГГ4 5"
nombre_procedimiento
ГГ5 I
,
ГГI J

connection
ГГK U
)
ГГU V
;
ГГV W
sql_cmnd
ДД 
.
ДД 
CommandType
ДД $
=
ДД% &
CommandType
ДД' 2
.
ДД2 3
StoredProcedure
ДД3 B
;
ДДB C
sql_cmnd
ЕЕ 
.
ЕЕ 

Parameters
ЕЕ #
.
ЕЕ# $
AddWithValue
ЕЕ$ 0
(
ЕЕ0 1
$str
ЕЕ1 ;
,
ЕЕ; <
	SqlDbType
ЕЕ= F
.
ЕЕF G
NVarChar
ЕЕG O
)
ЕЕO P
.
ЕЕP Q
Value
ЕЕQ V
=
ЕЕW X
numero_pedido
ЕЕY f
;
ЕЕf g
sql_cmnd
ЖЖ 
.
ЖЖ 

Parameters
ЖЖ #
.
ЖЖ# $
AddWithValue
ЖЖ$ 0
(
ЖЖ0 1
$str
ЖЖ1 B
,
ЖЖB C
	SqlDbType
ЖЖD M
.
ЖЖM N
Int
ЖЖN Q
)
ЖЖQ R
.
ЖЖR S
Value
ЖЖS X
=
ЖЖY Z
cantidad
ЖЖ[ c
;
ЖЖc d
sql_cmnd
ЗЗ 
.
ЗЗ 

Parameters
ЗЗ #
.
ЗЗ# $
AddWithValue
ЗЗ$ 0
(
ЗЗ0 1
$str
ЗЗ1 A
,
ЗЗA B
	SqlDbType
ЗЗC L
.
ЗЗL M
NVarChar
ЗЗM U
)
ЗЗU V
.
ЗЗV W
Value
ЗЗW \
=
ЗЗ] ^
cod_articulo
ЗЗ_ k
;
ЗЗk l

connection
ИИ 
.
ИИ 
Close
ИИ  
(
ИИ  !
)
ИИ! "
;
ИИ" #
}
ЙЙ 
}
КК 	
}
НН 
}ОО ╠
@E:\GITEA\siscointBKII\siscointBKII\ModelosQ\listar_menu_padre.cs
	namespace 	
siscointBKII
 
. 
ModelosQ 
{ 
public 

class 
listar_menu_padre "
{		 
public

 
int

 
	index_row

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
string 

menu_padre  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} ш
8E:\GITEA\siscointBKII\siscointBKII\Models\area_ccosto.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
area_ccosto 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
ccosto 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
area_funcional $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} ·
6E:\GITEA\siscointBKII\siscointBKII\Models\articulos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
	articulos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
tipo 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ё
>E:\GITEA\siscointBKII\siscointBKII\Models\articulosBusqueda.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulosBusqueda "
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Tipo 
{ 
get 
; 
set "
;" #
}$ %
} 
} ў
BE:\GITEA\siscointBKII\siscointBKII\Models\articulosBusquedaFijo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class !
articulosBusquedaFijo &
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
Id_ped 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
Double 
Valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
CECO 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
V_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} И
=E:\GITEA\siscointBKII\siscointBKII\Models\articulosPedidos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulosPedidos !
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
Codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ╠
9E:\GITEA\siscointBKII\siscointBKII\Models\articulos_af.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulos_af 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_iva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
v_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ё
?E:\GITEA\siscointBKII\siscointBKII\Models\BusquedaActivoFijo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
BusquedaActivoFijo #
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
id_ped 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
Double 
Valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
CECO 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
V_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} Ў
>E:\GITEA\siscointBKII\siscointBKII\Models\busquedaProveedor.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
busquedaProveedor "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
razon_social "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
contrato 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} х
@E:\GITEA\siscointBKII\siscointBKII\Models\busquedaRapidaModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
busquedaRapidaModel $
{		 
public

 
string

 
valor

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 
entidad 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
	parametro 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ╓
>E:\GITEA\siscointBKII\siscointBKII\Models\compras_articulos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
compras_articulos "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_iva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} щ
9E:\GITEA\siscointBKII\siscointBKII\Models\dataBusqueda.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
dataBusqueda 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
valor1 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor2 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor3 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor4 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor5 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor6 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor7 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor8 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} л	
AE:\GITEA\siscointBKII\siscointBKII\Models\dataBusquedaCompleta.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class  
dataBusquedaCompleta %
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
valor1 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor2 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor3 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor4 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor5 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} К
9E:\GITEA\siscointBKII\siscointBKII\Models\depreciacion.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
depreciacion 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
	id_pedido 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
cod_art 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
double 
> 
valor  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
ano 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_ejecucion) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
Nullable 
< 
int 
> 
valor_ejecutado ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
int 
> 
v_util #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Nullable 
< 
int 
> 
v_util_restante ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
string 
ccosto 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
rubro 
{ 
get !
;! "
set# &
;& '
}( )
public 
System 
. 
DateTime 
fecha_ini_depre .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
Nullable 
< 
int 
> 
cuota "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
int 
> 

inventario '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} █
AE:\GITEA\siscointBKII\siscointBKII\Models\detalle_devolucionII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class  
detalle_devolucionII %
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
int 
id_dev 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
elemento 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
cantidad 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
imei_inv 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
c 
{ 
get 
; 
set 
;  
}! "
public 
int 
l 
{ 
get 
; 
set 
;  
}! "
public 
int 
a 
{ 
get 
; 
set 
;  
}! "
public 
int 
v 
{ 
get 
; 
set 
;  
}! "
public 
int 
f 
{ 
get 
; 
set 
;  
}! "
} 
} ╒
>E:\GITEA\siscointBKII\siscointBKII\Models\detalle_entregaII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_entregaII "
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
int 
id_ent 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
elemento 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
cantidad 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
imei_inv 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
c 
{ 
get 
; 
set 
;  
}! "
public 
int 
l 
{ 
get 
; 
set 
;  
}! "
public 
int 
a 
{ 
get 
; 
set 
;  
}! "
public 
int 
v 
{ 
get 
; 
set 
;  
}! "
public 
int 
f 
{ 
get 
; 
set 
;  
}! "
} 
} з
;E:\GITEA\siscointBKII\siscointBKII\Models\detalle_pedido.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_pedido 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
	id_pedido 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 

codigo_art  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
int 
> 
cantidad %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
double 
> 
valor  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
Nullable 
< 
double 
> 
iva  #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Nullable 
< 
double 
> 
subtotal  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
Nullable 
< 
double 
> 
total  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ╕	
>E:\GITEA\siscointBKII\siscointBKII\Models\detalle_proveedor.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_proveedor "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
contrato 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
FechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
FechaActualizacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} м
9E:\GITEA\siscointBKII\siscointBKII\Models\devoluciones.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
devoluciones 
{		 
public

 
int

 
id_dev

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
ced_empl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
hora 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

id_empresa 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cod_user 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
autoriza 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	tipo_acta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ╥
7E:\GITEA\siscointBKII\siscointBKII\Models\directivos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 

directivos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} л
5E:\GITEA\siscointBKII\siscointBKII\Models\empleado.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
empleado 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 

cedula_emp  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
snombre 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ppellido 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
spellido 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
permiso 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
ccosto 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
empresa 
{ 
get  
;  !
set" %
;% &
}' (
} 
} О	
4E:\GITEA\siscointBKII\siscointBKII\Models\empresa.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
empresa 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	ruta_logo 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} д
5E:\GITEA\siscointBKII\siscointBKII\Models\entregas.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
entregas 
{		 
public

 
int

 
id_ent

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
ced_empl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
hora 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

id_empresa 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cod_user 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
autoriza 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	tipo_acta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} к	
>E:\GITEA\siscointBKII\siscointBKII\Models\excel_bco_agrario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
excel_bco_agrario "
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
DateTime 
fecha 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ruta 
{ 
get  
;  !
set" %
;% &
}' (
public 
Int32 
estado 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Int64 
consecutivo  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} ╒
0E:\GITEA\siscointBKII\siscointBKII\Models\iva.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
iva 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
iva1 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
tipo 
{ 
get  
;  !
set" %
;% &
}' (
public 
double 

porcentaje  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} е
2E:\GITEA\siscointBKII\siscointBKII\Models\jefes.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
jefes 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ▒
3E:\GITEA\siscointBKII\siscointBKII\Models\objeto.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
objeto 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
tipo 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
af 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
imei 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
factura 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
linea 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
linea_activa "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

nuevo_imei  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
Nullable 
< 
System 
. 
DateTime '
>' (
	causacion) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
string 
centro_costo "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_estado) 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
Nullable 
< 
int 
> 
tipo_articulo *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
string 
cod_articulo "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ╖"
4E:\GITEA\siscointBKII\siscointBKII\Models\pedidos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
pedidos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 

nro_pedido 
{ 
get  #
;# $
set% (
;( )
}* +
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
	proveedor 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
ccosto 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
justificacion #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
	vlr_total 
{  !
get" %
;% &
set' *
;* +
}, -
public 
Nullable 
< 
int 
> 
vto_bueno_presu ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_vto_bueno) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
Nullable 
< 
int 
> 
vto_bueno_finan ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_vto_finan) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Nullable 
< 
int 
> 
nro_srp $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
Nullable 
< 
int 
> 
nro_rp #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
nro_contrato "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
obs_compras !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
pc 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
st 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
et 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
cont 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ad 
{ 
get 
; 
set  #
;# $
}% &
public   
string   

asignado_a    
{  ! "
get  # &
;  & '
set  ( +
;  + ,
}  - .
public!! 
string!! 
aprobado_jefe!! #
{!!$ %
get!!& )
;!!) *
set!!+ .
;!!. /
}!!0 1
}"" 
}## х
;E:\GITEA\siscointBKII\siscointBKII\Models\permisos_usuII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
permisos_usuII 
{		 
public

 
Int64

 

id_permiso

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
int 
id_view 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cod_usuario !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 

id_usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
autorizacion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
pe1 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
pe2 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
usuario_crea "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTime 
Fecha_creacion &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
fecha_modificacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ч
<E:\GITEA\siscointBKII\siscointBKII\Models\permisos_usuIII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public		 

class		 
permisos_usuIII		  
{

 
public 
Int64 

id_permiso 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
id_view 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cod_usuario !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 

id_usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
autorizacion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
pe1 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
pe2 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
usuario_crea "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTime 
Fecha_creacion &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
fecha_modificacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} └
8E:\GITEA\siscointBKII\siscointBKII\Models\proveedorII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
proveedorII 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
razon_social "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
representante_legal )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
tel 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
asesor 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
correo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 

tel_asesor  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
FechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
FechaActualizacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} ╒
<E:\GITEA\siscointBKII\siscointBKII\Models\reporte_objetos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
reporte_objetos  
{		 
public

 
Int64

 
Item

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
EstadoNumber 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Af 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Imei 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
} 
} Ф
8E:\GITEA\siscointBKII\siscointBKII\Models\tipoEntrega.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipoEntrega 
{		 
public

 
string

 
entrega

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
string 

devolucion  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
	translado 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 

reparacion  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
prestamo 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ї
:E:\GITEA\siscointBKII\siscointBKII\Models\tipo_articulo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_articulo 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
fechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ё
9E:\GITEA\siscointBKII\siscointBKII\Models\tipo_reporte.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_reporte 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
valor 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
tipo_reporte_tabla %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} │
9E:\GITEA\siscointBKII\siscointBKII\Models\tipo_usuario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_usuario 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} └
BE:\GITEA\siscointBKII\siscointBKII\Models\tmp_excel_bco_agrario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class !
tmp_excel_bco_agrario &
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
Int64 
excel_bco_agrario &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
campo_1 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_2 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_3 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_4 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_5 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_6 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_7 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_8 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_9 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
campo_10 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_11 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_12 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_13 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_14 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_15 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_16 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_17 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
campo_18 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ╕
6E:\GITEA\siscointBKII\siscointBKII\Models\UserLogin.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
	UserLogin 
{		 
public

 
string

 
Username

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ╤
4E:\GITEA\siscointBKII\siscointBKII\Models\usuario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
usuario 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
pssword 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ┴
9E:\GITEA\siscointBKII\siscointBKII\Models\UsuarioModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
UsuarioModel 
{		 
public

 
long

 
id

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Т
?E:\GITEA\siscointBKII\siscointBKII\Models\UsuariosConstantes.cs
	namespace 	
siscointBKII
 
. 
Models 
{		 
public 

class 
UsuariosConstantes #
{ 
} 
} ├
:E:\GITEA\siscointBKII\siscointBKII\Models\UsuariosModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
UsuariosModel 
{		 
public

 
long

 
id

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Я
2E:\GITEA\siscointBKII\siscointBKII\Models\views.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
views 
{		 
public

 
Int32

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
Int32 
id_vista 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
name_module !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
module 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
icon 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
url 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
visible 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
routeurl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 

menu_padre  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
fechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} з	
:E:\GITEA\siscointBKII\siscointBKII\Models\viewsPermisos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
viewsPermisos 
{		 
public

 
Int32

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
string 
name_module !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
module 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Boolean 
autorizacion #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Boolean 
pe1 
{ 
get  
;  !
set" %
;% &
}' (
public 
Boolean 
pe2 
{ 
get  
;  !
set" %
;% &
}' (
} 
} З

-E:\GITEA\siscointBKII\siscointBKII\Program.cs
	namespace

 	
siscointBKII


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} Т.
-E:\GITEA\siscointBKII\siscointBKII\Startup.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services   
.   
AddAuthentication   &
(  & '
JwtBearerDefaults  ' 8
.  8 9 
AuthenticationScheme  9 M
)  M N
.!! 
AddJwtBearer!! 
(!! 
options!! %
=>!!& (
{"" 
options## 
.## %
TokenValidationParameters## 5
=##6 7
new##8 ;%
TokenValidationParameters##< U
{$$ 
ValidateIssuer%% &
=%%' (
true%%) -
,%%- .
ValidateAudience&& (
=&&) *
true&&+ /
,&&/ 0
ValidateLifetime'' (
='') *
true''+ /
,''/ 0$
ValidateIssuerSigningKey(( 0
=((1 2
true((3 7
,((7 8
ValidIssuer)) #
=))$ %
Configuration))& 3
[))3 4
$str))4 @
]))@ A
,))A B
ValidAudience** %
=**& '
Configuration**( 5
[**5 6
$str**6 D
]**D E
,**E F
IssuerSigningKey++ (
=++) *
new+++ . 
SymmetricSecurityKey++/ C
(++C D
Encoding++D L
.++L M
UTF8++M Q
.++Q R
GetBytes++R Z
(++Z [
Configuration++[ h
[++h i
$str++i r
]++r s
)++s t
)++t u
},, 
;,, 
}-- 
)-- 
;-- 
services.. 
... 
AddMvc.. 
(.. 
).. 
;.. 
string// !
sqlServerConennection// (
=//) *
Configuration//+ 8
.//8 9
GetConnectionString//9 L
(//L M
$str//M W
)//W X
;//X Y
services11 
.11 
AddDbContextPool11 %
<11% &
AplicationDbContext11& 9
>119 :
(11: ;
options11; B
=>11C E
options11F M
.11M N
UseSqlServer11N Z
(11Z [!
sqlServerConennection11[ p
)11p q
)11q r
;11r s
services22 
.22 
AddControllers22 #
(22# $
options22$ +
=>22, .
{33 
var44 
jsonInputFormatter44 &
=44' (
options44) 0
.440 1
InputFormatters441 @
.55 
OfType55 
<55 
	Microsoft55 %
.55% &

AspNetCore55& 0
.550 1
Mvc551 4
.554 5

Formatters555 ?
.55? @(
SystemTextJsonInputFormatter55@ \
>55\ ]
(55] ^
)55^ _
.66 
Single66 
(66 
)66 
;66 
jsonInputFormatter77 "
.77" #
SupportedMediaTypes77# 6
.776 7
Add777 :
(77: ;
$str77; S
)77S T
;77T U
}88 
)88 
;88 
services99 
.99 
AddRazorPages99 "
(99" #
)99# $
;99$ %
services:: 
.:: 
AddCors:: 
(:: 
options:: $
=>::% '
{;; 
options<< 
.<< 
	AddPolicy<< !
(<<! "
$str<<" .
,<<. /
builder<<0 7
=><<8 :
builder<<; B
.<<B C
WithOrigins<<C N
(<<N O
$str<<O f
,<<f g
$str	<<h И
)
<<И Й
.
<<Й К
AllowAnyMethod
<<К Ш
(
<<Ш Щ
)
<<Щ Ъ
.
<<Ъ Ы
AllowAnyHeader
<<Ы й
(
<<й к
)
<<к л
)
<<л м
;
<<м н
}== 
)== 
;== 
}>> 	
publicAA 
voidAA 
	ConfigureAA 
(AA 
IApplicationBuilderAA 1
appAA2 5
,AA5 6
IWebHostEnvironmentAA7 J
envAAK N
)AAN O
{BB 	
appCC 
.CC 
UseCorsCC 
(CC 
$strCC $
)CC$ %
;CC% &
ifDD 
(DD 
envDD 
.DD 
IsDevelopmentDD !
(DD! "
)DD" #
)DD# $
{EE 
appFF 
.FF %
UseDeveloperExceptionPageFF -
(FF- .
)FF. /
;FF/ 0
}GG 
appII 
.II 
UseHttpsRedirectionII #
(II# $
)II$ %
;II% &
appKK 
.KK 

UseRoutingKK 
(KK 
)KK 
;KK 
appMM 
.MM 
UseAuthenticationMM !
(MM! "
)MM" #
;MM# $
appOO 
.OO 
UseAuthorizationOO  
(OO  !
)OO! "
;OO" #
appQQ 
.QQ 
UseEndpointsQQ 
(QQ 
	endpointsQQ &
=>QQ' )
{RR 
	endpointsSS 
.SS 
MapControllersSS (
(SS( )
)SS) *
;SS* +
	endpointsTT 
.TT 
MapRazorPagesTT '
(TT' (
)TT( )
;TT) *
}UU 
)UU 
;UU 
}VV 	
}WW 
}XX ╗
5E:\GITEA\siscointBKII\siscointBKII\WeatherForecast.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
TemperatureC		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public 
int 
TemperatureF 
=>  "
$num# %
+& '
(( )
int) ,
), -
(- .
TemperatureC. :
/; <
$num= C
)C D
;D E
public 
string 
Summary 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 
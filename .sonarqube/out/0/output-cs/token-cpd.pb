Ë<
9E:\GITEA\siscointBKII\siscointBKII\AplicationDbContext.cs
	namespace 	
siscointBKII
 
{		 
public

 

class

 
AplicationDbContext

 $
:

% &
	DbContext

' 0
{ 
public 
AplicationDbContext "
(" #
DbContextOptions# 3
<3 4
AplicationDbContext4 G
>G H
optionsI P
)P Q
:R S
baseT X
(X Y
optionsY `
)` a
{b c
}d e
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
permisos_usuII  .
>. /
(/ 0
)0 1
.1 2
HasNoKey2 :
(: ;
); <
;< =
modelBuilder 
. 
Entity 
<  
permisos_usuIII  /
>/ 0
(0 1
)1 2
.2 3
HasKey3 9
(9 :
x: ;
=>< >
x? @
.@ A

id_permisoA K
)K L
;L M
modelBuilder 
. 
Entity 
<  
tipo_articulo  -
>- .
(. /
)/ 0
.0 1
HasKey1 7
(7 8
x8 9
=>: <
x= >
.> ?
id? A
)A B
;B C
modelBuilder 
. 
Entity 
<  
entregas  (
>( )
() *
)* +
.+ ,
HasKey, 2
(2 3
x3 4
=>5 7
x8 9
.9 :
id_ent: @
)@ A
;A B
modelBuilder 
. 
Entity 
<  
devoluciones  ,
>, -
(- .
). /
./ 0
HasKey0 6
(6 7
x7 8
=>9 ;
x< =
.= >
id_dev> D
)D E
;E F
} 	
public 
DbSet 
< 
usuario 
> 
usuario %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
views 
> 
views !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DbSet 
< 
permisos_usuII #
># $
permisos_usuII% 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
DbSet 
< 
permisos_usuIII $
>$ %
permisos_usuIII& 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
DbSet 
< 
tipo_usuario !
>! "
tipo_usuario# /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
DbSet 
< 
empresa 
> 
empresa %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public   
DbSet   
<   
area_ccosto    
>    !
area_ccosto  " -
{  . /
get  0 3
;  3 4
set  5 8
;  8 9
}  : ;
public!! 
DbSet!! 
<!! 
empleado!! 
>!! 
empleado!! '
{!!( )
get!!* -
;!!- .
set!!/ 2
;!!2 3
}!!4 5
public"" 
DbSet"" 
<"" 
tipo_articulo"" "
>""" #
tipo_articulo""$ 1
{""2 3
get""4 7
;""7 8
set""9 <
;""< =
}""> ?
public## 
DbSet## 
<## 
objeto## 
>## 
objeto## #
{##$ %
get##& )
;##) *
set##+ .
;##. /
}##0 1
public$$ 
DbSet$$ 
<$$ 
	articulos$$ 
>$$ 
	articulos$$  )
{$$* +
get$$, /
;$$/ 0
set$$1 4
;$$4 5
}$$6 7
public%% 
DbSet%% 
<%% 
depreciacion%% !
>%%! "
depreciacion%%# /
{%%0 1
get%%2 5
;%%5 6
set%%7 :
;%%: ;
}%%< =
public&& 
DbSet&& 
<&& 
articulos_af&& !
>&&! "
articulos_af&&# /
{&&0 1
get&&2 5
;&&5 6
set&&7 :
;&&: ;
}&&< =
public'' 
DbSet'' 
<'' 
jefes'' 
>'' 
jefes'' !
{''" #
get''$ '
;''' (
set'') ,
;'', -
}''. /
public(( 
DbSet(( 
<(( 
entregas(( 
>(( 
entregas(( '
{((( )
get((* -
;((- .
set((/ 2
;((2 3
}((4 5
public)) 
DbSet)) 
<)) 
detalle_entregaII)) &
>))& '
detalle_entregaII))( 9
{)): ;
get))< ?
;))? @
set))A D
;))D E
}))F G
public** 
DbSet** 
<** 
devoluciones** !
>**! "
devoluciones**# /
{**0 1
get**2 5
;**5 6
set**7 :
;**: ;
}**< =
public++ 
DbSet++ 
<++  
detalle_devolucionII++ )
>++) * 
detalle_devolucionII+++ ?
{++@ A
get++B E
;++E F
set++G J
;++J K
}++L M
public,, 
DbSet,, 
<,, 
tipo_reporte,, !
>,,! "
tipo_reporte,,# /
{,,0 1
get,,2 5
;,,5 6
set,,7 :
;,,: ;
},,< =
public-- 
DbSet-- 
<-- 
proveedorII--  
>--  !
proveedorII--" -
{--. /
get--0 3
;--3 4
set--5 8
;--8 9
}--: ;
public.. 
DbSet.. 
<.. 
detalle_proveedor.. &
>..& '
detalle_proveedor..( 9
{..: ;
get..< ?
;..? @
set..A D
;..D E
}..F G
public// 
DbSet// 
<// 
compras_articulos// &
>//& '
compras_articulos//( 9
{//: ;
get//< ?
;//? @
set//A D
;//D E
}//F G
public00 
DbSet00 
<00 
iva00 
>00 
iva00 
{00 
get00  #
;00# $
set00% (
;00( )
}00* +
public11 
DbSet11 
<11 
pedidos11 
>11 
pedidos11 %
{11& '
get11( +
;11+ ,
set11- 0
;110 1
}112 3
public22 
DbSet22 
<22 
detalle_pedido22 #
>22# $
detalle_pedido22% 3
{224 5
get226 9
;229 :
set22; >
;22> ?
}22@ A
public33 
DbSet33 
<33 

directivos33 
>33  

directivos33! +
{33, -
get33. 1
;331 2
set333 6
;336 7
}338 9
}44 
}55 ◊ã
DE:\GITEA\siscointBKII\siscointBKII\Controllers\ArticuloController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ArticuloController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
ArticuloController !
(! "
AplicationDbContext" 5
contex6 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
contex 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
)  
]  !
[ 	
	Authorize	 
] 
public 
IActionResult 
tipoArticulo )
() *
)* +
{   	
var!! 
data!! 
=!! 
_context!! 
.!!  
tipo_articulo!!  -
.!!- .
ToList!!. 4
(!!4 5
)!!5 6
;!!6 7
if"" 
("" 
data"" 
=="" 
null"" 
)"" 
return## 
null## 
;## 
return%% 
Ok%% 
(%% 
data%% 
)%% 
;%% 
}&& 	
[(( 	
HttpGet((	 
((( 
$str(( %
)((% &
]((& '
[)) 	
	Authorize))	 
])) 
public** 
IActionResult** 
validarImei** (
(**( )
string**) /
imei**0 4
)**4 5
{++ 	
Boolean,, 
ExisteObjeto,,  
=,,! "
false,,# (
;,,( )
string-- 
mensaje-- 
=-- 
$str-- 
;--  
try.. 
{// 
var00 
data00 
=00 
_context00 #
.00# $
objeto00$ *
.00* +
FirstOrDefault00+ 9
(009 :
x00: ;
=>00< >
x00? @
.00@ A
imei00A E
==00F H
imei00I M
)00M N
;00N O
if11 
(11 
data11 
!=11 
null11 
)11  
{22 
ExisteObjeto33  
=33! "
true33# '
;33' (
mensaje44 
=44 
$str44 .
;44. /
}55 
}77 
catch88 
(88 
	Exception88 
e88 
)88 
{99 
var;; 
st;; 
=;; 
new;; 

StackTrace;; '
(;;' (
);;( )
;;;) *
var<< 
sf<< 
=<< 
st<< 
.<< 
GetFrame<< $
(<<$ %
$num<<% &
)<<& '
;<<' (
General>> 
.>> 
CrearLogError>> %
(>>% &
sf>>& (
.>>( )
	GetMethod>>) 2
(>>2 3
)>>3 4
.>>4 5
Name>>5 9
,>>9 :
$str>>; C
,>>C D
e>>E F
.>>F G
Message>>G N
,>>N O
_config>>P W
.>>W X
GetConnectionString>>X k
(>>k l
$str>>l v
)>>v w
)>>w x
;>>x y
}?? 
string@@ 
json@@ 
=@@ 
JsonConvert@@ %
.@@% &
SerializeObject@@& 5
(@@5 6
new@@6 9
{@@: ;
Result@@< B
=@@C D
ExisteObjeto@@E Q
,@@Q R
Mensaje@@S Z
=@@[ \
mensaje@@] d
}@@e f
)@@f g
;@@g h
returnAA 
OkAA 
(AA 
jsonAA 
)AA 
;AA 
}BB 	
[DD 	
HttpGetDD	 
(DD 
$strDD '
)DD' (
]DD( )
[EE 	
	AuthorizeEE	 
]EE 
publicFF 
IActionResultFF 
validarArticuloXIdFF /
(FF/ 0
stringFF0 6
idFF7 9
)FF9 :
{GG 	
varHH 
dataHH 
=HH 
newHH 
ObjectHH !
(HH! "
)HH" #
;HH# $
tryII 
{JJ 
dataKK 
=KK 
_contextKK 
.KK  
	articulosKK  )
.KK) *
FirstOrDefaultKK* 8
(KK8 9
xKK9 :
=>KK; =
xKK> ?
.KK? @
idKK@ B
==KKC E
ConvertKKF M
.KKM N
ToInt32KKN U
(KKU V
idKKV X
)KKX Y
)KKY Z
;KKZ [
}MM 
catchNN 
(NN 
	ExceptionNN 
eNN 
)NN 
{OO 
varPP 
stPP 
=PP 
newPP 

StackTracePP '
(PP' (
)PP( )
;PP) *
varQQ 
sfQQ 
=QQ 
stQQ 
.QQ 
GetFrameQQ $
(QQ$ %
$numQQ% &
)QQ& '
;QQ' (
GeneralSS 
.SS 
CrearLogErrorSS %
(SS% &
sfSS& (
.SS( )
	GetMethodSS) 2
(SS2 3
)SS3 4
.SS4 5
NameSS5 9
,SS9 :
$strSS; F
,SSF G
eSSH I
.SSI J
MessageSSJ Q
,SSQ R
_configSSS Z
.SSZ [
GetConnectionStringSS[ n
(SSn o
$strSSo y
)SSy z
)SSz {
;SS{ |
}TT 
returnUU 
OkUU 
(UU 
dataUU 
)UU 
;UU 
}VV 	
[WW 	
HttpPostWW	 
(WW 
$strWW -
)WW- .
]WW. /
[XX 	
	AuthorizeXX	 
]XX 
publicYY 
IActionResultYY %
validarArticuloDevolutivoYY 6
(YY6 7
[YY7 8
FromBodyYY8 @
]YY@ A
	articulosYYB K
ArticuloYYL T
)YYT U
{ZZ 	
var[[ 
data[[ 
=[[ 
new[[ 
Object[[ !
([[! "
)[[" #
;[[# $
try\\ 
{]] 
data^^ 
=^^ 
_context^^ 
.^^  
	articulos^^  )
.^^) *
Where^^* /
(^^/ 0
x^^0 1
=>^^2 4
x^^5 6
.^^6 7
codigo^^7 =
==^^> @
Articulo^^A I
.^^I J
codigo^^J P
)^^P Q
.^^Q R
First^^R W
(^^W X
)^^X Y
;^^Y Z
if__ 
(__ 
data__ 
==__ 
null__ 
)__  
{`` 
returnaa 
nullaa 
;aa  
}bb 
}cc 
catchdd 
(dd 
	Exceptiondd 
edd 
)dd 
{ee 
varff 
stff 
=ff 
newff 

StackTraceff '
(ff' (
)ff( )
;ff) *
vargg 
sfgg 
=gg 
stgg 
.gg 
GetFramegg $
(gg$ %
$numgg% &
)gg& '
;gg' (
Generalii 
.ii 
CrearLogErrorii %
(ii% &
sfii& (
.ii( )
	GetMethodii) 2
(ii2 3
)ii3 4
.ii4 5
Nameii5 9
,ii9 :
$strii; F
,iiF G
eiiH I
.iiI J
MessageiiJ Q
,iiQ R
_configiiS Z
.iiZ [
GetConnectionStringii[ n
(iin o
$striio y
)iiy z
)iiz {
;ii{ |
}jj 
returnkk 
Okkk 
(kk 
datakk 
)kk 
;kk 
}ll 	
[nn 	
HttpGetnn	 
(nn 
$strnn +
)nn+ ,
]nn, -
[oo 	
	Authorizeoo	 
]oo 
publicpp 
IActionResultpp "
validarArticuloFijoXIdpp 3
(pp3 4
stringpp4 :
idpp; =
)pp= >
{qq 	
varrr 
datarr 
=rr 
getArticuloFijorr &
(rr& '
idrr' )
)rr) *
;rr* +
ifss 
(ss 
datass 
==ss 
nullss 
)ss 
{tt 
returnuu 
nulluu 
;uu 
}vv 
returnww 
Okww 
(ww 
dataww 
)ww 
;ww 
}xx 	
[zz 	
HttpPostzz	 
(zz 
$strzz 2
)zz2 3
]zz3 4
[{{ 	
	Authorize{{	 
]{{ 
public|| 
IActionResult|| 
AgregarObjeto|| *
(||* +
int||+ .
idDepreciacion||/ =
,||= >
dynamic||? F
data||G K
)||K L
{}} 	
int~~ 
result~~ 
=~~ 
$num~~ 
;~~ 
int 
result2 
= 
$num 
; 
string
ÄÄ 
mensaje
ÄÄ 
=
ÄÄ 
$str
ÄÄ 
;
ÄÄ  
try
ÅÅ 
{
ÇÇ 
string
ÉÉ 
dat
ÉÉ 
=
ÉÉ 
System
ÉÉ #
.
ÉÉ# $
Text
ÉÉ$ (
.
ÉÉ( )
Json
ÉÉ) -
.
ÉÉ- .
JsonSerializer
ÉÉ. <
.
ÉÉ< =
	Serialize
ÉÉ= F
(
ÉÉF G
data
ÉÉG K
)
ÉÉK L
;
ÉÉL M
objeto
ÑÑ 
Objeto
ÑÑ 
=
ÑÑ 
JsonConvert
ÑÑ  +
.
ÑÑ+ ,
DeserializeObject
ÑÑ, =
<
ÑÑ= >
objeto
ÑÑ> D
>
ÑÑD E
(
ÑÑE F
dat
ÑÑF I
)
ÑÑI J
;
ÑÑJ K
if
ÖÖ 
(
ÖÖ 
Objeto
ÖÖ 
.
ÖÖ 
tipo
ÖÖ 
==
ÖÖ !
$num
ÖÖ" #
)
ÖÖ# $
{
ÜÜ 
int
áá 
tipo
áá 
=
áá 
TipoArticulo
áá +
(
áá+ ,
Convert
áá, 3
.
áá3 4
ToInt32
áá4 ;
(
áá; <
Objeto
áá< B
.
ááB C
cod_articulo
ááC O
)
ááO P
)
ááP Q
;
ááQ R
Objeto
àà 
.
àà 
tipo
àà 
=
àà  !
tipo
àà" &
;
àà& '
}
ââ 
_context
ää 
.
ää 
objeto
ää 
.
ää  
Add
ää  #
(
ää# $
Objeto
ää$ *
)
ää* +
;
ää+ ,
result
ãã 
=
ãã 
_context
ãã !
.
ãã! "
SaveChanges
ãã" -
(
ãã- .
)
ãã. /
;
ãã/ 0
if
åå 
(
åå 
result
åå 
>
åå 
$num
åå 
)
åå 
{
çç 
if
éé 
(
éé 
Objeto
éé 
.
éé 
tipo_articulo
éé +
==
éé, .
$num
éé/ 0
)
éé0 1
{
èè 
depreciacion
êê $
datDepreciacion
êê% 4
=
êê5 6
_context
êê7 ?
.
êê? @
depreciacion
êê@ L
.
êêL M
Where
êêM R
(
êêR S
x
êêS T
=>
êêU W
x
êêX Y
.
êêY Z
id
êêZ \
==
êê] _
idDepreciacion
êê` n
)
êên o
.
êêo p
First
êêp u
(
êêu v
)
êêv w
;
êêw x
if
ëë 
(
ëë 
datDepreciacion
ëë *
!=
ëë+ -
null
ëë. 2
)
ëë2 3
{
íí 
try
ìì 
{
îî 
datDepreciacion
ïï  /
.
ïï/ 0

inventario
ïï0 :
=
ïï; <
$num
ïï= >
;
ïï> ?
datDepreciacion
ññ  /
.
ññ/ 0
placa_af
ññ0 8
=
ññ9 :
Objeto
ññ; A
.
ññA B
af
ññB D
;
ññD E
datDepreciacion
óó  /
.
óó/ 0
cuota
óó0 5
=
óó6 7
Convert
óó8 ?
.
óó? @
ToInt32
óó@ G
(
óóG H
Objeto
óóH N
.
óóN O
valor
óóO T
)
óóT U
/
óóV W
datDepreciacion
óóX g
.
óóg h
v_util
óóh n
;
óón o
_context
òò  (
.
òò( )
depreciacion
òò) 5
.
òò5 6
Update
òò6 <
(
òò< =
datDepreciacion
òò= L
)
òòL M
;
òòM N
result2
ôô  '
=
ôô( )
_context
ôô* 2
.
ôô2 3
SaveChanges
ôô3 >
(
ôô> ?
)
ôô? @
;
ôô@ A
}
úú 
catch
ùù !
(
ùù! "
	Exception
ùù" +
e
ùù, -
)
ùù- .
{
ûû 
var
††  #
st
††$ &
=
††' (
new
††) ,

StackTrace
††- 7
(
††7 8
)
††8 9
;
††9 :
var
°°  #
sf
°°$ &
=
°°' (
st
°°) +
.
°°+ ,
GetFrame
°°, 4
(
°°4 5
$num
°°5 6
)
°°6 7
;
°°7 8
General
££  '
.
££' (
CrearLogError
££( 5
(
££5 6
sf
££6 8
.
££8 9
	GetMethod
££9 B
(
££B C
)
££C D
.
££D E
Name
££E I
,
££I J
$str
££K Y
,
££Y Z
e
££[ \
.
££\ ]
Message
££] d
,
££d e
_config
££f m
.
££m n"
GetConnectionString££n Å
(££Å Ç
$str££Ç å
)££å ç
)££ç é
;££é è
}
§§ 
}
•• 
}
¶¶ 
}
ßß 
if
™™ 
(
™™ 
result
™™ 
>
™™ 
$num
™™ 
&&
™™ !
result2
™™" )
>
™™* +
$num
™™, -
)
™™- .
{
´´ 
mensaje
≠≠ 
=
≠≠ 
$str
≠≠ <
;
≠≠< =
}
ÆÆ 
else
ØØ 
{
∞∞ 
if
±± 
(
±± 
result
±± 
>
±± 
$num
±±  !
)
±±! "
{
≤≤ 
mensaje
≥≥ 
=
≥≥  !
$str
≥≥" @
;
≥≥@ A
}
¥¥ 
else
µµ 
{
∂∂ 
mensaje
∑∑ 
=
∑∑  !
$str
∑∑" >
;
∑∑> ?
}
∏∏ 
}
∫∫ 
}
ªª 
catch
ºº 
(
ºº 
	Exception
ºº 
e
ºº 
)
ºº 
{
ΩΩ 
var
ææ 
st
ææ 
=
ææ 
new
ææ 

StackTrace
ææ '
(
ææ' (
)
ææ( )
;
ææ) *
var
øø 
sf
øø 
=
øø 
st
øø 
.
øø 
GetFrame
øø $
(
øø$ %
$num
øø% &
)
øø& '
;
øø' (
General
¡¡ 
.
¡¡ 
CrearLogError
¡¡ %
(
¡¡% &
sf
¡¡& (
.
¡¡( )
	GetMethod
¡¡) 2
(
¡¡2 3
)
¡¡3 4
.
¡¡4 5
Name
¡¡5 9
,
¡¡9 :
$str
¡¡; C
,
¡¡C D
e
¡¡E F
.
¡¡F G
Message
¡¡G N
,
¡¡N O
_config
¡¡P W
.
¡¡W X!
GetConnectionString
¡¡X k
(
¡¡k l
$str
¡¡l v
)
¡¡v w
)
¡¡w x
;
¡¡x y
}
¬¬ 
string
√√ 
json
√√ 
=
√√ 
JsonConvert
√√ %
.
√√% &
SerializeObject
√√& 5
(
√√5 6
new
√√6 9
{
√√: ;
Result
√√< B
=
√√C D
result
√√E K
,
√√K L
Mensaje
√√M T
=
√√U V
mensaje
√√W ^
}
√√_ `
)
√√` a
;
√√a b
return
ƒƒ 
Ok
ƒƒ 
(
ƒƒ 
json
ƒƒ 
)
ƒƒ 
;
ƒƒ 
}
≈≈ 	
[
«« 	
HttpGet
««	 
(
«« 
$str
«« $
)
««$ %
]
««% &
[
»» 	
	Authorize
»»	 
]
»» 
public
…… 
IActionResult
…… 
Edit
…… !
(
……! "
int
……" %
Id
……& (
,
……( )
[
……* +
FromBody
……+ 3
]
……3 4
objeto
……5 ;
Objeto
……< B
)
……B C
{
   	
int
ÀÀ 
result
ÀÀ 
=
ÀÀ 
$num
ÀÀ 
;
ÀÀ 
string
ÃÃ 
mensaje
ÃÃ 
=
ÃÃ 
$str
ÃÃ 
;
ÃÃ  
try
ÕÕ 
{
ŒŒ 
if
œœ 
(
œœ 
Id
œœ 
==
œœ 
Objeto
œœ 
.
œœ  
id
œœ  "
)
œœ" #
{
–– 
_context
—— 
.
—— 
objeto
—— #
.
——# $
Update
——$ *
(
——* +
Objeto
——+ 1
)
——1 2
;
——2 3
result
““ 
=
““ 
_context
““ %
.
““% &
SaveChanges
““& 1
(
““1 2
)
““2 3
;
““3 4
if
”” 
(
”” 
result
”” 
>
””  
$num
””! "
)
””" #
{
‘‘ 
mensaje
’’ 
=
’’  !
$str
’’" 8
;
’’8 9
}
÷÷ 
else
◊◊ 
{
ÿÿ 
mensaje
ŸŸ 
=
ŸŸ  !
$str
ŸŸ" 7
;
ŸŸ7 8
}
⁄⁄ 
}
€€ 
}
‹‹ 
catch
›› 
(
›› 
	Exception
›› 
e
›› 
)
›› 
{
ﬁﬁ 
var
ﬂﬂ 
st
ﬂﬂ 
=
ﬂﬂ 
new
ﬂﬂ 

StackTrace
ﬂﬂ '
(
ﬂﬂ' (
)
ﬂﬂ( )
;
ﬂﬂ) *
var
‡‡ 
sf
‡‡ 
=
‡‡ 
st
‡‡ 
.
‡‡ 
GetFrame
‡‡ $
(
‡‡$ %
$num
‡‡% &
)
‡‡& '
;
‡‡' (
General
‚‚ 
.
‚‚ 
CrearLogError
‚‚ %
(
‚‚% &
sf
‚‚& (
.
‚‚( )
	GetMethod
‚‚) 2
(
‚‚2 3
)
‚‚3 4
.
‚‚4 5
Name
‚‚5 9
,
‚‚9 :
$str
‚‚; C
,
‚‚C D
e
‚‚E F
.
‚‚F G
Message
‚‚G N
,
‚‚N O
_config
‚‚P W
.
‚‚W X!
GetConnectionString
‚‚X k
(
‚‚k l
$str
‚‚l v
)
‚‚v w
)
‚‚w x
;
‚‚x y
}
„„ 
string
‰‰ 
json
‰‰ 
=
‰‰ 
JsonConvert
‰‰ %
.
‰‰% &
SerializeObject
‰‰& 5
(
‰‰5 6
new
‰‰6 9
{
‰‰: ;
Result
‰‰< B
=
‰‰C D
result
‰‰E K
,
‰‰K L
Mensaje
‰‰M T
=
‰‰U V
mensaje
‰‰W ^
}
‰‰_ `
)
‰‰` a
;
‰‰a b
return
ÂÂ 
Ok
ÂÂ 
(
ÂÂ 
json
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÊÊ 	
[
ËË 	
HttpPost
ËË	 
(
ËË 
$str
ËË "
)
ËË" #
]
ËË# $
[
ÈÈ 	
	Authorize
ÈÈ	 
]
ÈÈ 
public
ÍÍ 
IActionResult
ÍÍ 
busquedaObjeto
ÍÍ +
(
ÍÍ+ ,
[
ÍÍ, -
FromBody
ÍÍ- 5
]
ÍÍ5 6
objeto
ÍÍ7 =
ObjetoB
ÍÍ> E
)
ÍÍE F
{
ÎÎ 	
List
ÏÏ 
<
ÏÏ "
dataBusquedaCompleta
ÏÏ %
>
ÏÏ% &
busqueda
ÏÏ' /
=
ÏÏ0 1
new
ÏÏ2 5
List
ÏÏ6 :
<
ÏÏ: ;"
dataBusquedaCompleta
ÏÏ; O
>
ÏÏO P
(
ÏÏP Q
)
ÏÏQ R
;
ÏÏR S
try
ÌÌ 
{
ÓÓ 
var
ÔÔ 
data
ÔÔ 
=
ÔÔ 
_context
ÔÔ #
.
ÔÔ# $
objeto
ÔÔ$ *
.
ÔÔ* +
Where
ÔÔ+ 0
(
ÔÔ0 1
x
ÔÔ1 2
=>
ÔÔ3 5
x
ÔÔ6 7
.
ÔÔ7 8
af
ÔÔ8 :
==
ÔÔ; =
ObjetoB
ÔÔ> E
.
ÔÔE F
af
ÔÔF H
||
ÔÔI K
x
6 7
.
7 8
imei
8 <
==
= ?
ObjetoB
@ G
.
G H
imei
H L
||
M O
x
ÒÒ6 7
.
ÒÒ7 8
descripcion
ÒÒ8 C
.
ÒÒC D
Contains
ÒÒD L
(
ÒÒL M
ObjetoB
ÒÒM T
.
ÒÒT U
descripcion
ÒÒU `
)
ÒÒ` a
)
ÒÒa b
.
ÒÒb c
ToList
ÒÒc i
(
ÒÒi j
)
ÒÒj k
;
ÒÒk l
if
ÚÚ 
(
ÚÚ 
data
ÚÚ 
==
ÚÚ 
null
ÚÚ 
)
ÚÚ  
{
ÛÛ 
return
ÙÙ 
null
ÙÙ 
;
ÙÙ  
}
ıı 
foreach
ˆˆ 
(
ˆˆ 
objeto
ˆˆ 
item
ˆˆ #
in
ˆˆ$ &
data
ˆˆ' +
)
ˆˆ+ ,
{
˜˜ "
dataBusquedaCompleta
¯¯ (
busq
¯¯) -
=
¯¯. /
new
¯¯0 3"
dataBusquedaCompleta
¯¯4 H
(
¯¯H I
)
¯¯I J
;
¯¯J K
busq
˘˘ 
.
˘˘ 
id
˘˘ 
=
˘˘ 
item
˘˘ "
.
˘˘" #
id
˘˘# %
;
˘˘% &
busq
˙˙ 
.
˙˙ 
valor1
˙˙ 
=
˙˙  !
item
˙˙" &
.
˙˙& '
descripcion
˙˙' 2
;
˙˙2 3
busq
˚˚ 
.
˚˚ 
valor2
˚˚ 
=
˚˚  !
item
˚˚" &
.
˚˚& '
af
˚˚' )
;
˚˚) *
busq
¸¸ 
.
¸¸ 
valor3
¸¸ 
=
¸¸  !
item
¸¸" &
.
¸¸& '
imei
¸¸' +
;
¸¸+ ,
busq
˝˝ 
.
˝˝ 
valor4
˝˝ 
=
˝˝  !
$str
˝˝" $
;
˝˝$ %
busq
˛˛ 
.
˛˛ 
valor5
˛˛ 
=
˛˛  !
$str
˛˛" $
;
˛˛$ %
busqueda
ÄÄ 
.
ÄÄ 
Add
ÄÄ  
(
ÄÄ  !
busq
ÄÄ! %
)
ÄÄ% &
;
ÄÄ& '
}
ÅÅ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
e
ÑÑ 
)
ÑÑ 
{
ÖÖ 
var
ÜÜ 
st
ÜÜ 
=
ÜÜ 
new
ÜÜ 

StackTrace
ÜÜ '
(
ÜÜ' (
)
ÜÜ( )
;
ÜÜ) *
var
áá 
sf
áá 
=
áá 
st
áá 
.
áá 
GetFrame
áá $
(
áá$ %
$num
áá% &
)
áá& '
;
áá' (
General
ââ 
.
ââ 
CrearLogError
ââ %
(
ââ% &
sf
ââ& (
.
ââ( )
	GetMethod
ââ) 2
(
ââ2 3
)
ââ3 4
.
ââ4 5
Name
ââ5 9
,
ââ9 :
$str
ââ; C
,
ââC D
e
ââE F
.
ââF G
Message
ââG N
,
ââN O
_config
ââP W
.
ââW X!
GetConnectionString
ââX k
(
ââk l
$str
ââl v
)
ââv w
)
ââw x
;
ââx y
}
ää 
return
åå 
Ok
åå 
(
åå 
busqueda
åå 
)
åå 
;
åå  
}
çç 	
[
éé 	
HttpPost
éé	 
(
éé 
$str
éé '
)
éé' (
]
éé( )
[
èè 	
	Authorize
èè	 
]
èè 
public
êê 
IActionResult
êê 
	getObjeto
êê &
(
êê& '
[
êê' (
FromBody
êê( 0
]
êê0 1
objeto
êê2 8
objetoB
êê9 @
)
êê@ A
{
ëë 	
var
íí 
data
íí 
=
íí 
new
íí 
Object
íí !
(
íí! "
)
íí" #
;
íí# $
try
ìì 
{
îî 
data
ïï 
=
ïï 
_context
ïï 
.
ïï  
objeto
ïï  &
.
ïï& '
Where
ïï' ,
(
ïï, -
x
ïï- .
=>
ïï/ 1
x
ïï2 3
.
ïï3 4
id
ïï4 6
==
ïï7 9
objetoB
ïï: A
.
ïïA B
id
ïïB D
)
ïïD E
.
ïïE F
First
ïïF K
(
ïïK L
)
ïïL M
;
ïïM N
if
ññ 
(
ññ 
data
ññ 
==
ññ 
null
ññ 
)
ññ  
{
óó 
return
òò 
null
òò 
;
òò  
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
e
õõ 
)
õõ 
{
úú 
var
ùù 
st
ùù 
=
ùù 
new
ùù 

StackTrace
ùù '
(
ùù' (
)
ùù( )
;
ùù) *
var
ûû 
sf
ûû 
=
ûû 
st
ûû 
.
ûû 
GetFrame
ûû $
(
ûû$ %
$num
ûû% &
)
ûû& '
;
ûû' (
General
†† 
.
†† 
CrearLogError
†† %
(
††% &
sf
††& (
.
††( )
	GetMethod
††) 2
(
††2 3
)
††3 4
.
††4 5
Name
††5 9
,
††9 :
$str
††; C
,
††C D
e
††E F
.
††F G
Message
††G N
,
††N O
_config
††P W
.
††W X!
GetConnectionString
††X k
(
††k l
$str
††l v
)
††v w
)
††w x
;
††x y
}
°° 
return
¢¢ 
Ok
¢¢ 
(
¢¢ 
data
¢¢ 
)
¢¢ 
;
¢¢ 
}
££ 	
public
•• 
List
•• 
<
•• #
articulosBusquedaFijo
•• )
>
••) *
getArticuloFijo
••+ :
(
••: ;
string
••; A
id
••B D
)
••D E
{
¶¶ 	
List
ßß 
<
ßß #
articulosBusquedaFijo
ßß &
>
ßß& '
articulosFijos
ßß( 6
=
ßß7 8
new
ßß9 <
List
ßß= A
<
ßßA B#
articulosBusquedaFijo
ßßB W
>
ßßW X
(
ßßX Y
)
ßßY Z
;
ßßZ [
string
®® 
qwery
®® 
=
®® 
$str
®® 
;
®® 
try
©© 
{
™™ 
qwery
´´ 
=
´´ 
$str
´´ 7
+
´´7 8
$str
¨¨ ;
+
¨¨; <
$str
≠≠ 9
+
≠≠9 :
$str
ÆÆ 5
+
ÆÆ5 6
$str
ØØ B
+
ØØB C
$str
∞∞ 6
+
∞∞6 7
$str
±± 7
+
±±7 8
$str
≤≤ 6
+
≤≤6 7
$str
≥≥ :
+
≥≥: ;
$str
¥¥ .
+
¥¥. /
$str
µµ c
+
µµc d
$str
∂∂ _
+
∂∂_ `
$str
∑∑ 5
;
∑∑5 6
using
∏∏ 
(
∏∏ 
SqlConnection
∏∏ $
con
∏∏% (
=
∏∏) *
new
∏∏+ .
SqlConnection
∏∏/ <
(
∏∏< =
_config
∏∏= D
.
∏∏D E!
GetConnectionString
∏∏E X
(
∏∏X Y
$str
∏∏Y c
)
∏∏c d
)
∏∏d e
)
∏∏e f
{
ππ 
using
∫∫ 
(
∫∫ 

SqlCommand
∫∫ %
cmd
∫∫& )
=
∫∫* +
new
∫∫, /

SqlCommand
∫∫0 :
(
∫∫: ;
qwery
∫∫; @
)
∫∫@ A
)
∫∫A B
{
ªª 
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
Add
ºº' *
(
ºº* +
new
ºº+ .
SqlParameter
ºº/ ;
(
ºº; <
$str
ºº< A
,
ººA B
System
ººC I
.
ººI J
Data
ººJ N
.
ººN O
	SqlDbType
ººO X
.
ººX Y
VarChar
ººY `
)
ºº` a
)
ººa b
;
ººb c
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
[
ΩΩ& '
$str
ΩΩ' ,
]
ΩΩ, -
.
ΩΩ- .
Value
ΩΩ. 3
=
ΩΩ4 5
id
ΩΩ6 8
;
ΩΩ8 9
cmd
ææ 
.
ææ 

Connection
ææ &
=
ææ' (
con
ææ) ,
;
ææ, -
con
øø 
.
øø 
Open
øø  
(
øø  !
)
øø! "
;
øø" #
using
¿¿ 
(
¿¿ 
SqlDataReader
¿¿ ,
srd
¿¿- 0
=
¿¿1 2
cmd
¿¿3 6
.
¿¿6 7
ExecuteReader
¿¿7 D
(
¿¿D E
)
¿¿E F
)
¿¿F G
{
¡¡ 
while
¬¬ !
(
¬¬" #
srd
¬¬# &
.
¬¬& '
Read
¬¬' +
(
¬¬+ ,
)
¬¬, -
)
¬¬- .
{
√√ 
articulosFijos
ƒƒ  .
.
ƒƒ. /
Add
ƒƒ/ 2
(
ƒƒ2 3
new
ƒƒ3 6#
articulosBusquedaFijo
ƒƒ7 L
{
≈≈  !
Id
∆∆$ &
=
∆∆' (
Convert
∆∆) 0
.
∆∆0 1
ToInt32
∆∆1 8
(
∆∆8 9
srd
∆∆9 <
[
∆∆< =
$str
∆∆= A
]
∆∆A B
)
∆∆B C
,
∆∆C D
Id_ped
««$ *
=
««+ ,
Convert
««- 4
.
««4 5
ToInt32
««5 <
(
««< =
srd
««= @
[
««@ A
$str
««A I
]
««I J
)
««J K
,
««K L
Codigo
»»$ *
=
»»+ ,
srd
»»- 0
[
»»0 1
$str
»»1 9
]
»»9 :
+
»»; <
$str
»»= ?
,
»»? @
Usuario
……$ +
=
……, -
srd
……. 1
[
……1 2
$str
……2 ;
]
……; <
+
……= >
$str
……? A
,
……A B
Descripcion
  $ /
=
  0 1
srd
  2 5
[
  5 6
$str
  6 C
]
  C D
+
  E F
$str
  G I
,
  I J
Grupo
ÀÀ$ )
=
ÀÀ* +
srd
ÀÀ, /
[
ÀÀ/ 0
$str
ÀÀ0 7
]
ÀÀ7 8
+
ÀÀ9 :
$str
ÀÀ; =
,
ÀÀ= >
Valor
ÃÃ$ )
=
ÃÃ* +
Convert
ÃÃ, 3
.
ÃÃ3 4
ToDouble
ÃÃ4 <
(
ÃÃ< =
srd
ÃÃ= @
[
ÃÃ@ A
$str
ÃÃA H
]
ÃÃH I
)
ÃÃI J
,
ÃÃJ K
CECO
ÕÕ$ (
=
ÕÕ) *
srd
ÕÕ+ .
[
ÕÕ. /
$str
ÕÕ/ 5
]
ÕÕ5 6
+
ÕÕ7 8
$str
ÕÕ9 ;
,
ÕÕ; <
V_util
ŒŒ$ *
=
ŒŒ+ ,
Convert
ŒŒ- 4
.
ŒŒ4 5
ToInt32
ŒŒ5 <
(
ŒŒ< =
srd
ŒŒ= @
[
ŒŒ@ A
$str
ŒŒA I
]
ŒŒI J
)
ŒŒJ K
}
œœ  !
)
œœ! "
;
œœ" #
}
–– 
}
—— 
con
““ 
.
““ 
Close
““ !
(
““! "
)
““" #
;
““# $
}
”” 
}
‘‘ 
}
’’ 
catch
÷÷ 
(
÷÷ 
	Exception
÷÷ 
e
÷÷ 
)
÷÷ 
{
◊◊ 
var
ÿÿ 
st
ÿÿ 
=
ÿÿ 
new
ÿÿ 

StackTrace
ÿÿ '
(
ÿÿ' (
)
ÿÿ( )
;
ÿÿ) *
var
ŸŸ 
sf
ŸŸ 
=
ŸŸ 
st
ŸŸ 
.
ŸŸ 
GetFrame
ŸŸ $
(
ŸŸ$ %
$num
ŸŸ% &
)
ŸŸ& '
;
ŸŸ' (
General
€€ 
.
€€ 
CrearLogError
€€ %
(
€€% &
sf
€€& (
.
€€( )
	GetMethod
€€) 2
(
€€2 3
)
€€3 4
.
€€4 5
Name
€€5 9
,
€€9 :
$str
€€; I
,
€€I J
e
€€K L
.
€€L M
Message
€€M T
,
€€T U
_config
€€V ]
.
€€] ^!
GetConnectionString
€€^ q
(
€€q r
$str
€€r |
)
€€| }
)
€€} ~
;
€€~ 
}
‹‹ 
return
›› 
articulosFijos
›› !
;
››! "
}
ﬁﬁ 	
public
‡‡ 
int
‡‡ 
TipoArticulo
‡‡ 
(
‡‡  
int
‡‡  #
codigoArticulo
‡‡$ 2
)
‡‡2 3
{
·· 	
int
‚‚ 
tipo
‚‚ 
=
‚‚ 
$num
‚‚ 
;
‚‚ 
var
„„ 
data
„„ 
=
„„ 
_context
„„ 
.
„„  
articulos_af
„„  ,
.
„„, -
Where
„„- 2
(
„„2 3
x
„„3 4
=>
„„5 7
x
„„8 9
.
„„9 :
codigo
„„: @
==
„„A C
codigoArticulo
„„D R
)
„„R S
.
„„S T
First
„„T Y
(
„„Y Z
)
„„Z [
;
„„[ \
if
‰‰ 
(
‰‰ 
data
‰‰ 
!=
‰‰ 
null
‰‰ 
)
‰‰ 
{
ÂÂ 
switch
ÊÊ 
(
ÊÊ 
data
ÊÊ 
.
ÊÊ 
grupo
ÊÊ "
)
ÊÊ" #
{
ÁÁ 
case
ËË 
$str
ËË "
:
ËË" #
tipo
ÈÈ 
=
ÈÈ 
$num
ÈÈ  
;
ÈÈ  !
break
ÍÍ 
;
ÍÍ 
case
ÎÎ 
$str
ÎÎ '
:
ÎÎ' (
tipo
ÏÏ 
=
ÏÏ 
$num
ÏÏ  
;
ÏÏ  !
break
ÌÌ 
;
ÌÌ 
case
ÓÓ 
$str
ÓÓ &
:
ÓÓ& '
tipo
ÔÔ 
=
ÔÔ 
$num
ÔÔ  
;
ÔÔ  !
break
 
;
 
case
ÒÒ 
$str
ÒÒ #
:
ÒÒ# $
tipo
ÚÚ 
=
ÚÚ 
$num
ÚÚ  
;
ÚÚ  !
break
ÛÛ 
;
ÛÛ 
case
ÙÙ 
$str
ÙÙ %
:
ÙÙ% &
tipo
ıı 
=
ıı 
$num
ıı  
;
ıı  !
break
ˆˆ 
;
ˆˆ 
case
˜˜ 
$str
˜˜ 
:
˜˜ 
tipo
¯¯ 
=
¯¯ 
$num
¯¯  
;
¯¯  !
break
˘˘ 
;
˘˘ 
default
˙˙ 
:
˙˙ 
tipo
˚˚ 
=
˚˚ 
$num
˚˚  
;
˚˚  !
break
¸¸ 
;
¸¸ 
}
˝˝ 
}
˛˛ 
return
ˇˇ 
tipo
ˇˇ 
;
ˇˇ 
}
ÄÄ 	
}
ÅÅ 
}ÇÇ Ã˙
JE:\GITEA\siscointBKII\siscointBKII\Controllers\busquedaRapidaController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
busquedaRapidaController )
:* +
ControllerBase, :
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public $
busquedaRapidaController '
(' (
AplicationDbContext( ;
context< C
,C D
IConfigurationE S
configT Z
)Z [
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpPost	 
( 
$str 
) 
] 
[ 	
	Authorize	 
] 
public 
IActionResult 
Index "
(" #
dynamic# *
dato+ /
)/ 0
{ 	
List   
<   
dataBusqueda   
>   
buscados   '
=  ( )
new  * -
List  . 2
<  2 3
dataBusqueda  3 ?
>  ? @
(  @ A
)  A B
;  B C
try!! 
{"" 
string## 
dat## 
=## 
System## #
.### $
Text##$ (
.##( )
Json##) -
.##- .
JsonSerializer##. <
.##< =
	Serialize##= F
(##F G
dato##G K
)##K L
;##L M
List$$ 
<$$ 
busquedaRapidaModel$$ (
>$$( )
abuscar$$* 1
=$$2 3
JsonConvert$$4 ?
.$$? @
DeserializeObject$$@ Q
<$$Q R
List$$R V
<$$V W
busquedaRapidaModel$$W j
>$$j k
>$$k l
($$l m
dat$$m p
)$$p q
;$$q r
buscados%% 
=%%  
searchBusquedaRapida%% /
(%%/ 0
abuscar%%0 7
)%%7 8
;%%8 9
}&& 
catch'' 
('' 
	Exception'' 
e'' 
)'' 
{(( 
}** 
return++ 
Ok++ 
(++ 
buscados++ 
)++ 
;++  
},, 	
private// 
List// 
<// 
dataBusqueda// "
>//" # 
searchBusquedaRapida//$ 8
(//8 9
List//9 =
<//= >
busquedaRapidaModel//> Q
>//Q R
	abusqueda//S \
)//\ ]
{00 	
List11 
<11 
dataBusqueda11 
>11 
	buscadosS11 (
=11) *
new11+ .
List11/ 3
<113 4
dataBusqueda114 @
>11@ A
(11A B
)11B C
;11C D
string22 
valor22 
=22 
$str22 
;22 
string33 
	parametro33 
=33 
$str33 !
;33! "
foreach44 
(44 
busquedaRapidaModel44 '
item44( ,
in44- /
	abusqueda440 9
)449 :
{55 
var66 
busqueda66 
=66 
new66 "
Object66# )
(66) *
)66* +
;66+ ,
try77 
{88 
switch99 
(99 
item99  
.99  !
entidad99! (
)99( )
{:: 
case;; 
$str;; *
:;;* +
List<<  
<<<  !
area_ccosto<<! ,
><<, -
area_ccostos<<. :
=<<; <
new<<= @
List<<A E
<<<E F
area_ccosto<<F Q
><<Q R
(<<R S
)<<S T
;<<T U
valor== !
===" #
item==$ (
.==( )
valor==) .
;==. /
if>> 
(>>  
valor>>  %
==>>& (
$str>>) ,
)>>, -
{?? 
area_ccostosAA  ,
=AA- .
_contextAA/ 7
.AA7 8
area_ccostoAA8 C
.AAC D
ToListAAD J
(AAJ K
)AAK L
;AAL M
;AAN O
}BB 
elseCC  
{DD 
area_ccostosEE  ,
=EE- .
_contextEE/ 7
.EE7 8
area_ccostoEE8 C
.EEC D
WhereEED I
(EEI J
xEEJ K
=>EEL N
xEEO P
.EEP Q
ccostoEEQ W
==EEX Z
ConvertEE[ b
.EEb c
ToInt32EEc j
(EEj k
valorEEk p
)EEp q
||EEr t
xEEu v
.EEv w
areaEEw {
==EE| ~
valor	EE Ñ
)
EEÑ Ö
.
EEÖ Ü
ToList
EEÜ å
(
EEå ç
)
EEç é
;
EEé è
}FF 
ifHH 
(HH 
area_ccostosHH +
.HH+ ,
CountHH, 1
(HH1 2
)HH2 3
>HH4 5
$numHH6 7
)HH7 8
{II 
foreachJJ  '
(JJ' (
area_ccostoJJ( 3
iJJ4 5
inJJ6 8
area_ccostosJJ9 E
)JJE F
{KK  !
dataBusquedaLL$ 0
dataLL1 5
=LL6 7
newLL8 ;
dataBusquedaLL< H
(LLH I
)LLI J
;LLJ K
dataMM$ (
.MM( )
idMM) +
=MM, -
iMM. /
.MM/ 0
idMM0 2
;MM2 3
dataNN$ (
.NN( )
valor1NN) /
=NN0 1
iNN2 3
.NN3 4
ccostoNN4 :
+NN; <
$strNN= ?
;NN? @
dataOO$ (
.OO( )
valor2OO) /
=OO0 1
iOO2 3
.OO3 4
areaOO4 8
;OO8 9
dataPP$ (
.PP( )
valor3PP) /
=PP0 1
$strPP2 4
;PP4 5
dataQQ$ (
.QQ( )
valor4QQ) /
=QQ0 1
$strQQ2 4
;QQ4 5
dataRR$ (
.RR( )
valor5RR) /
=RR0 1
$strRR2 4
;RR4 5
dataSS$ (
.SS( )
valor6SS) /
=SS0 1
$strSS2 4
;SS4 5
dataTT$ (
.TT( )
valor7TT) /
=TT0 1
$strTT2 4
;TT4 5
dataUU$ (
.UU( )
valor8UU) /
=UU0 1
$strUU2 4
;UU4 5
	buscadosSVV$ -
.VV- .
AddVV. 1
(VV1 2
dataVV2 6
)VV6 7
;VV7 8
}WW  !
}XX 
breakYY !
;YY! "
caseZZ 
$strZZ 0
:ZZ0 1
List[[  
<[[  !
area_ccosto[[! ,
>[[, -
area_ccostos_[[. ;
=[[< =
new[[> A
List[[B F
<[[F G
area_ccosto[[G R
>[[R S
([[S T
)[[T U
;[[U V
valor\\ !
=\\" #
item\\$ (
.\\( )
valor\\) .
;\\. /
if]] 
(]]  
valor]]  %
==]]& (
$str]]) ,
)]], -
{^^ 
area_ccostos_``  -
=``. /
_context``0 8
.``8 9
area_ccosto``9 D
.``D E
ToList``E K
(``K L
)``L M
;``M N
;``O P
}aa 
elsebb  
{cc 
area_ccostos_dd  -
=dd. /
_contextdd0 8
.dd8 9
area_ccostodd9 D
.ddD E
WhereddE J
(ddJ K
xddK L
=>ddM O
xddP Q
.ddQ R
ccostoddR X
==ddY [
Convertdd\ c
.ddc d
ToInt32ddd k
(ddk l
valorddl q
)ddq r
||dds u
xddv w
.ddw x
areaddx |
==dd} 
valor
ddÄ Ö
)
ddÖ Ü
.
ddÜ á
ToList
ddá ç
(
ddç é
)
ddé è
;
ddè ê
}ee 
ifgg 
(gg  
area_ccostos_gg  -
.gg- .
Countgg. 3
(gg3 4
)gg4 5
>gg6 7
$numgg8 9
)gg9 :
{hh 
foreachii  '
(ii( )
area_ccostoii) 4
iii5 6
inii7 9
area_ccostos_ii: G
)iiG H
{jj  !
dataBusquedakk$ 0
datakk1 5
=kk6 7
newkk8 ;
dataBusquedakk< H
(kkH I
)kkI J
;kkJ K
datall$ (
.ll( )
idll) +
=ll, -
ill. /
.ll/ 0
idll0 2
;ll2 3
datamm$ (
.mm( )
valor1mm) /
=mm0 1
imm2 3
.mm3 4
ccostomm4 :
+mm; <
$strmm= ?
;mm? @
datann$ (
.nn( )
valor2nn) /
=nn0 1
inn2 3
.nn3 4
areann4 8
;nn8 9
dataoo$ (
.oo( )
valor3oo) /
=oo0 1
$stroo2 4
;oo4 5
datapp$ (
.pp( )
valor4pp) /
=pp0 1
$strpp2 4
;pp4 5
dataqq$ (
.qq( )
valor5qq) /
=qq0 1
$strqq2 4
;qq4 5
datarr$ (
.rr( )
valor6rr) /
=rr0 1
$strrr2 4
;rr4 5
datass$ (
.ss( )
valor7ss) /
=ss0 1
$strss2 4
;ss4 5
datatt$ (
.tt( )
valor8tt) /
=tt0 1
$strtt2 4
;tt4 5
	buscadosSuu$ -
.uu- .
Adduu. 1
(uu1 2
datauu2 6
)uu6 7
;uu7 8
}vv  !
}ww 
breakxx !
;xx! "
casezz 
$strzz 1
:zz1 2
valor{{ !
={{" #
item{{$ (
.{{( )
valor{{) .
;{{. /
if|| 
(|| 
valor|| $
!=||% '
$str||( *
)||* +
{}} 
List~~  $
<~~$ %
articulosBusqueda~~% 6
>~~6 7
articulosDevolucion~~8 K
=~~L M(
busquedaArticulosDevolutivos~~N j
(~~j k
valor~~k p
)~~p q
;~~q r
if  "
(" #
articulosDevolucion# 6
.6 7
Count7 <
(< =
)= >
>? @
$numA B
)B C
{
ÄÄ  !
foreach
ÅÅ# *
(
ÅÅ* +
articulosBusqueda
ÅÅ+ <
i
ÅÅ= >
in
ÅÅ? A!
articulosDevolucion
ÅÅB U
)
ÅÅU V
{
ÇÇ$ %
dataBusqueda
ÉÉ( 4
data
ÉÉ5 9
=
ÉÉ: ;
new
ÉÉ< ?
dataBusqueda
ÉÉ@ L
(
ÉÉL M
)
ÉÉM N
;
ÉÉN O
data
ÑÑ( ,
.
ÑÑ, -
id
ÑÑ- /
=
ÑÑ0 1
i
ÑÑ2 3
.
ÑÑ3 4
Id
ÑÑ4 6
;
ÑÑ6 7
data
ÖÖ( ,
.
ÖÖ, -
valor1
ÖÖ- 3
=
ÖÖ4 5
i
ÖÖ6 7
.
ÖÖ7 8
Codigo
ÖÖ8 >
;
ÖÖ> ?
data
ÜÜ( ,
.
ÜÜ, -
valor2
ÜÜ- 3
=
ÜÜ4 5
i
ÜÜ6 7
.
ÜÜ7 8
Descripcion
ÜÜ8 C
;
ÜÜC D
data
áá( ,
.
áá, -
valor3
áá- 3
=
áá4 5
i
áá6 7
.
áá7 8
Tipo
áá8 <
+
áá< =
$str
áá= ?
;
áá? @
data
àà( ,
.
àà, -
valor4
àà- 3
=
àà4 5
$str
àà6 8
;
àà8 9
data
ââ( ,
.
ââ, -
valor5
ââ- 3
=
ââ4 5
$str
ââ6 8
;
ââ8 9
data
ää( ,
.
ää, -
valor6
ää- 3
=
ää4 5
$str
ää6 8
;
ää8 9
data
ãã( ,
.
ãã, -
valor7
ãã- 3
=
ãã4 5
$str
ãã6 8
;
ãã8 9
data
åå( ,
.
åå, -
valor8
åå- 3
=
åå4 5
$str
åå6 8
;
åå8 9
	buscadosS
çç( 1
.
çç1 2
Add
çç2 5
(
çç5 6
data
çç6 :
)
çç: ;
;
çç; <
}
éé$ %
}
èè  !
}
êê 
break
ëë !
;
ëë! "
case
íí 
$str
íí 1
:
íí1 2
valor
ìì !
=
ìì" #
item
ìì$ (
.
ìì( )
valor
ìì) .
;
ìì. /
if
îî 
(
îî 
valor
îî $
!=
îî% '
$str
îî( *
)
îî* +
{
ïï 
List
ññ  $
<
ññ$ %#
articulosBusquedaFijo
ññ% :
>
ññ: ;!
articulosActivoFijo
ññ< O
=
ññP Q"
BusquedaArticuloFijo
ññR f
(
ññf g
valor
ññg l
)
ññl m
;
ññm n
if
óó  "
(
óó" #!
articulosActivoFijo
óó# 6
.
óó6 7
Count
óó7 <
(
óó< =
)
óó= >
>
óó? @
$num
óóA B
)
óóB C
{
òò  !
foreach
ôô$ +
(
ôô+ ,#
articulosBusquedaFijo
ôô, A
i
ôôB C
in
ôôD F!
articulosActivoFijo
ôôG Z
)
ôôZ [
{
öö$ %
dataBusqueda
õõ( 4
data
õõ5 9
=
õõ: ;
new
õõ< ?
dataBusqueda
õõ@ L
(
õõL M
)
õõM N
;
õõN O
data
úú( ,
.
úú, -
id
úú- /
=
úú0 1
i
úú2 3
.
úú3 4
Id
úú4 6
;
úú6 7
data
ùù( ,
.
ùù, -
valor1
ùù- 3
=
ùù4 5
i
ùù6 7
.
ùù7 8
Id_ped
ùù8 >
+
ùù? @
$str
ùùA C
;
ùùC D
data
ûû( ,
.
ûû, -
valor2
ûû- 3
=
ûû4 5
i
ûû6 7
.
ûû7 8
Codigo
ûû8 >
;
ûû> ?
data
üü( ,
.
üü, -
valor3
üü- 3
=
üü4 5
i
üü6 7
.
üü7 8
Usuario
üü8 ?
;
üü? @
data
††( ,
.
††, -
valor4
††- 3
=
††4 5
i
††6 7
.
††7 8
Descripcion
††8 C
;
††C D
data
°°( ,
.
°°, -
valor5
°°- 3
=
°°4 5
i
°°6 7
.
°°7 8
Grupo
°°8 =
;
°°= >
data
¢¢( ,
.
¢¢, -
valor6
¢¢- 3
=
¢¢4 5
i
¢¢6 7
.
¢¢7 8
Valor
¢¢8 =
+
¢¢> ?
$str
¢¢@ B
;
¢¢B C
data
££( ,
.
££, -
valor7
££- 3
=
££4 5
i
££6 7
.
££7 8
CECO
££8 <
;
££< =
data
§§( ,
.
§§, -
valor8
§§- 3
=
§§4 5
i
§§6 7
.
§§7 8
V_util
§§8 >
+
§§? @
$str
§§A C
;
§§C D
	buscadosS
••( 1
.
••1 2
Add
••2 5
(
••5 6
data
••6 :
)
••: ;
;
••; <
}
¶¶$ %
}
ßß  !
}
®® 
break
™™ !
;
™™! "
case
´´ 
$str
´´ )
:
´´) *
valor
¨¨ !
=
¨¨" #
item
¨¨$ (
.
¨¨( )
valor
¨¨) .
;
¨¨. /
	parametro
≠≠ %
=
≠≠& '
item
≠≠( ,
.
≠≠, -
	parametro
≠≠- 6
;
≠≠6 7
if
ÆÆ 
(
ÆÆ  
valor
ÆÆ  %
!=
ÆÆ& (
$str
ÆÆ) +
)
ÆÆ+ ,
{
ØØ 
List
∞∞  $
<
∞∞$ %
objeto
∞∞% +
>
∞∞+ ,
Objetos
∞∞- 4
=
∞∞5 6&
busquedaActivoDisponible
∞∞7 O
(
∞∞O P
valor
∞∞P U
,
∞∞U V
	parametro
∞∞W `
)
∞∞` a
;
∞∞a b
if
±±  "
(
±±" #
Objetos
±±# *
.
±±* +
Count
±±+ 0
(
±±0 1
)
±±1 2
>
±±3 4
$num
±±5 6
)
±±6 7
{
≤≤  !
foreach
≥≥$ +
(
≥≥+ ,
objeto
≥≥, 2
i
≥≥3 4
in
≥≥5 7
Objetos
≥≥8 ?
)
≥≥? @
{
¥¥$ %
dataBusqueda
µµ( 4
data
µµ5 9
=
µµ: ;
new
µµ< ?
dataBusqueda
µµ@ L
(
µµL M
)
µµM N
;
µµN O
data
∂∂( ,
.
∂∂, -
id
∂∂- /
=
∂∂0 1
i
∂∂2 3
.
∂∂3 4
id
∂∂4 6
;
∂∂6 7
data
∑∑( ,
.
∑∑, -
valor1
∑∑- 3
=
∑∑4 5
i
∑∑6 7
.
∑∑7 8
af
∑∑8 :
;
∑∑: ;
data
∏∏( ,
.
∏∏, -
valor2
∏∏- 3
=
∏∏4 5
i
∏∏6 7
.
∏∏7 8
imei
∏∏8 <
;
∏∏< =
data
ππ( ,
.
ππ, -
valor3
ππ- 3
=
ππ4 5
i
ππ6 7
.
ππ7 8
descripcion
ππ8 C
;
ππC D
data
∫∫( ,
.
∫∫, -
valor4
∫∫- 3
=
∫∫4 5
$str
∫∫6 8
;
∫∫8 9
data
ªª( ,
.
ªª, -
valor5
ªª- 3
=
ªª4 5
$str
ªª6 8
;
ªª8 9
data
ºº( ,
.
ºº, -
valor6
ºº- 3
=
ºº4 5
$str
ºº6 8
;
ºº8 9
data
ΩΩ( ,
.
ΩΩ, -
valor7
ΩΩ- 3
=
ΩΩ4 5
$str
ΩΩ6 8
;
ΩΩ8 9
data
ææ( ,
.
ææ, -
valor8
ææ- 3
=
ææ4 5
$str
ææ6 8
;
ææ8 9
	buscadosS
øø( 1
.
øø1 2
Add
øø2 5
(
øø5 6
data
øø6 :
)
øø: ;
;
øø; <
}
¿¿$ %
}
¡¡  !
}
¬¬ 
break
√√ !
;
√√! "
case
≈≈ 
$str
≈≈ /
:
≈≈/ 0
valor
∆∆ !
=
∆∆" #
item
∆∆$ (
.
∆∆( )
valor
∆∆) .
;
∆∆. /
	parametro
«« %
=
««& '
item
««( ,
.
««, -
	parametro
««- 6
;
««6 7
if
»» 
(
»» 
valor
»» $
!=
»»% '
$str
»»( *
)
»»* +
{
…… 
List
ÀÀ  $
<
ÀÀ$ %
objeto
ÀÀ% +
>
ÀÀ+ ,
Objetos
ÀÀ- 4
=
ÀÀ5 6)
busquedaDevolitvoDisponible
ÀÀ7 R
(
ÀÀR S
valor
ÀÀS X
,
ÀÀX Y
	parametro
ÀÀZ c
)
ÀÀc d
;
ÀÀd e
if
ÃÃ  "
(
ÃÃ# $
Objetos
ÃÃ$ +
.
ÃÃ+ ,
Count
ÃÃ, 1
(
ÃÃ1 2
)
ÃÃ2 3
>
ÃÃ4 5
$num
ÃÃ6 7
)
ÃÃ7 8
{
ÕÕ  !
foreach
ŒŒ$ +
(
ŒŒ, -
objeto
ŒŒ- 3
i
ŒŒ4 5
in
ŒŒ6 8
Objetos
ŒŒ9 @
)
ŒŒ@ A
{
œœ$ %
dataBusqueda
––( 4
data
––5 9
=
––: ;
new
––< ?
dataBusqueda
––@ L
(
––L M
)
––M N
;
––N O
data
——( ,
.
——, -
id
——- /
=
——0 1
i
——2 3
.
——3 4
id
——4 6
;
——6 7
data
““( ,
.
““, -
valor1
““- 3
=
““4 5
i
““6 7
.
““7 8
af
““8 :
;
““: ;
data
””( ,
.
””, -
valor2
””- 3
=
””4 5
i
””6 7
.
””7 8
imei
””8 <
;
””< =
data
‘‘( ,
.
‘‘, -
valor3
‘‘- 3
=
‘‘4 5
i
‘‘6 7
.
‘‘7 8
descripcion
‘‘8 C
;
‘‘C D
data
’’( ,
.
’’, -
valor4
’’- 3
=
’’4 5
$str
’’6 8
;
’’8 9
data
÷÷( ,
.
÷÷, -
valor5
÷÷- 3
=
÷÷4 5
$str
÷÷6 8
;
÷÷8 9
data
◊◊( ,
.
◊◊, -
valor6
◊◊- 3
=
◊◊4 5
$str
◊◊6 8
;
◊◊8 9
data
ÿÿ( ,
.
ÿÿ, -
valor7
ÿÿ- 3
=
ÿÿ4 5
$str
ÿÿ6 8
;
ÿÿ8 9
data
ŸŸ( ,
.
ŸŸ, -
valor8
ŸŸ- 3
=
ŸŸ4 5
$str
ŸŸ6 8
;
ŸŸ8 9
	buscadosS
⁄⁄( 1
.
⁄⁄1 2
Add
⁄⁄2 5
(
⁄⁄5 6
data
⁄⁄6 :
)
⁄⁄: ;
;
⁄⁄; <
}
€€$ %
}
‹‹  !
}
›› 
break
ﬁﬁ !
;
ﬁﬁ! "
case
‡‡ 
$str
‡‡ -
:
‡‡- .
valor
·· !
=
··" #
item
··$ (
.
··( )
valor
··) .
;
··. /
if
‚‚ 
(
‚‚ 
valor
‚‚ $
!=
‚‚% '
$str
‚‚( *
)
‚‚* +
{
„„ 
List
‰‰  $
<
‰‰$ %
empleado
‰‰% -
>
‰‰- .
	Empleados
‰‰/ 8
=
‰‰9 :
busquedaEmpleados
‰‰; L
(
‰‰L M
valor
‰‰M R
)
‰‰R S
;
‰‰S T
if
ÂÂ  "
(
ÂÂ" #
	Empleados
ÂÂ# ,
.
ÂÂ, -
Count
ÂÂ- 2
(
ÂÂ2 3
)
ÂÂ3 4
>
ÂÂ5 6
$num
ÂÂ7 8
)
ÂÂ8 9
{
ÊÊ  !
foreach
ÁÁ$ +
(
ÁÁ+ ,
empleado
ÁÁ, 4
i
ÁÁ5 6
in
ÁÁ7 9
	Empleados
ÁÁ: C
)
ÁÁC D
{
ËË$ %
dataBusqueda
ÈÈ( 4
data
ÈÈ5 9
=
ÈÈ: ;
new
ÈÈ< ?
dataBusqueda
ÈÈ@ L
(
ÈÈL M
)
ÈÈM N
;
ÈÈN O
data
ÍÍ( ,
.
ÍÍ, -
id
ÍÍ- /
=
ÍÍ0 1
i
ÍÍ2 3
.
ÍÍ3 4
id
ÍÍ4 6
;
ÍÍ6 7
data
ÎÎ( ,
.
ÎÎ, -
valor1
ÎÎ- 3
=
ÎÎ4 5
i
ÎÎ6 7
.
ÎÎ7 8

cedula_emp
ÎÎ8 B
;
ÎÎB C
data
ÏÏ( ,
.
ÏÏ, -
valor2
ÏÏ- 3
=
ÏÏ4 5
i
ÏÏ6 7
.
ÏÏ7 8
nombre
ÏÏ8 >
;
ÏÏ> ?
data
ÌÌ( ,
.
ÌÌ, -
valor3
ÌÌ- 3
=
ÌÌ4 5
i
ÌÌ6 7
.
ÌÌ7 8
snombre
ÌÌ8 ?
;
ÌÌ? @
data
ÓÓ( ,
.
ÓÓ, -
valor4
ÓÓ- 3
=
ÓÓ4 5
i
ÓÓ6 7
.
ÓÓ7 8
ppellido
ÓÓ8 @
;
ÓÓ@ A
data
ÔÔ( ,
.
ÔÔ, -
valor5
ÔÔ- 3
=
ÔÔ4 5
i
ÔÔ6 7
.
ÔÔ7 8
spellido
ÔÔ8 @
;
ÔÔ@ A
data
( ,
.
, -
valor6
- 3
=
4 5
$str
6 8
;
8 9
data
ÒÒ( ,
.
ÒÒ, -
valor7
ÒÒ- 3
=
ÒÒ4 5
$str
ÒÒ6 8
;
ÒÒ8 9
data
ÚÚ( ,
.
ÚÚ, -
valor8
ÚÚ- 3
=
ÚÚ4 5
$str
ÚÚ6 8
;
ÚÚ8 9
	buscadosS
ÛÛ( 1
.
ÛÛ1 2
Add
ÛÛ2 5
(
ÛÛ5 6
data
ÛÛ6 :
)
ÛÛ: ;
;
ÛÛ; <
}
ÙÙ$ %
}
ıı  !
}
ˆˆ 
break
˜˜ !
;
˜˜! "
case
¯¯ 
$str
¯¯ /
:
¯¯/ 0
valor
˘˘ !
=
˘˘" #
item
˘˘$ (
.
˘˘( )
valor
˘˘) .
;
˘˘. /
if
˙˙ 
(
˙˙ 
valor
˙˙ $
!=
˙˙% '
$str
˙˙( *
)
˙˙* +
{
˚˚ 
List
¸¸  $
<
¸¸% &
busquedaProveedor
¸¸& 7
>
¸¸7 8

proveedors
¸¸9 C
=
¸¸D E 
busquedaProvedores
¸¸F X
(
¸¸X Y
valor
¸¸Y ^
)
¸¸^ _
;
¸¸_ `
if
˝˝  "
(
˝˝" #

proveedors
˝˝# -
.
˝˝- .
Count
˝˝. 3
(
˝˝3 4
)
˝˝4 5
>
˝˝6 7
$num
˝˝8 9
)
˝˝9 :
{
˛˛  !
foreach
ˇˇ$ +
(
ˇˇ+ ,
busquedaProveedor
ˇˇ, =
i
ˇˇ> ?
in
ˇˇ@ B

proveedors
ˇˇC M
)
ˇˇM N
{
ÄÄ$ %
dataBusqueda
ÅÅ( 4
data
ÅÅ5 9
=
ÅÅ: ;
new
ÅÅ< ?
dataBusqueda
ÅÅ@ L
(
ÅÅL M
)
ÅÅM N
;
ÅÅN O
data
ÇÇ( ,
.
ÇÇ, -
id
ÇÇ- /
=
ÇÇ0 1
i
ÇÇ2 3
.
ÇÇ3 4
id
ÇÇ4 6
;
ÇÇ6 7
data
ÉÉ( ,
.
ÉÉ, -
valor1
ÉÉ- 3
=
ÉÉ4 5
i
ÉÉ6 7
.
ÉÉ7 8
nit
ÉÉ8 ;
;
ÉÉ; <
data
ÑÑ( ,
.
ÑÑ, -
valor2
ÑÑ- 3
=
ÑÑ4 5
i
ÑÑ6 7
.
ÑÑ7 8
razon_social
ÑÑ8 D
;
ÑÑD E
data
ÖÖ( ,
.
ÖÖ, -
valor3
ÖÖ- 3
=
ÖÖ4 5
i
ÖÖ6 7
.
ÖÖ7 8
contrato
ÖÖ8 @
;
ÖÖ@ A
data
ÜÜ( ,
.
ÜÜ, -
valor4
ÜÜ- 3
=
ÜÜ4 5
$str
ÜÜ6 8
;
ÜÜ8 9
data
áá( ,
.
áá, -
valor5
áá- 3
=
áá4 5
$str
áá6 8
;
áá8 9
data
àà( ,
.
àà, -
valor6
àà- 3
=
àà4 5
$str
àà6 8
;
àà8 9
data
ââ( ,
.
ââ, -
valor7
ââ- 3
=
ââ4 5
$str
ââ6 8
;
ââ8 9
data
ää( ,
.
ää, -
valor8
ää- 3
=
ää4 5
$str
ää6 8
;
ää8 9
	buscadosS
ãã( 1
.
ãã1 2
Add
ãã2 5
(
ãã5 6
data
ãã6 :
)
ãã: ;
;
ãã; <
}
åå$ %
}
çç  !
}
éé 
break
èè !
;
èè! "
case
êê 
$str
êê /
:
êê/ 0
valor
ëë !
=
ëë" #
item
ëë$ (
.
ëë( )
valor
ëë) .
;
ëë. /
if
íí 
(
íí  
valor
íí  %
!=
íí& (
$str
íí) +
)
íí+ ,
{
ìì 
List
îî  $
<
îî$ %
articulosPedidos
îî% 5
>
îî5 6
	articulos
îî7 @
=
îîA B-
busquedaArticulosComprasPedidos
îîC b
(
îîb c
valor
îîc h
)
îîh i
;
îîi j
if
ïï  "
(
ïï" #
	articulos
ïï# ,
.
ïï, -
Count
ïï- 2
(
ïï2 3
)
ïï3 4
>
ïï5 6
$num
ïï7 8
)
ïï8 9
{
ññ  !
foreach
óó$ +
(
óó+ ,
articulosPedidos
óó, <
i
óó= >
in
óó? A
	articulos
óóB K
)
óóK L
{
òò$ %
dataBusqueda
ôô( 4
data
ôô5 9
=
ôô: ;
new
ôô< ?
dataBusqueda
ôô@ L
(
ôôL M
)
ôôM N
;
ôôN O
data
öö( ,
.
öö, -
id
öö- /
=
öö0 1
i
öö2 3
.
öö3 4
Id
öö4 6
;
öö6 7
data
õõ( ,
.
õõ, -
valor1
õõ- 3
=
õõ4 5
i
õõ6 7
.
õõ7 8
Codigo
õõ8 >
+
õõ> ?
$str
õõ? A
;
õõA B
data
úú( ,
.
úú, -
valor2
úú- 3
=
úú4 5
i
úú6 7
.
úú7 8
Descripcion
úú8 C
;
úúC D
data
ùù( ,
.
ùù, -
valor3
ùù- 3
=
ùù4 5
i
ùù6 7
.
ùù7 8
und
ùù8 ;
;
ùù; <
data
ûû( ,
.
ûû, -
valor4
ûû- 3
=
ûû4 5
i
ûû6 7
.
ûû7 8
cuenta
ûû8 >
;
ûû> ?
data
üü( ,
.
üü, -
valor5
üü- 3
=
üü4 5
$str
üü6 8
;
üü8 9
data
††( ,
.
††, -
valor6
††- 3
=
††4 5
$str
††6 8
;
††8 9
data
°°( ,
.
°°, -
valor7
°°- 3
=
°°4 5
$str
°°6 8
;
°°8 9
data
¢¢( ,
.
¢¢, -
valor8
¢¢- 3
=
¢¢4 5
$str
¢¢6 8
;
¢¢8 9
	buscadosS
££( 1
.
££1 2
Add
££2 5
(
££5 6
data
££6 :
)
££: ;
;
££; <
}
§§$ %
}
••  !
}
¶¶ 
break
ßß !
;
ßß! "
case
©© 
$str
©© ;
:
©©; <
valor
™™ !
=
™™" #
item
™™$ (
.
™™( )
valor
™™) .
;
™™. /
List
¨¨  
<
¨¨  !
articulosPedidos
¨¨! 1
>
¨¨1 2
articulosAF
¨¨3 >
=
¨¨? @)
busquedaArticulosFijoPedido
¨¨A \
(
¨¨\ ]
valor
¨¨] b
)
¨¨b c
;
¨¨c d
if
≠≠ 
(
≠≠  
articulosAF
≠≠  +
.
≠≠+ ,
Count
≠≠, 1
(
≠≠1 2
)
≠≠2 3
>
≠≠4 5
$num
≠≠6 7
)
≠≠7 8
{
ÆÆ 
foreach
ØØ  '
(
ØØ( )
articulosPedidos
ØØ) 9
i
ØØ: ;
in
ØØ< >
articulosAF
ØØ? J
)
ØØJ K
{
∞∞  !
dataBusqueda
±±$ 0
data
±±1 5
=
±±6 7
new
±±8 ;
dataBusqueda
±±< H
(
±±H I
)
±±I J
;
±±J K
data
≤≤$ (
.
≤≤( )
id
≤≤) +
=
≤≤, -
i
≤≤. /
.
≤≤/ 0
Id
≤≤0 2
;
≤≤2 3
data
≥≥$ (
.
≥≥( )
valor1
≥≥) /
=
≥≥0 1
i
≥≥2 3
.
≥≥3 4
Codigo
≥≥4 :
+
≥≥; <
$str
≥≥= ?
;
≥≥? @
data
¥¥$ (
.
¥¥( )
valor2
¥¥) /
=
¥¥0 1
i
¥¥2 3
.
¥¥3 4
Descripcion
¥¥4 ?
;
¥¥? @
data
µµ$ (
.
µµ( )
valor3
µµ) /
=
µµ0 1
i
µµ2 3
.
µµ3 4
und
µµ4 7
;
µµ7 8
data
∂∂$ (
.
∂∂( )
valor4
∂∂) /
=
∂∂0 1
i
∂∂2 3
.
∂∂3 4
cuenta
∂∂4 :
;
∂∂: ;
data
∑∑$ (
.
∑∑( )
valor5
∑∑) /
=
∑∑0 1
$str
∑∑2 4
;
∑∑4 5
data
∏∏$ (
.
∏∏( )
valor6
∏∏) /
=
∏∏0 1
$str
∏∏2 4
;
∏∏4 5
data
ππ$ (
.
ππ( )
valor7
ππ) /
=
ππ0 1
$str
ππ2 4
;
ππ4 5
data
∫∫$ (
.
∫∫( )
valor8
∫∫) /
=
∫∫0 1
$str
∫∫2 4
;
∫∫4 5
	buscadosS
ªª$ -
.
ªª- .
Add
ªª. 1
(
ªª1 2
data
ªª2 6
)
ªª6 7
;
ªª7 8
}
ºº  !
}
ΩΩ 
break
ææ !
;
ææ! "
}
¿¿ 
}
¡¡ 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬  
e
¬¬! "
)
¬¬" #
{
√√ 
var
ƒƒ 
st
ƒƒ 
=
ƒƒ 
new
ƒƒ  

StackTrace
ƒƒ! +
(
ƒƒ+ ,
)
ƒƒ, -
;
ƒƒ- .
var
≈≈ 
sf
≈≈ 
=
≈≈ 
st
≈≈ 
.
≈≈  
GetFrame
≈≈  (
(
≈≈( )
$num
≈≈) *
)
≈≈* +
;
≈≈+ ,
General
«« 
.
«« 
CrearLogError
«« )
(
««) *
sf
««* ,
.
««, -
	GetMethod
««- 6
(
««6 7
)
««7 8
.
««8 9
Name
««9 =
,
««= >
$str
««? M
,
««M N
e
««O P
.
««P Q
Message
««Q X
,
««X Y
_config
««Z a
.
««a b!
GetConnectionString
««b u
(
««u v
$str««v Ä
)««Ä Å
)««Å Ç
;««Ç É
}
»» 
}
   
return
ÀÀ 
	buscadosS
ÀÀ 
;
ÀÀ 
}
ÃÃ 	
public
–– 
List
–– 
<
–– 
articulosBusqueda
–– %
>
––% &*
busquedaArticulosDevolutivos
––' C
(
––C D
string
––D J
valor
––K P
)
––P Q
{
—— 	
List
““ 
<
““ 
articulosBusqueda
““ "
>
““" #!
articulosDevolucion
““$ 7
=
““8 9
new
““: =
List
““> B
<
““B C
articulosBusqueda
““C T
>
““T U
(
““U V
)
““V W
;
““W X
string
”” 
qwery
”” 
=
”” 
$str
”” 
;
”” 
try
‘‘ 
{
’’ 
qwery
÷÷ 
=
÷÷ 
$str
÷÷ -
+
÷÷. /
$str
◊◊ .
+
◊◊/ 0
$str
ÿÿ 8
+
ÿÿ9 :
$str
ŸŸ 8
+
ŸŸ9 :
$str
⁄⁄ C
+
⁄⁄D E
$str
€€ E
+
€€F G
$str
‹‹ >
+
‹‹? @
$str
›› =
;
››= >
using
ﬁﬁ 
(
ﬁﬁ 
SqlConnection
ﬁﬁ $
con
ﬁﬁ% (
=
ﬁﬁ) *
new
ﬁﬁ+ .
SqlConnection
ﬁﬁ/ <
(
ﬁﬁ< =
_config
ﬁﬁ= D
.
ﬁﬁD E!
GetConnectionString
ﬁﬁE X
(
ﬁﬁX Y
$str
ﬁﬁY c
)
ﬁﬁc d
)
ﬁﬁd e
)
ﬁﬁe f
{
ﬂﬂ 
using
‡‡ 
(
‡‡ 

SqlCommand
‡‡ $
cmd
‡‡% (
=
‡‡) *
new
‡‡+ .

SqlCommand
‡‡/ 9
(
‡‡9 :
qwery
‡‡: ?
)
‡‡? @
)
‡‡@ A
{
·· 
cmd
‚‚ 
.
‚‚ 

Connection
‚‚ &
=
‚‚' (
con
‚‚) ,
;
‚‚, -
SqlParameter
„„ $
vlr
„„% (
=
„„) *
new
„„+ .
SqlParameter
„„/ ;
(
„„; <
$str
„„< D
,
„„D E
	SqlDbType
„„F O
.
„„O P
VarChar
„„P W
)
„„W X
;
„„X Y
vlr
‰‰ 
.
‰‰ 
Value
‰‰ !
=
‰‰" #
valor
‰‰$ )
;
‰‰) *
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
Add
ÂÂ' *
(
ÂÂ* +
vlr
ÂÂ+ .
)
ÂÂ. /
;
ÂÂ/ 0
con
ÊÊ 
.
ÊÊ 
Open
ÊÊ  
(
ÊÊ  !
)
ÊÊ! "
;
ÊÊ" #
using
ÁÁ 
(
ÁÁ 
SqlDataReader
ÁÁ +
srd
ÁÁ, /
=
ÁÁ0 1
cmd
ÁÁ2 5
.
ÁÁ5 6
ExecuteReader
ÁÁ6 C
(
ÁÁC D
)
ÁÁD E
)
ÁÁE F
{
ËË 
while
ÈÈ !
(
ÈÈ" #
srd
ÈÈ# &
.
ÈÈ& '
Read
ÈÈ' +
(
ÈÈ+ ,
)
ÈÈ, -
)
ÈÈ- .
{
ÍÍ !
articulosDevolucion
ÎÎ  3
.
ÎÎ3 4
Add
ÎÎ4 7
(
ÎÎ7 8
new
ÎÎ8 ;
articulosBusqueda
ÎÎ< M
{
ÏÏ  !
Id
ÌÌ$ &
=
ÌÌ0 1
Convert
ÌÌ2 9
.
ÌÌ9 :
ToInt32
ÌÌ: A
(
ÌÌA B
srd
ÌÌB E
[
ÌÌE F
$str
ÌÌF J
]
ÌÌJ K
)
ÌÌK L
,
ÌÌL M
Codigo
ÓÓ$ *
=
ÓÓ0 1
srd
ÓÓ2 5
[
ÓÓ5 6
$str
ÓÓ6 >
]
ÓÓ> ?
+
ÓÓ? @
$str
ÓÓ@ B
,
ÓÓB C
Descripcion
ÔÔ$ /
=
ÔÔ0 1
srd
ÔÔ2 5
[
ÔÔ5 6
$str
ÔÔ6 C
]
ÔÔC D
+
ÔÔD E
$str
ÔÔE G
,
ÔÔG H
Tipo
$ (
=
0 1
Convert
2 9
.
9 :
ToInt32
: A
(
A B
srd
B E
[
E F
$str
F L
]
L M
)
M N
}
ÒÒ  !
)
ÒÒ! "
;
ÒÒ" #
}
ÚÚ 
}
ÛÛ 
con
ÙÙ 
.
ÙÙ 
Close
ÙÙ !
(
ÙÙ! "
)
ÙÙ" #
;
ÙÙ# $
}
ıı 
}
ˆˆ 
}
˜˜ 
catch
¯¯ 
(
¯¯ 
	Exception
¯¯ 
e
¯¯ 
)
¯¯ 
{
˘˘ 
var
˙˙ 
st
˙˙ 
=
˙˙ 
new
˙˙ 

StackTrace
˙˙ '
(
˙˙' (
)
˙˙( )
;
˙˙) *
var
˚˚ 
sf
˚˚ 
=
˚˚ 
st
˚˚ 
.
˚˚ 
GetFrame
˚˚ $
(
˚˚$ %
$num
˚˚% &
)
˚˚& '
;
˚˚' (
General
˝˝ 
.
˝˝ 
CrearLogError
˝˝ %
(
˝˝% &
sf
˝˝& (
.
˝˝( )
	GetMethod
˝˝) 2
(
˝˝2 3
)
˝˝3 4
.
˝˝4 5
Name
˝˝5 9
,
˝˝9 :
$str
˝˝; F
,
˝˝F G
e
˝˝H I
.
˝˝I J
Message
˝˝J Q
,
˝˝Q R
_config
˝˝S Z
.
˝˝Z [!
GetConnectionString
˝˝[ n
(
˝˝n o
$str
˝˝o y
)
˝˝y z
)
˝˝z {
;
˝˝{ |
}
˛˛ 
return
ˇˇ !
articulosDevolucion
ˇˇ &
;
ˇˇ& '
}
ÄÄ 	
public
ÇÇ 
List
ÇÇ 
<
ÇÇ #
articulosBusquedaFijo
ÇÇ )
>
ÇÇ) *"
BusquedaArticuloFijo
ÇÇ+ ?
(
ÇÇ? @
string
ÇÇ@ F
valor
ÇÇG L
)
ÇÇL M
{
ÉÉ 	
List
ÑÑ 
<
ÑÑ #
articulosBusquedaFijo
ÑÑ &
>
ÑÑ& '
articulosFijo
ÑÑ( 5
=
ÑÑ6 7
new
ÑÑ8 ;
List
ÑÑ< @
<
ÑÑ@ A#
articulosBusquedaFijo
ÑÑA V
>
ÑÑV W
(
ÑÑW X
)
ÑÑX Y
;
ÑÑY Z
string
ÖÖ 
qwery
ÖÖ 
=
ÖÖ 
$str
ÖÖ 
;
ÖÖ 
try
ÜÜ 
{
áá 
qwery
àà 
=
àà 
$str
àà ;
+
àà< =
$str
ââ ?
+
ââ? @
$str
ää =
+
ää= >
$str
ãã 9
+
ãã9 :
$str
åå F
+
ååF G
$str
çç :
+
çç; <
$str
éé :
+
éé: ;
$str
èè :
+
èè: ;
$str
êê ;
+
êê; <
$str
ëë /
+
ëë/ 0
$str
íí d
+
ííd e
$str
ìì `
+
ìì` a
$str
îî E
+
îîE F
$str
ïï ;
+
ïï; <
$str
ññ J
+
ññK L
$str
óó N
+
óóO P
$str
òò M
+
òòN O
$str
ôô H
+
ôôI J
$str
öö Q
+
ööR S
$str
õõ K
+
õõL M
$str
úú K
+
úúL M
$str
ùù L
+
ùùM N
$str
ûû K
;
ûûK L
using
üü 
(
üü 
SqlConnection
üü $
con
üü% (
=
üü) *
new
üü+ .
SqlConnection
üü/ <
(
üü< =
_config
üü= D
.
üüD E!
GetConnectionString
üüE X
(
üüX Y
$str
üüY c
)
üüc d
)
üüd e
)
üüe f
{
†† 
using
°° 
(
°° 

SqlCommand
°° %
cmd
°°& )
=
°°* +
new
°°, /

SqlCommand
°°0 :
(
°°: ;
qwery
°°; @
)
°°@ A
)
°°A B
{
¢¢ 
cmd
££ 
.
££ 

Connection
££ &
=
££' (
con
££) ,
;
££, -
SqlParameter
§§ $
vlr
§§% (
=
§§) *
new
§§+ .
SqlParameter
§§/ ;
(
§§; <
$str
§§< D
,
§§D E
	SqlDbType
§§F O
.
§§O P
VarChar
§§P W
)
§§W X
;
§§X Y
vlr
•• 
.
•• 
Value
•• !
=
••" #
valor
••$ )
;
••) *
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ &
.
¶¶& '
Add
¶¶' *
(
¶¶* +
vlr
¶¶+ .
)
¶¶. /
;
¶¶/ 0
con
ßß 
.
ßß 
Open
ßß  
(
ßß  !
)
ßß! "
;
ßß" #
using
®® 
(
®® 
SqlDataReader
®® ,
srd
®®- 0
=
®®1 2
cmd
®®3 6
.
®®6 7
ExecuteReader
®®7 D
(
®®D E
)
®®E F
)
®®F G
{
©© 
while
™™ !
(
™™" #
srd
™™# &
.
™™& '
Read
™™' +
(
™™+ ,
)
™™, -
)
™™- .
{
´´ 
articulosFijo
¨¨  -
.
¨¨- .
Add
¨¨. 1
(
¨¨1 2
new
¨¨2 5#
articulosBusquedaFijo
¨¨6 K
{
≠≠  !
Id
ÆÆ$ &
=
ÆÆ' (
Convert
ÆÆ) 0
.
ÆÆ0 1
ToInt32
ÆÆ1 8
(
ÆÆ8 9
srd
ÆÆ9 <
[
ÆÆ< =
$str
ÆÆ= A
]
ÆÆA B
)
ÆÆB C
,
ÆÆC D
Id_ped
ØØ$ *
=
ØØ+ ,
Convert
ØØ- 4
.
ØØ4 5
ToInt32
ØØ5 <
(
ØØ< =
srd
ØØ= @
[
ØØ@ A
$str
ØØA I
]
ØØI J
)
ØØJ K
,
ØØK L
Codigo
∞∞$ *
=
∞∞+ ,
srd
∞∞- 0
[
∞∞0 1
$str
∞∞1 9
]
∞∞9 :
+
∞∞: ;
$str
∞∞; =
,
∞∞= >
Usuario
±±$ +
=
±±, -
srd
±±. 1
[
±±1 2
$str
±±2 ;
]
±±; <
+
±±< =
$str
±±= ?
,
±±? @
Descripcion
≤≤$ /
=
≤≤0 1
srd
≤≤2 5
[
≤≤5 6
$str
≤≤6 C
]
≤≤C D
+
≤≤D E
$str
≤≤E G
,
≤≤G H
Grupo
≥≥$ )
=
≥≥* +
srd
≥≥, /
[
≥≥/ 0
$str
≥≥0 7
]
≥≥7 8
+
≥≥8 9
$str
≥≥9 ;
,
≥≥; <
Valor
¥¥$ )
=
¥¥* +
Convert
¥¥, 3
.
¥¥3 4
ToDouble
¥¥4 <
(
¥¥< =
srd
¥¥= @
[
¥¥@ A
$str
¥¥A H
]
¥¥H I
)
¥¥I J
,
¥¥J K
CECO
µµ$ (
=
µµ) *
srd
µµ+ .
[
µµ. /
$str
µµ/ 5
]
µµ5 6
+
µµ6 7
$str
µµ7 9
,
µµ9 :
V_util
∂∂$ *
=
∂∂+ ,
Convert
∂∂- 4
.
∂∂4 5
ToInt32
∂∂5 <
(
∂∂< =
srd
∂∂= @
[
∂∂@ A
$str
∂∂A I
]
∂∂I J
)
∂∂J K
}
∑∑  !
)
∑∑! "
;
∑∑" #
}
∏∏ 
}
ππ 
con
∫∫ 
.
∫∫ 
Close
∫∫ !
(
∫∫! "
)
∫∫" #
;
∫∫# $
}
ªª 
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
e
ææ 
)
ææ 
{
øø 
var
¿¿ 
st
¿¿ 
=
¿¿ 
new
¿¿ 

StackTrace
¿¿ '
(
¿¿' (
)
¿¿( )
;
¿¿) *
var
¡¡ 
sf
¡¡ 
=
¡¡ 
st
¡¡ 
.
¡¡ 
GetFrame
¡¡ $
(
¡¡$ %
$num
¡¡% &
)
¡¡& '
;
¡¡' (
General
√√ 
.
√√ 
CrearLogError
√√ %
(
√√% &
sf
√√& (
.
√√( )
	GetMethod
√√) 2
(
√√2 3
)
√√3 4
.
√√4 5
Name
√√5 9
,
√√9 :
$str
√√; I
,
√√I J
e
√√K L
.
√√L M
Message
√√M T
,
√√T U
_config
√√V ]
.
√√] ^!
GetConnectionString
√√^ q
(
√√q r
$str
√√r |
)
√√| }
)
√√} ~
;
√√~ 
}
ƒƒ 
return
∆∆ 
articulosFijo
∆∆  
;
∆∆  !
}
«« 	
public
»» 
List
»» 
<
»» 
objeto
»» 
>
»» &
busquedaActivoDisponible
»» 4
(
»»4 5
string
»»5 ;
valor
»»< A
,
»»A B
string
»»C I
	parametro
»»J S
)
»»S T
{
…… 	
string
   
param
   
=
   
	parametro
   $
;
  $ %
int
ÀÀ 
indexOf
ÀÀ 
=
ÀÀ 
	parametro
ÀÀ #
.
ÀÀ# $
Length
ÀÀ$ *
;
ÀÀ* +
string
ÃÃ 
Estado
ÃÃ 
=
ÃÃ 
	parametro
ÃÃ %
.
ÃÃ% &
	Substring
ÃÃ& /
(
ÃÃ/ 0
indexOf
ÃÃ0 7
-
ÃÃ7 8
$num
ÃÃ8 9
)
ÃÃ9 :
;
ÃÃ: ;
List
ÕÕ 
<
ÕÕ 
objeto
ÕÕ 
>
ÕÕ 
Objetos
ÕÕ  
=
ÕÕ! "
new
ÕÕ# &
List
ÕÕ' +
<
ÕÕ+ ,
objeto
ÕÕ, 2
>
ÕÕ2 3
(
ÕÕ3 4
)
ÕÕ4 5
;
ÕÕ5 6
Objetos
ŒŒ 
=
ŒŒ 
_context
ŒŒ 
.
ŒŒ 
objeto
ŒŒ %
.
ŒŒ% &
Where
ŒŒ& +
(
ŒŒ+ ,
x
ŒŒ, -
=>
ŒŒ. 0
(
ŒŒ1 2
x
ŒŒ2 3
.
ŒŒ3 4
af
ŒŒ4 6
==
ŒŒ7 9
valor
ŒŒ: ?
||
œœ, .
x
œœ/ 0
.
œœ0 1
imei
œœ1 5
==
œœ6 8
valor
œœ9 >
||
––, .
x
––/ 0
.
––0 1
descripcion
––1 <
.
––< =
Contains
––= E
(
––E F
valor
––F K
)
––K L
)
––L M
&&
——, .
x
——/ 0
.
——0 1
estado
——1 7
==
——8 :
Convert
——; B
.
——B C
ToInt32
——C J
(
——J K
Estado
——K Q
)
——Q R
&&
““, .
x
““/ 0
.
““0 1
tipo_articulo
““1 >
==
““? A
$num
““B C
)
““C D
.
““D E
ToList
““E K
(
““K L
)
““L M
;
““M N
return
”” 
Objetos
”” 
;
”” 
}
‘‘ 	
public
÷÷ 
List
÷÷ 
<
÷÷ 
objeto
÷÷ 
>
÷÷ )
busquedaDevolitvoDisponible
÷÷ 7
(
÷÷7 8
string
÷÷8 >
valor
÷÷? D
,
÷÷D E
string
÷÷F L
	parametro
÷÷M V
)
÷÷V W
{
◊◊ 	
string
ÿÿ 
param
ÿÿ 
=
ÿÿ 
	parametro
ÿÿ $
;
ÿÿ$ %
int
ŸŸ 
indexOf
ŸŸ 
=
ŸŸ 
	parametro
ŸŸ #
.
ŸŸ# $
Length
ŸŸ$ *
;
ŸŸ* +
string
⁄⁄ 
Estado
⁄⁄ 
=
⁄⁄ 
	parametro
⁄⁄ %
.
⁄⁄% &
	Substring
⁄⁄& /
(
⁄⁄/ 0
indexOf
⁄⁄0 7
-
⁄⁄8 9
$num
⁄⁄: ;
)
⁄⁄; <
;
⁄⁄< =
List
€€ 
<
€€ 
objeto
€€ 
>
€€ 
Objetos
€€  
=
€€! "
new
€€# &
List
€€' +
<
€€+ ,
objeto
€€, 2
>
€€2 3
(
€€3 4
)
€€4 5
;
€€5 6
Objetos
‹‹ 
=
‹‹ 
_context
‹‹ 
.
‹‹ 
objeto
‹‹ %
.
‹‹% &
Where
‹‹& +
(
‹‹+ ,
x
‹‹, -
=>
‹‹. 0
(
‹‹1 2
x
‹‹2 3
.
‹‹3 4
af
‹‹4 6
==
‹‹7 9
valor
‹‹: ?
||
››, .
x
››/ 0
.
››0 1
imei
››1 5
==
››6 8
valor
››9 >
||
ﬁﬁ, .
x
ﬁﬁ/ 0
.
ﬁﬁ0 1
descripcion
ﬁﬁ1 <
.
ﬁﬁ< =
Contains
ﬁﬁ= E
(
ﬁﬁE F
valor
ﬁﬁF K
)
ﬁﬁK L
)
ﬁﬁL M
&&
ﬂﬂ, .
x
ﬂﬂ/ 0
.
ﬂﬂ0 1
estado
ﬂﬂ1 7
==
ﬂﬂ8 :
Convert
ﬂﬂ; B
.
ﬂﬂB C
ToInt32
ﬂﬂC J
(
ﬂﬂJ K
Estado
ﬂﬂK Q
)
ﬂﬂQ R
&&
‡‡, .
x
‡‡/ 0
.
‡‡0 1
tipo_articulo
‡‡1 >
==
‡‡? A
$num
‡‡B C
)
‡‡C D
.
‡‡D E
ToList
‡‡E K
(
‡‡K L
)
‡‡L M
;
‡‡M N
return
·· 
Objetos
·· 
;
·· 
}
‚‚ 	
public
‰‰ 
List
‰‰ 
<
‰‰ 
empleado
‰‰ 
>
‰‰ 
busquedaEmpleados
‰‰ /
(
‰‰/ 0
string
‰‰0 6
valor
‰‰7 <
)
‰‰< =
{
ÂÂ 	
List
ÊÊ 
<
ÊÊ 
empleado
ÊÊ 
>
ÊÊ 
	Empleados
ÊÊ $
=
ÊÊ% &
new
ÊÊ' *
List
ÊÊ+ /
<
ÊÊ/ 0
empleado
ÊÊ0 8
>
ÊÊ8 9
(
ÊÊ9 :
)
ÊÊ: ;
;
ÊÊ; <
try
ÁÁ 
{
ËË 
	Empleados
ÈÈ 
=
ÈÈ 
_context
ÈÈ $
.
ÈÈ$ %
empleado
ÈÈ% -
.
ÈÈ- .
Where
ÈÈ. 3
(
ÈÈ3 4
x
ÈÈ4 5
=>
ÈÈ6 8
x
ÈÈ9 :
.
ÈÈ: ;

cedula_emp
ÈÈ; E
==
ÈÈF H
valor
ÈÈI N
||
ÍÍ4 6
x
ÍÍ7 8
.
ÍÍ8 9
nombre
ÍÍ9 ?
.
ÍÍ? @
Contains
ÍÍ@ H
(
ÍÍH I
valor
ÍÍI N
)
ÍÍN O
||
ÎÎ4 6
x
ÎÎ7 8
.
ÎÎ8 9
snombre
ÎÎ9 @
.
ÎÎ@ A
Contains
ÎÎA I
(
ÎÎI J
valor
ÎÎJ O
)
ÎÎO P
||
ÏÏ4 6
x
ÏÏ7 8
.
ÏÏ8 9
ppellido
ÏÏ9 A
.
ÏÏA B
Contains
ÏÏB J
(
ÏÏJ K
valor
ÏÏK P
)
ÏÏP Q
||
ÌÌ4 6
x
ÌÌ7 8
.
ÌÌ8 9
spellido
ÌÌ9 A
.
ÌÌA B
Contains
ÌÌB J
(
ÌÌJ K
valor
ÌÌK P
)
ÌÌP Q
&&
ÓÓ4 6
x
ÓÓ7 8
.
ÓÓ8 9
estado
ÓÓ9 ?
==
ÓÓ@ B
$num
ÓÓC D
)
ÓÓD E
.
ÓÓE F
ToList
ÓÓF L
(
ÓÓL M
)
ÓÓM N
;
ÓÓN O
if
ÔÔ 
(
ÔÔ 
	Empleados
ÔÔ 
==
ÔÔ 
null
ÔÔ  $
)
ÔÔ$ %
{
 
return
ÒÒ 
null
ÒÒ 
;
ÒÒ  
}
ÚÚ 
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
e
ÙÙ 
)
ÙÙ 
{
ıı 
var
ˆˆ 
st
ˆˆ 
=
ˆˆ 
new
ˆˆ 

StackTrace
ˆˆ '
(
ˆˆ' (
)
ˆˆ( )
;
ˆˆ) *
var
˜˜ 
sf
˜˜ 
=
˜˜ 
st
˜˜ 
.
˜˜ 
GetFrame
˜˜ $
(
˜˜$ %
$num
˜˜% &
)
˜˜& '
;
˜˜' (
General
˘˘ 
.
˘˘ 
CrearLogError
˘˘ %
(
˘˘% &
sf
˘˘& (
.
˘˘( )
	GetMethod
˘˘) 2
(
˘˘2 3
)
˘˘3 4
.
˘˘4 5
Name
˘˘5 9
,
˘˘9 :
$str
˘˘; E
,
˘˘E F
e
˘˘G H
.
˘˘H I
Message
˘˘I P
,
˘˘P Q
_config
˘˘R Y
.
˘˘Y Z!
GetConnectionString
˘˘Z m
(
˘˘m n
$str
˘˘n x
)
˘˘x y
)
˘˘y z
;
˘˘z {
}
˙˙ 
return
˚˚ 
	Empleados
˚˚ 
;
˚˚ 
}
¸¸ 	
public
˛˛ 
List
˛˛ 
<
˛˛ 
busquedaProveedor
˛˛ %
>
˛˛% & 
busquedaProvedores
˛˛' 9
(
˛˛9 :
string
˛˛: @
valor
˛˛A F
)
˛˛F G
{
ˇˇ 	
List
ÄÄ 
<
ÄÄ 
busquedaProveedor
ÄÄ "
>
ÄÄ" #
proveedores
ÄÄ$ /
=
ÄÄ0 1
new
ÄÄ2 5
List
ÄÄ6 :
<
ÄÄ: ;
busquedaProveedor
ÄÄ; L
>
ÄÄL M
(
ÄÄM N
)
ÄÄN O
;
ÄÄO P
string
ÅÅ 
qwery
ÅÅ 
=
ÅÅ 
$str
ÅÅ 
;
ÅÅ 
try
ÇÇ 
{
ÉÉ 
qwery
ÑÑ 
=
ÑÑ 
$str
ÑÑ `
+
ÑÑ` a
$str
ÖÖ O
+
ÖÖO P
$strÜÜ Ö
+ÜÜÜ á
$str
áá <
;
áá< =
using
àà 
(
àà 
SqlConnection
àà $
con
àà% (
=
àà) *
new
àà+ .
SqlConnection
àà/ <
(
àà< =
_config
àà= D
.
ààD E!
GetConnectionString
ààE X
(
ààX Y
$str
ààY c
)
ààc d
)
ààd e
)
ààe f
{
ââ 
using
ää 
(
ää 

SqlCommand
ää %
cmd
ää& )
=
ää* +
new
ää, /

SqlCommand
ää0 :
(
ää: ;
qwery
ää; @
)
ää@ A
)
ääA B
{
ãã 
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
Add
åå' *
(
åå* +
new
åå+ .
SqlParameter
åå/ ;
(
åå; <
$str
åå< D
,
ååD E
System
ååF L
.
ååL M
Data
ååM Q
.
ååQ R
	SqlDbType
ååR [
.
åå[ \
VarChar
åå\ c
)
ååc d
)
ååd e
;
ååe f
cmd
çç 
.
çç 

Parameters
çç &
[
çç& '
$str
çç' /
]
çç/ 0
.
çç0 1
Value
çç1 6
=
çç7 8
valor
çç9 >
;
çç> ?
cmd
éé 
.
éé 

Connection
éé &
=
éé' (
con
éé) ,
;
éé, -
con
èè 
.
èè 
Open
èè  
(
èè  !
)
èè! "
;
èè" #
using
êê 
(
êê 
SqlDataReader
êê ,
srd
êê- 0
=
êê1 2
cmd
êê3 6
.
êê6 7
ExecuteReader
êê7 D
(
êêD E
)
êêE F
)
êêF G
{
ëë 
while
íí !
(
íí" #
srd
íí# &
.
íí& '
Read
íí' +
(
íí+ ,
)
íí, -
)
íí- .
{
ìì 
proveedores
îî  +
.
îî+ ,
Add
îî, /
(
îî/ 0
new
îî0 3
busquedaProveedor
îî4 E
{
ïï  !
id
ññ$ &
=
ññ' (
Convert
ññ) 0
.
ññ0 1
ToInt32
ññ1 8
(
ññ8 9
srd
ññ9 <
[
ññ< =
$str
ññ= A
]
ññA B
)
ññB C
,
ññC D
nit
óó$ '
=
óó( )
srd
óó* -
[
óó- .
$str
óó. 3
]
óó3 4
+
óó4 5
$str
óó5 7
,
óó7 8
razon_social
òò$ 0
=
òò1 2
srd
òò3 6
[
òò6 7
$str
òò7 E
]
òòE F
+
òòF G
$str
òòG I
,
òòI J
contrato
ôô$ ,
=
ôô- .
srd
ôô/ 2
[
ôô2 3
$str
ôô3 =
]
ôô= >
+
ôô> ?
$str
ôô? A
}
öö  !
)
öö! "
;
öö" #
}
õõ 
}
úú 
con
ùù 
.
ùù 
Close
ùù !
(
ùù! "
)
ùù" #
;
ùù# $
}
üü 
}
†† 
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
e
¢¢ 
)
¢¢ 
{
££ 
var
§§ 
st
§§ 
=
§§ 
new
§§ 

StackTrace
§§ '
(
§§' (
)
§§( )
;
§§) *
var
•• 
sf
•• 
=
•• 
st
•• 
.
•• 
GetFrame
•• $
(
••$ %
$num
••% &
)
••& '
;
••' (
General
ßß 
.
ßß 
CrearLogError
ßß %
(
ßß% &
sf
ßß& (
.
ßß( )
	GetMethod
ßß) 2
(
ßß2 3
)
ßß3 4
.
ßß4 5
Name
ßß5 9
,
ßß9 :
$str
ßß; H
,
ßßH I
e
ßßJ K
.
ßßK L
Message
ßßL S
,
ßßS T
_config
ßßU \
.
ßß\ ]!
GetConnectionString
ßß] p
(
ßßp q
$str
ßßq {
)
ßß{ |
)
ßß| }
;
ßß} ~
}
®® 
return
™™ 
proveedores
™™ 
;
™™ 
}
´´ 	
public
≠≠ 
List
≠≠ 
<
≠≠ 
articulosPedidos
≠≠ $
>
≠≠$ %-
busquedaArticulosComprasPedidos
≠≠& E
(
≠≠E F
string
≠≠F L
valor
≠≠M R
)
≠≠R S
{
ÆÆ 	
List
ØØ 
<
ØØ 
articulosPedidos
ØØ !
>
ØØ! "
	articulos
ØØ# ,
=
ØØ- .
new
ØØ/ 2
List
ØØ3 7
<
ØØ7 8
articulosPedidos
ØØ8 H
>
ØØH I
(
ØØI J
)
ØØJ K
;
ØØK L
string
∞∞ 
query
∞∞ 
=
∞∞ 
$str
∞∞ 
;
∞∞ 
try
±± 
{
≤≤ 
query
≥≥ 
=
≥≥ 
$str
≥≥ _
+
≥≥_ `
$str¥¥ •
;¥¥• ¶
using
µµ 
(
µµ 
SqlConnection
µµ $
con
µµ% (
=
µµ) *
new
µµ+ .
SqlConnection
µµ/ <
(
µµ< =
_config
µµ= D
.
µµD E!
GetConnectionString
µµE X
(
µµX Y
$str
µµY c
)
µµc d
)
µµd e
)
µµe f
{
∂∂ 
using
∑∑ 
(
∑∑ 

SqlCommand
∑∑ %
cmd
∑∑& )
=
∑∑* +
new
∑∑, /

SqlCommand
∑∑0 :
(
∑∑: ;
query
∑∑; @
)
∑∑@ A
)
∑∑A B
{
∏∏ 
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
Add
ππ' *
(
ππ* +
new
ππ+ .
SqlParameter
ππ/ ;
(
ππ; <
$str
ππ< D
,
ππD E
System
ππF L
.
ππL M
Data
ππM Q
.
ππQ R
	SqlDbType
ππR [
.
ππ[ \
VarChar
ππ\ c
)
ππc d
)
ππd e
;
ππe f
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
[
∫∫& '
$str
∫∫' /
]
∫∫/ 0
.
∫∫0 1
Value
∫∫1 6
=
∫∫7 8
valor
∫∫9 >
;
∫∫> ?
cmd
ªª 
.
ªª 

Connection
ªª &
=
ªª' (
con
ªª) ,
;
ªª, -
con
ºº 
.
ºº 
Open
ºº  
(
ºº  !
)
ºº! "
;
ºº" #
using
ΩΩ 
(
ΩΩ 
SqlDataReader
ΩΩ ,
srd
ΩΩ- 0
=
ΩΩ1 2
cmd
ΩΩ3 6
.
ΩΩ6 7
ExecuteReader
ΩΩ7 D
(
ΩΩD E
)
ΩΩE F
)
ΩΩF G
{
ææ 
while
øø !
(
øø" #
srd
øø# &
.
øø& '
Read
øø' +
(
øø+ ,
)
øø, -
)
øø- .
{
¿¿ 
	articulos
¡¡  )
.
¡¡) *
Add
¡¡* -
(
¡¡- .
new
¡¡. 1
articulosPedidos
¡¡2 B
{
¬¬  !
Id
√√$ &
=
√√' (
Convert
√√) 0
.
√√0 1
ToInt32
√√1 8
(
√√8 9
srd
√√9 <
[
√√< =
$str
√√= A
]
√√A B
)
√√B C
,
√√C D
Codigo
ƒƒ$ *
=
ƒƒ+ ,
Convert
ƒƒ- 4
.
ƒƒ4 5
ToInt32
ƒƒ5 <
(
ƒƒ< =
srd
ƒƒ= @
[
ƒƒ@ A
$str
ƒƒA I
]
ƒƒI J
)
ƒƒJ K
,
ƒƒK L
Descripcion
≈≈$ /
=
≈≈0 1
srd
≈≈2 5
[
≈≈5 6
$str
≈≈6 C
]
≈≈C D
+
≈≈D E
$str
≈≈E G
,
≈≈G H
und
∆∆$ '
=
∆∆( )
srd
∆∆* -
[
∆∆- .
$str
∆∆. 3
]
∆∆3 4
+
∆∆4 5
$str
∆∆5 7
,
∆∆7 8
cuenta
««$ *
=
««+ ,
srd
««- 0
[
««0 1
$str
««1 9
]
««9 :
+
««: ;
$str
««; =
}
»»  !
)
»»! "
;
»»" #
}
…… 
}
   
con
ÀÀ 
.
ÀÀ 
Close
ÀÀ !
(
ÀÀ! "
)
ÀÀ" #
;
ÀÀ# $
}
ÃÃ 
}
ÕÕ 
}
ŒŒ 
catch
œœ 
(
œœ 
	Exception
œœ 
e
œœ 
)
œœ 
{
–– 
var
—— 
st
—— 
=
—— 
new
—— 

StackTrace
—— '
(
——' (
)
——( )
;
——) *
var
““ 
sf
““ 
=
““ 
st
““ 
.
““ 
GetFrame
““ $
(
““$ %
$num
““% &
)
““& '
;
““' (
General
‘‘ 
.
‘‘ 
CrearLogError
‘‘ %
(
‘‘% &
sf
‘‘& (
.
‘‘( )
	GetMethod
‘‘) 2
(
‘‘2 3
)
‘‘3 4
.
‘‘4 5
Name
‘‘5 9
,
‘‘9 :
$str
‘‘; N
,
‘‘N O
e
‘‘P Q
.
‘‘Q R
Message
‘‘R Y
,
‘‘Y Z
_config
‘‘[ b
.
‘‘b c!
GetConnectionString
‘‘c v
(
‘‘v w
$str‘‘w Å
)‘‘Å Ç
)‘‘Ç É
;‘‘É Ñ
}
’’ 
return
÷÷ 
	articulos
÷÷ 
;
÷÷ 
}
◊◊ 	
public
ŸŸ 
List
ŸŸ 
<
ŸŸ 
articulosPedidos
ŸŸ $
>
ŸŸ$ %)
busquedaArticulosFijoPedido
ŸŸ& A
(
ŸŸA B
string
ŸŸB H
valor
ŸŸI N
)
ŸŸN O
{
⁄⁄ 	
List
€€ 
<
€€ 
articulosPedidos
€€ !
>
€€! "
	articulos
€€# ,
=
€€- .
new
€€/ 2
List
€€3 7
<
€€7 8
articulosPedidos
€€8 H
>
€€H I
(
€€I J
)
€€J K
;
€€K L
string
‹‹ 
query
‹‹ 
=
‹‹ 
$str
‹‹ 
;
‹‹ 
try
›› 
{
ﬁﬁ 
query
ﬂﬂ 
=
ﬂﬂ 
$str
ﬂﬂ Z
+
ﬂﬂZ [
$str‡‡ •
;‡‡• ¶
using
‚‚ 
(
‚‚ 
SqlConnection
‚‚ $
con
‚‚% (
=
‚‚) *
new
‚‚+ .
SqlConnection
‚‚/ <
(
‚‚< =
_config
‚‚= D
.
‚‚D E!
GetConnectionString
‚‚E X
(
‚‚X Y
$str
‚‚Y c
)
‚‚c d
)
‚‚d e
)
‚‚e f
{
„„ 
using
‰‰ 
(
‰‰ 

SqlCommand
‰‰ %
cmd
‰‰& )
=
‰‰* +
new
‰‰, /

SqlCommand
‰‰0 :
(
‰‰: ;
query
‰‰; @
)
‰‰@ A
)
‰‰A B
{
ÂÂ 
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
Add
ÊÊ' *
(
ÊÊ* +
new
ÊÊ+ .
SqlParameter
ÊÊ/ ;
(
ÊÊ; <
$str
ÊÊ< D
,
ÊÊD E
System
ÊÊF L
.
ÊÊL M
Data
ÊÊM Q
.
ÊÊQ R
	SqlDbType
ÊÊR [
.
ÊÊ[ \
VarChar
ÊÊ\ c
)
ÊÊc d
)
ÊÊd e
;
ÊÊe f
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
[
ÁÁ& '
$str
ÁÁ' /
]
ÁÁ/ 0
.
ÁÁ0 1
Value
ÁÁ1 6
=
ÁÁ7 8
valor
ÁÁ9 >
;
ÁÁ> ?
cmd
ËË 
.
ËË 

Connection
ËË &
=
ËË' (
con
ËË) ,
;
ËË, -
con
ÈÈ 
.
ÈÈ 
Open
ÈÈ  
(
ÈÈ  !
)
ÈÈ! "
;
ÈÈ" #
using
ÍÍ 
(
ÍÍ 
SqlDataReader
ÍÍ ,
srd
ÍÍ- 0
=
ÍÍ1 2
cmd
ÍÍ3 6
.
ÍÍ6 7
ExecuteReader
ÍÍ7 D
(
ÍÍD E
)
ÍÍE F
)
ÍÍF G
{
ÎÎ 
while
ÏÏ !
(
ÏÏ" #
srd
ÏÏ# &
.
ÏÏ& '
Read
ÏÏ' +
(
ÏÏ+ ,
)
ÏÏ, -
)
ÏÏ- .
{
ÌÌ 
	articulos
ÓÓ  )
.
ÓÓ) *
Add
ÓÓ* -
(
ÓÓ- .
new
ÓÓ. 1
articulosPedidos
ÓÓ2 B
{
ÔÔ  !
Id
$ &
=
' (
Convert
) 0
.
0 1
ToInt32
1 8
(
8 9
srd
9 <
[
< =
$str
= A
]
A B
)
B C
,
C D
Codigo
ÒÒ$ *
=
ÒÒ+ ,
Convert
ÒÒ- 4
.
ÒÒ4 5
ToInt32
ÒÒ5 <
(
ÒÒ< =
srd
ÒÒ= @
[
ÒÒ@ A
$str
ÒÒA I
]
ÒÒI J
)
ÒÒJ K
,
ÒÒK L
Descripcion
ÚÚ$ /
=
ÚÚ0 1
srd
ÚÚ2 5
[
ÚÚ5 6
$str
ÚÚ6 C
]
ÚÚC D
+
ÚÚE F
$str
ÚÚG I
,
ÚÚI J
und
ÛÛ$ '
=
ÛÛ( )
srd
ÛÛ* -
[
ÛÛ- .
$str
ÛÛ. 3
]
ÛÛ3 4
+
ÛÛ5 6
$str
ÛÛ7 9
,
ÛÛ9 :
cuenta
ÙÙ$ *
=
ÙÙ+ ,
srd
ÙÙ- 0
[
ÙÙ0 1
$str
ÙÙ1 9
]
ÙÙ9 :
+
ÙÙ; <
$str
ÙÙ= ?
}
ıı  !
)
ıı! "
;
ıı" #
}
ˆˆ 
}
˜˜ 
con
¯¯ 
.
¯¯ 
Close
¯¯ !
(
¯¯! "
)
¯¯" #
;
¯¯# $
}
˘˘ 
}
˙˙ 
}
¸¸ 
catch
˝˝ 
(
˝˝ 
	Exception
˝˝ 
e
˝˝ 
)
˝˝ 
{
˛˛ 
var
ˇˇ 
st
ˇˇ 
=
ˇˇ 
new
ˇˇ 

StackTrace
ˇˇ '
(
ˇˇ' (
)
ˇˇ( )
;
ˇˇ) *
var
ÄÄ 
sf
ÄÄ 
=
ÄÄ 
st
ÄÄ 
.
ÄÄ 
GetFrame
ÄÄ $
(
ÄÄ$ %
$num
ÄÄ% &
)
ÄÄ& '
;
ÄÄ' (
General
ÇÇ 
.
ÇÇ 
CrearLogError
ÇÇ %
(
ÇÇ% &
sf
ÇÇ& (
.
ÇÇ( )
	GetMethod
ÇÇ) 2
(
ÇÇ2 3
)
ÇÇ3 4
.
ÇÇ4 5
Name
ÇÇ5 9
,
ÇÇ9 :
$str
ÇÇ; I
,
ÇÇI J
e
ÇÇK L
.
ÇÇL M
Message
ÇÇM T
,
ÇÇT U
_config
ÇÇV ]
.
ÇÇ] ^!
GetConnectionString
ÇÇ^ q
(
ÇÇq r
$str
ÇÇr |
)
ÇÇ| }
)
ÇÇ} ~
;
ÇÇ~ 
}
ÉÉ 
return
ÑÑ 
	articulos
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
}
àà 
}ââ €&
GE:\GITEA\siscointBKII\siscointBKII\Controllers\CentroCostoController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class !
CentroCostoController &
:' (
ControllerBase) 7
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public !
CentroCostoController $
($ %
AplicationDbContext% 8
context9 @
,@ A
IConfigurationB P
configQ W
)W X
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpPost	 
( 
$str "
)" #
]# $
[ 	
	Authorize	 
] 
public 
IActionResult 
getCentroCosto +
(+ ,
[, -
FromBody- 5
]5 6
area_ccosto7 B
area_ccostosC O
)O P
{ 	
var 
dato 
= 
new 
Object !
(! "
)" #
;# $
try 
{ 
dato 
= 
_context 
.  
area_ccosto  +
.+ ,
Where, 1
(1 2
x2 3
=>4 6
x7 8
.8 9
id9 ;
==< >
area_ccostos? K
.K L
idL N
||O Q
xR S
.S T
ccostoT Z
==[ ]
area_ccostos^ j
.j k
ccostok q
)q r
.r s
ToLists y
(y z
)z {
;{ |
}   
catch!! 
(!! 
	Exception!! 
e!! 
)!! 
{"" 
var$$ 
st$$ 
=$$ 
new$$ 

StackTrace$$ '
($$' (
)$$( )
;$$) *
var%% 
sf%% 
=%% 
st%% 
.%% 
GetFrame%% $
(%%$ %
$num%%% &
)%%& '
;%%' (
General'' 
.'' 
CrearLogError'' %
(''% &
sf''& (
.''( )
	GetMethod'') 2
(''2 3
)''3 4
.''4 5
Name''5 9
,''9 :
$str''; H
,''H I
e''J K
.''K L
Message''L S
,''S T
_config''U \
.''\ ]
GetConnectionString''] p
(''p q
$str''q {
)''{ |
)''| }
;''} ~
}(( 
return)) 
Ok)) 
()) 
dato)) 
))) 
;)) 
}** 	
[,, 	
HttpGet,,	 
(,, 
$str,, %
),,% &
],,& '
[-- 	
	Authorize--	 
]-- 
public.. 
IActionResult.. "
getListAreaCentroCosto.. 3
(..3 4
)..4 5
{// 	
var00 
data00 
=00 
new00 
Object00 !
(00! "
)00" #
;00# $
try11 
{22 
data33 
=33 
_context33 
.33  
area_ccosto33  +
.33+ ,
ToList33, 2
(332 3
)333 4
;334 5
if44 
(44 
data44 
==44 
null44 
)44  
{55 
return66 
null66 
;66  
}77 
}88 
catch99 
(99 
	Exception99 
e99 
)99 
{:: 
var;; 
st;; 
=;; 
new;; 

StackTrace;; '
(;;' (
);;( )
;;;) *
var<< 
sf<< 
=<< 
st<< 
.<< 
GetFrame<< $
(<<$ %
$num<<% &
)<<& '
;<<' (
General>> 
.>> 
CrearLogError>> %
(>>% &
sf>>& (
.>>( )
	GetMethod>>) 2
(>>2 3
)>>3 4
.>>4 5
Name>>5 9
,>>9 :
$str>>; H
,>>H I
e>>J K
.>>K L
Message>>L S
,>>S T
_config>>U \
.>>\ ]
GetConnectionString>>] p
(>>p q
$str>>q {
)>>{ |
)>>| }
;>>} ~
}?? 
return@@ 
Ok@@ 
(@@ 
data@@ 
)@@ 
;@@ 
}AA 	
}BB 
}CC ‹t
DE:\GITEA\siscointBKII\siscointBKII\Controllers\empleadoController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
empleadoController #
:$ %

Controller& 0
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
object  
JavaScriptSerializer *
{+ ,
get- 0
;0 1
private2 9
set: =
;= >
}? @
public 
empleadoController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
]  
[ 	
	Authorize	 
] 
public 
IActionResult 
getEmpresas (
(( )
)) *
{   	
var!! 
data!! 
=!! 
_context!! 
.!!  
empresa!!  '
.!!' (
ToList!!( .
(!!. /
)!!/ 0
;!!0 1
if"" 
("" 
data"" 
=="" 
null"" 
)"" 
return## 
null## 
;## 
return%% 
Ok%% 
(%% 
data%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPost((	 
((( 
$str(( !
)((! "
]((" #
[)) 	
	Authorize))	 
])) 
public** 
IActionResult** 
getAreaCcosto** *
(*** +
dynamic**+ 2
data**3 7
)**7 8
{++ 	
return88 
Ok88 
(88 
)88 
;88 
}99 	
[;; 	
HttpPost;;	 
(;; 
$str;; $
);;$ %
];;% &
[<< 	
	Authorize<<	 
]<< 
public== 
IActionResult== 
busquedaEmpleado== -
(==- .
[==. /
FromBody==/ 7
]==7 8
empleado==9 A
Empleado==B J
)==J K
{>> 	
List@@ 
<@@  
dataBusquedaCompleta@@ %
>@@% &
busqueda@@' /
=@@0 1
new@@2 5
List@@6 :
<@@: ; 
dataBusquedaCompleta@@; O
>@@O P
(@@P Q
)@@Q R
;@@R S
tryAA 
{BB 
varCC 
dataCC 
=CC 
_contextCC #
.CC# $
empleadoCC$ ,
.CC, -
WhereCC- 2
(CC2 3
xCC3 4
=>CC5 7
xCC8 9
.CC9 :

cedula_empCC: D
==CCE G
EmpleadoCCH P
.CCP Q

cedula_empCCQ [
||CC\ ^
xDD4 5
.DD5 6
nombreDD6 <
.DD< =
ContainsDD= E
(DDE F
EmpleadoDDF N
.DDN O
nombreDDO U
)DDU V
||DDW Y
xEE4 5
.EE5 6
snombreEE6 =
.EE= >
ContainsEE> F
(EEF G
EmpleadoEEG O
.EEO P
snombreEEP W
)EEW X
||EEY [
xFF4 5
.FF5 6
ppellidoFF6 >
.FF> ?
ContainsFF? G
(FFG H
EmpleadoFFH P
.FFP Q
ppellidoFFQ Y
)FFY Z
||FF[ ]
xGG4 5
.GG5 6
spellidoGG6 >
.GG> ?
ContainsGG? G
(GGG H
EmpleadoGGH P
.GGP Q
spellidoGGQ Y
)GGY Z
)GGZ [
.GG[ \
ToListGG\ b
(GGb c
)GGc d
;GGd e
ifII 
(II 
dataII 
==II 
nullII  
)II  !
returnJJ 
nullJJ 
;JJ  
foreachLL 
(LL 
empleadoLL  
itemLL! %
inLL& (
dataLL) -
)LL- .
{MM  
dataBusquedaCompletaNN (
busqNN) -
=NN. /
newNN0 3 
dataBusquedaCompletaNN4 H
(NNH I
)NNI J
;NNJ K
busqOO 
.OO 
idOO 
=OO 
itemOO "
.OO" #
idOO# %
;OO% &
busqPP 
.PP 
valor1PP 
=PP  !
itemPP" &
.PP& '

cedula_empPP' 1
;PP1 2
busqQQ 
.QQ 
valor2QQ 
=QQ  !
itemQQ" &
.QQ& '
nombreQQ' -
;QQ- .
busqRR 
.RR 
valor3RR 
=RR  !
itemRR" &
.RR& '
snombreRR' .
;RR. /
busqSS 
.SS 
valor4SS 
=SS  !
itemSS" &
.SS& '
ppellidoSS' /
;SS/ 0
busqTT 
.TT 
valor5TT 
=TT  !
itemTT" &
.TT& '
spellidoTT' /
;TT/ 0
busquedaVV 
.VV 
AddVV  
(VV  !
busqVV! %
)VV% &
;VV& '
}WW 
}XX 
catchYY 
(YY 
	ExceptionYY 
eYY 
)YY 
{ZZ 
var\\ 
st\\ 
=\\ 
new\\ 

StackTrace\\ '
(\\' (
)\\( )
;\\) *
var]] 
sf]] 
=]] 
st]] 
.]] 
GetFrame]] $
(]]$ %
$num]]% &
)]]& '
;]]' (
General__ 
.__ 
CrearLogError__ %
(__% &
sf__& (
.__( )
	GetMethod__) 2
(__2 3
)__3 4
.__4 5
Name__5 9
,__9 :
$str__; E
,__E F
e__G H
.__H I
Message__I P
,__P Q
_config__R Y
.__Y Z
GetConnectionString__Z m
(__m n
$str__n x
)__x y
)__y z
;__z {
}`` 
returnaa 
Okaa 
(aa 
busquedaaa 
)aa 
;aa  
}bb 	
[dd 	
HttpPostdd	 
(dd 
$strdd &
)dd& '
]dd' (
[ee 	
	Authorizeee	 
]ee 
publicff 
IActionResultff 
busquedaEmpleadoIdff /
(ff/ 0
[ff0 1
FromBodyff1 9
]ff9 :
empleadoff; C
EmpleadoffD L
)ffL M
{gg 	
varhh 
datahh 
=hh 
newhh 
Objecthh !
(hh! "
)hh" #
;hh# $
tryii 
{jj 
datakk 
=kk 
_contextkk 
.kk  
empleadokk  (
.kk( )
Wherekk) .
(kk. /
xkk/ 0
=>kk1 3
xkk4 5
.kk5 6
idkk6 8
==kk9 ;
Empleadokk< D
.kkD E
idkkE G
)kkG H
.kkH I
ToListkkI O
(kkO P
)kkP Q
;kkQ R
ifll 
(ll 
datall 
==ll 
nullll  
)ll  !
returnmm 
nullmm 
;mm  
}nn 
catchoo 
(oo 
	Exceptionoo 
eoo 
)oo 
{pp 
varqq 
stqq 
=qq 
newqq 

StackTraceqq '
(qq' (
)qq( )
;qq) *
varrr 
sfrr 
=rr 
strr 
.rr 
GetFramerr $
(rr$ %
$numrr% &
)rr& '
;rr' (
Generaltt 
.tt 
CrearLogErrortt %
(tt% &
sftt& (
.tt( )
	GetMethodtt) 2
(tt2 3
)tt3 4
.tt4 5
Namett5 9
,tt9 :
$strtt; E
,ttE F
ettG H
.ttH I
MessagettI P
,ttP Q
_configttR Y
.ttY Z
GetConnectionStringttZ m
(ttm n
$strttn x
)ttx y
)tty z
;ttz {
}uu 
returnvv 
Okvv 
(vv 
datavv 
)vv 
;vv 
}ww 	
[xx 	
HttpPostxx	 
(xx 
$strxx #
)xx# $
]xx$ %
[yy 	
	Authorizeyy	 
]yy 
publiczz 
IActionResultzz 
agregarEmpleadozz ,
(zz, -
[zz- .
FromBodyzz. 6
]zz6 7
empleadozz8 @
EmpleadozzA I
)zzI J
{{{ 	
Boolean}} 
EsEmpleadoValido}} $
=}}% &
false}}' ,
;}}, -
EsEmpleadoValido~~ 
=~~ 
validoEmpleado~~ -
(~~- .
Empleado~~. 6
.~~6 7

cedula_emp~~7 A
)~~A B
;~~B C
if 
( 
EsEmpleadoValido  
)  !
{
ÄÄ 
_context
ÅÅ 
.
ÅÅ 
Add
ÅÅ 
(
ÅÅ 
Empleado
ÅÅ %
)
ÅÅ% &
;
ÅÅ& '
return
ÇÇ 
Ok
ÇÇ 
(
ÇÇ 
_context
ÇÇ "
.
ÇÇ" #
SaveChanges
ÇÇ# .
(
ÇÇ. /
)
ÇÇ/ 0
)
ÇÇ0 1
;
ÇÇ1 2
}
ÉÉ 
{
ÑÑ 
return
ÖÖ 
null
ÖÖ 
;
ÖÖ 
}
ÜÜ 
}
àà 	
[
ää 	
HttpPut
ää	 
(
ää 
$str
ää &
)
ää& '
]
ää' (
[
ãã 	
	Authorize
ãã	 
]
ãã 
public
åå 
IActionResult
åå 
Edit
åå !
(
åå! "
int
åå" %
id
åå& (
,
åå( )
[
åå* +
FromBody
åå+ 3
]
åå3 4
empleado
åå5 =
Empleado
åå> F
)
ååF G
{
çç 	
int
éé 
result
éé 
=
éé 
$num
éé 
;
éé 
string
èè 
mensaje
èè 
=
èè 
$str
èè 
;
èè  
try
êê 
{
ëë 
if
íí 
(
íí 
id
íí 
==
íí 
Empleado
íí "
.
íí" #
id
íí# %
)
íí% &
{
ìì 
_context
îî 
.
îî 
Update
îî #
(
îî# $
Empleado
îî$ ,
)
îî, -
;
îî- .
result
ïï 
=
ïï 
_context
ïï %
.
ïï% &
SaveChanges
ïï& 1
(
ïï1 2
)
ïï2 3
;
ïï3 4
mensaje
ññ 
=
ññ 
$str
ññ !
;
ññ! "
if
óó 
(
óó 
result
óó 
>
óó  
$num
óó! "
)
óó" #
{
òò 
mensaje
ôô 
=
ôô  !
$str
ôô" 8
;
ôô8 9
}
öö 
else
õõ 
{
úú 
mensaje
ùù 
=
ùù  !
$str
ùù" 7
;
ùù7 8
}
ûû 
}
†† 
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
e
¢¢ 
)
¢¢ 
{
££ 
var
•• 
st
•• 
=
•• 
new
•• 

StackTrace
•• '
(
••' (
)
••( )
;
••) *
var
¶¶ 
sf
¶¶ 
=
¶¶ 
st
¶¶ 
.
¶¶ 
GetFrame
¶¶ $
(
¶¶$ %
$num
¶¶% &
)
¶¶& '
;
¶¶' (
General
®® 
.
®® 
CrearLogError
®® %
(
®®% &
sf
®®& (
.
®®( )
	GetMethod
®®) 2
(
®®2 3
)
®®3 4
.
®®4 5
Name
®®5 9
,
®®9 :
$str
®®; E
,
®®E F
e
®®G H
.
®®H I
Message
®®I P
,
®®P Q
_config
®®R Y
.
®®Y Z!
GetConnectionString
®®Z m
(
®®m n
$str
®®n x
)
®®x y
)
®®y z
;
®®z {
}
©© 
string
´´ 
json
´´ 
=
´´ 
JsonConvert
´´ %
.
´´% &
SerializeObject
´´& 5
(
´´5 6
new
´´6 9
{
´´: ;
Result
´´< B
=
´´C D
result
´´E K
,
´´K L
Mensaje
´´M T
=
´´U V
mensaje
´´W ^
}
´´_ `
)
´´` a
;
´´a b
return
¨¨ 
Ok
¨¨ 
(
¨¨ 
json
¨¨ 
)
¨¨ 
;
¨¨ 
}
≠≠ 	
private
ØØ 
Boolean
ØØ 
validoEmpleado
ØØ &
(
ØØ& '
string
ØØ' -
cedulaEmpleado
ØØ. <
)
ØØ< =
{
∞∞ 	
Boolean
±± 
EsValido
±± 
=
±± 
false
±± $
;
±±$ %
try
≤≤ 
{
≥≥ 
var
¥¥ 
dato
¥¥ 
=
¥¥ 
_context
¥¥ #
.
¥¥# $
empleado
¥¥$ ,
.
¥¥, -
FirstOrDefault
¥¥- ;
(
¥¥; <
x
¥¥< =
=>
¥¥> @
x
¥¥A B
.
¥¥B C

cedula_emp
¥¥C M
==
¥¥N P
cedulaEmpleado
¥¥Q _
)
¥¥_ `
;
¥¥` a
if
µµ 
(
µµ 
dato
µµ 
==
µµ 
null
µµ  
)
µµ  !
EsValido
∂∂ 
=
∂∂ 
true
∂∂ #
;
∂∂# $
}
∑∑ 
catch
∏∏ 
(
∏∏ 
	Exception
∏∏ 
e
∏∏ 
)
∏∏ 
{
ππ 
var
ªª 
st
ªª 
=
ªª 
new
ªª 

StackTrace
ªª '
(
ªª' (
)
ªª( )
;
ªª) *
var
ºº 
sf
ºº 
=
ºº 
st
ºº 
.
ºº 
GetFrame
ºº $
(
ºº$ %
$num
ºº% &
)
ºº& '
;
ºº' (
General
ææ 
.
ææ 
CrearLogError
ææ %
(
ææ% &
sf
ææ& (
.
ææ( )
	GetMethod
ææ) 2
(
ææ2 3
)
ææ3 4
.
ææ4 5
Name
ææ5 9
,
ææ9 :
$str
ææ; E
,
ææE F
e
ææG H
.
ææH I
Message
ææI P
,
ææP Q
_config
ææR Y
.
ææY Z!
GetConnectionString
ææZ m
(
ææm n
$str
ææn x
)
ææx y
)
ææy z
;
ææz {
}
øø 
return
¡¡ 
EsValido
¡¡ 
;
¡¡ 
}
¬¬ 	
}
çç 
}éé ¶ä
DE:\GITEA\siscointBKII\siscointBKII\Controllers\EntradasController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
EntradasController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
EntradasController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
)  
]  !
[ 	
	Authorize	 
] 
public 
IActionResult 
getJefes %
(% &
)& '
{   	
var!! 
data!! 
=!! 
new!! 
Object!! !
(!!! "
)!!" #
;!!# $
try"" 
{## 
data$$ 
=$$ 
_context$$ 
.$$  
jefes$$  %
.$$% &
ToList$$& ,
($$, -
)$$- .
;$$. /
if%% 
(%% 
data%% 
==%% 
null%% 
)%%  
{&& 
return'' 
null'' 
;''  
}(( 
})) 
catch** 
(** 
	Exception** 
e** 
)** 
{++ 
var,, 
st,, 
=,, 
new,, 

StackTrace,, '
(,,' (
),,( )
;,,) *
var-- 
sf-- 
=-- 
st-- 
.-- 
GetFrame-- $
(--$ %
$num--% &
)--& '
;--' (
General// 
.// 
CrearLogError// %
(//% &
sf//& (
.//( )
	GetMethod//) 2
(//2 3
)//3 4
.//4 5
Name//5 9
,//9 :
$str//; B
,//B C
e//D E
.//E F
Message//F M
,//M N
_config//O V
.//V W
GetConnectionString//W j
(//j k
$str//k u
)//u v
)//v w
;//w x
}00 
return11 
Ok11 
(11 
data11 
)11 
;11 
}22 	
[33 	
HttpGet33	 
(33 
$str33 $
)33$ %
]33% &
[44 	
	Authorize44	 
]44 
public55 
IActionResult55 
	getObjeto55 &
(55& '
int55' *
id55+ -
)55- .
{66 	
var77 
data77 
=77 
new77 
Object77 !
(77! "
)77" #
;77# $
try88 
{99 
data:: 
=:: 
_context:: 
.::  
objeto::  &
.::& '
Where::' ,
(::, -
x::- .
=>::/ 1
x::2 3
.::3 4
id::4 6
==::7 9
id::: <
)::< =
.::= >
ToList::> D
(::D E
)::E F
;::F G
if;; 
(;; 
data;; 
==;; 
null;; 
);;  
{<< 
return== 
null== 
;==  
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
e@@ 
)@@ 
{AA 
varBB 
stBB 
=BB 
newBB 

StackTraceBB '
(BB' (
)BB( )
;BB) *
varCC 
sfCC 
=CC 
stCC 
.CC 
GetFrameCC $
(CC$ %
$numCC% &
)CC& '
;CC' (
GeneralEE 
.EE 
CrearLogErrorEE %
(EE% &
sfEE& (
.EE( )
	GetMethodEE) 2
(EE2 3
)EE3 4
.EE4 5
NameEE5 9
,EE9 :
$strEE; C
,EEC D
eEEE F
.EEF G
MessageEEG N
,EEN O
_configEEP W
.EEW X
GetConnectionStringEEX k
(EEk l
$strEEl v
)EEv w
)EEw x
;EEx y
}FF 
returnHH 
OkHH 
(HH 
dataHH 
)HH 
;HH 
}II 	
[KK 	
HttpPostKK	 
(KK 
$strKK "
)KK" #
]KK# $
[LL 	
	AuthorizeLL	 
]LL 
publicMM 
IActionResultMM 
crearEntredaMM )
(MM) *
dynamicMM* 1
jsonMM2 6
)MM6 7
{NN 	
stringOO 

jsonResultOO 
=OO 
$strOO  "
;OO" #
tryPP 
{QQ 
varRR 
dataJsonRR 
=RR 
SystemRR %
.RR% &
TextRR& *
.RR* +
JsonRR+ /
.RR/ 0
JsonSerializerRR0 >
.RR> ?
	SerializeRR? H
(RRH I
jsonRRI M
)RRM N
;RRN O
varTT 
	datObjectTT 
=TT 
JObjectTT  '
.TT' (
ParseTT( -
(TT- .
dataJsonTT. 6
)TT6 7
;TT7 8
stringUU 
tipoEntregasUU #
=UU$ %
ConvertUU& -
.UU- .
ToStringUU. 6
(UU6 7
	datObjectUU7 @
[UU@ A
$strUUA N
]UUN O
)UUO P
;UUP Q
tipoEntregaVV 
TipoEntregasVV (
=VV) *
JsonConvertVV+ 6
.VV6 7
DeserializeObjectVV7 H
<VVH I
tipoEntregaVVI T
>VVT U
(VVU V
tipoEntregasVVV b
)VVb c
;VVc d
ifWW 
(WW 
TipoEntregasWW 
.WW  
entregaWW  '
==WW( *
$strWW+ .
||WW/ 1
TipoEntregasWW2 >
.WW> ?
prestamoWW? G
==WWH J
$strWWK N
)WWN O
{XX 
stringZZ 
EntregasZZ #
=ZZ$ %
ConvertZZ& -
.ZZ- .
ToStringZZ. 6
(ZZ6 7
	datObjectZZ7 @
[ZZ@ A
$strZZA J
]ZZJ K
)ZZK L
;ZZL M
string[[ 
DetalleEntregas[[ *
=[[+ ,
Convert[[- 4
.[[4 5
ToString[[5 =
([[= >
	datObject[[> G
[[[G H
$str[[H X
][[X Y
)[[Y Z
;[[Z [

jsonResult]] 
=]]  
CrearEntrega]]! -
(]]- .
Entregas]]. 6
,]]6 7
DetalleEntregas]]8 G
)]]G H
;]]H I
}^^ 
else__ 
if__ 
(__ 
TipoEntregas__ $
.__$ %

devolucion__% /
==__0 2
$str__3 6
)__6 7
{`` 
stringbb 

devolucionbb %
=bb& '
Convertbb( /
.bb/ 0
ToStringbb0 8
(bb8 9
	datObjectbb9 B
[bbB C
$strbbC L
]bbL M
)bbM N
;bbN O
stringcc 
detalleDevolucioncc ,
=cc- .
Convertcc/ 6
.cc6 7
ToStringcc7 ?
(cc? @
	datObjectcc@ I
[ccI J
$strccJ Z
]ccZ [
)cc[ \
;cc\ ]

jsonResultee 
=ee  
CrearDevolucionee! 0
(ee0 1

devolucionee1 ;
,ee; <
detalleDevolucionee= N
)eeN O
;eeO P
}ff 
}gg 
catchhh 
(hh 
	Exceptionhh 
ehh 
)hh 
{ii 
varjj 
stjj 
=jj 
newjj 

StackTracejj '
(jj' (
)jj( )
;jj) *
varkk 
sfkk 
=kk 
stkk 
.kk 
GetFramekk $
(kk$ %
$numkk% &
)kk& '
;kk' (
Generalmm 
.mm 
CrearLogErrormm %
(mm% &
sfmm& (
.mm( )
	GetMethodmm) 2
(mm2 3
)mm3 4
.mm4 5
Namemm5 9
,mm9 :
$strmm; E
,mmE F
emmG H
.mmH I
MessagemmI P
,mmP Q
_configmmR Y
.mmY Z
GetConnectionStringmmZ m
(mmm n
$strmmn x
)mmx y
)mmy z
;mmz {
}nn 
returnpp 
Okpp 
(pp 

jsonResultpp  
)pp  !
;pp! "
}qq 	
[rr 	
HttpPostrr	 
(rr 
$strrr "
)rr" #
]rr# $
[ss 	
	Authorizess	 
]ss 
publictt 
IActionResulttt 
listarEntregastt +
(tt+ ,
dynamictt, 3
tipott4 8
)tt8 9
{uu 	
varww 
dataww 
=ww 
Systemww 
.ww 
Textww "
.ww" #
Jsonww# '
.ww' (
JsonSerializerww( 6
.ww6 7
	Serializeww7 @
(ww@ A
tipowwA E
)wwE F
;wwF G
varxx 
datObejtxx 
=xx 
JObjectxx "
.xx" #
Parsexx# (
(xx( )
dataxx) -
)xx- .
;xx. /
intyy 
tipo_articuloyy 
=yy 
Convertyy  '
.yy' (
ToInt32yy( /
(yy/ 0
datObejtyy0 8
[yy8 9
$stryy9 K
]yyK L
)yyL M
;yyM N
intzz 
tipo_objetozz 
=zz 
Convertzz %
.zz% &
ToInt32zz& -
(zz- .
datObejtzz. 6
[zz6 7
$strzz7 A
]zzA B
)zzB C
;zzC D
List{{ 
<{{ 
reporte_objetos{{  
>{{  !
rptObj{{" (
={{) *"
getQueryListarReportes{{+ A
({{A B
tipo_articulo{{B O
,{{O P
tipo_objeto{{Q \
){{\ ]
;{{] ^
return|| 
Ok|| 
(|| 
rptObj|| 
)|| 
;|| 
}~~ 	
[
ÄÄ 	
HttpGet
ÄÄ	 
(
ÄÄ 
$str
ÄÄ 8
)
ÄÄ8 9
]
ÄÄ9 :
[
ÅÅ 	
	Authorize
ÅÅ	 
]
ÅÅ 
public
ÇÇ 
IActionResult
ÇÇ 
listarTipoReporte
ÇÇ .
(
ÇÇ. /
int
ÇÇ/ 2
tipo_reporte_page
ÇÇ3 D
)
ÇÇD E
{
ÉÉ 	
var
ÑÑ 
data
ÑÑ 
=
ÑÑ 
new
ÑÑ 
Object
ÑÑ !
(
ÑÑ! "
)
ÑÑ" #
;
ÑÑ# $
try
ÖÖ 
{
ÜÜ 
data
áá 
=
áá 
_context
áá 
.
áá  
tipo_reporte
áá  ,
.
áá, -
Where
áá- 2
(
áá2 3
x
áá3 4
=>
áá5 7
x
áá8 9
.
áá9 : 
tipo_reporte_tabla
áá: L
==
ááM O
tipo_reporte_page
ááP a
)
ááa b
.
ááb c
ToList
áác i
(
áái j
)
ááj k
;
áák l
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
e
ââ 
)
ââ 
{
ää 
var
ãã 
st
ãã 
=
ãã 
new
ãã 

StackTrace
ãã '
(
ãã' (
)
ãã( )
;
ãã) *
var
åå 
sf
åå 
=
åå 
st
åå 
.
åå 
GetFrame
åå $
(
åå$ %
$num
åå% &
)
åå& '
;
åå' (
General
éé 
.
éé 
CrearLogError
éé %
(
éé% &
sf
éé& (
.
éé( )
	GetMethod
éé) 2
(
éé2 3
)
éé3 4
.
éé4 5
Name
éé5 9
,
éé9 :
$str
éé; I
,
ééI J
e
ééK L
.
ééL M
Message
ééM T
,
ééT U
_config
ééV ]
.
éé] ^!
GetConnectionString
éé^ q
(
ééq r
$str
éér |
)
éé| }
)
éé} ~
;
éé~ 
}
èè 
return
êê 
Ok
êê 
(
êê 
data
êê 
)
êê 
;
êê 
}
ëë 	
public
ìì 
List
ìì 
<
ìì 
reporte_objetos
ìì #
>
ìì# $$
getQueryListarReportes
ìì% ;
(
ìì; <
int
ìì< ?
tipo_articulo
ìì@ M
,
ììM N
int
ììO R
tipo
ììS W
)
ììW X
{
îî 	
List
ïï 
<
ïï 
reporte_objetos
ïï  
>
ïï  !
rptObj
ïï" (
=
ïï) *
new
ïï+ .
List
ïï/ 3
<
ïï3 4
reporte_objetos
ïï4 C
>
ïïC D
(
ïïD E
)
ïïE F
;
ïïF G
string
ññ 
query
ññ 
=
ññ 
$str
ññ 
;
ññ 
try
òò 
{
ôô 
if
öö 
(
öö 
tipo
öö 
!=
öö 
$num
öö 
)
öö 
{
õõ 
query
ùù 
=
ùù 
$str
ùù '
+
ùù( )
$str
ûû J
+
ûûK L
$str
üü 9
+
üü: ;
$str†† π
+††∫ ª
$str
°° 5
+
°°6 7
$str
¢¢ 7
+
¢¢8 9
$str
££ r
+
££s t
$str
§§ 4
+
§§5 6
$str
•• R
+
••S T
$str
¶¶ H
+
¶¶I J
$str
ßß Q
+
ßßR S
$str
®® O
;
®®O P
}
©© 
else
™™ 
{
´´ 
query
¨¨ 
=
¨¨ 
$str
¨¨ '
+
¨¨( )
$str
≠≠ J
+
≠≠K L
$str
ÆÆ 9
+
ÆÆ: ;
$strØØ π
+ØØ∫ ª
$str
∞∞ 5
+
∞∞6 7
$str
±± 7
+
±±8 9
$str
≤≤ r
+
≤≤s t
$str
≥≥ 4
+
≥≥5 6
$str
¥¥ R
+
¥¥S T
$str
µµ H
+
µµI J
$str
∂∂ Q
+
∂∂R S
$str
∑∑ =
;
∑∑= >
}
∏∏ 
using
∫∫ 
(
∫∫ 
SqlConnection
∫∫ $
con
∫∫% (
=
∫∫) *
new
∫∫+ .
SqlConnection
∫∫/ <
(
∫∫< =
_config
∫∫= D
.
∫∫D E!
GetConnectionString
∫∫E X
(
∫∫X Y
$str
∫∫Y c
)
∫∫c d
)
∫∫d e
)
∫∫e f
{
ªª 
using
ºº 
(
ºº 

SqlCommand
ºº %
cmd
ºº& )
=
ºº* +
new
ºº, /

SqlCommand
ºº0 :
(
ºº: ;
query
ºº; @
)
ºº@ A
)
ººA B
{
ΩΩ 
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
Add
ææ' *
(
ææ* +
new
ææ+ .
SqlParameter
ææ/ ;
(
ææ; <
$str
ææ< C
,
ææC D
System
ææE K
.
ææK L
Data
ææL P
.
ææP Q
	SqlDbType
ææQ Z
.
ææZ [
Int
ææ[ ^
)
ææ^ _
)
ææ_ `
;
ææ` a
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
Add
øø' *
(
øø* +
new
øø+ .
SqlParameter
øø/ ;
(
øø; <
$str
øø< L
,
øøL M
System
øøN T
.
øøT U
Data
øøU Y
.
øøY Z
	SqlDbType
øøZ c
.
øøc d
Int
øød g
)
øøg h
)
øøh i
;
øøi j
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
[
¿¿& '
$str
¿¿' .
]
¿¿. /
.
¿¿/ 0
Value
¿¿0 5
=
¿¿6 7
tipo
¿¿8 <
;
¿¿< =
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
[
¡¡& '
$str
¡¡' 7
]
¡¡7 8
.
¡¡8 9
Value
¡¡9 >
=
¡¡? @
tipo_articulo
¡¡A N
;
¡¡N O
cmd
¬¬ 
.
¬¬ 

Connection
¬¬ &
=
¬¬' (
con
¬¬) ,
;
¬¬, -
con
√√ 
.
√√ 
Open
√√  
(
√√  !
)
√√! "
;
√√" #
using
ƒƒ 
(
ƒƒ 
SqlDataReader
ƒƒ ,
sdr
ƒƒ- 0
=
ƒƒ1 2
cmd
ƒƒ3 6
.
ƒƒ6 7
ExecuteReader
ƒƒ7 D
(
ƒƒD E
)
ƒƒE F
)
ƒƒF G
{
≈≈ 
while
∆∆ !
(
∆∆" #
sdr
∆∆# &
.
∆∆& '
Read
∆∆' +
(
∆∆+ ,
)
∆∆, -
)
∆∆- .
{
«« 
rptObj
»»  &
.
»»& '
Add
»»' *
(
»»* +
new
»»+ .
reporte_objetos
»»/ >
{
……  !
Item
  $ (
=
  ) *
Convert
  + 2
.
  2 3
ToInt64
  3 :
(
  : ;
sdr
  ; >
[
  > ?
$str
  ? E
]
  E F
)
  F G
,
  G H
Descripcion
ÀÀ$ /
=
ÀÀ0 1
sdr
ÀÀ2 5
[
ÀÀ5 6
$str
ÀÀ6 C
]
ÀÀC D
+
ÀÀD E
$str
ÀÀE G
,
ÀÀG H
Estado
ÃÃ$ *
=
ÃÃ+ ,
sdr
ÃÃ- 0
[
ÃÃ0 1
$str
ÃÃ1 9
]
ÃÃ9 :
+
ÃÃ: ;
$str
ÃÃ; =
,
ÃÃ= >
EstadoNumber
ÕÕ$ 0
=
ÕÕ1 2
Convert
ÕÕ3 :
.
ÕÕ: ;
ToInt32
ÕÕ; B
(
ÕÕB C
sdr
ÕÕC F
[
ÕÕF G
$str
ÕÕG U
]
ÕÕU V
)
ÕÕV W
,
ÕÕW X
Af
ŒŒ$ &
=
ŒŒ' (
sdr
ŒŒ) ,
[
ŒŒ, -
$str
ŒŒ- 1
]
ŒŒ1 2
+
ŒŒ2 3
$str
ŒŒ3 5
,
ŒŒ5 6
Imei
œœ$ (
=
œœ) *
sdr
œœ+ .
[
œœ. /
$str
œœ/ 5
]
œœ5 6
+
œœ6 7
$str
œœ7 9
,
œœ9 :
usuario
––$ +
=
––, -
sdr
––. 1
[
––1 2
$str
––2 ;
]
––; <
+
––< =
$str
––= ?
,
––? @
Id
——$ &
=
——' (
Convert
——) 0
.
——0 1
ToInt32
——1 8
(
——8 9
sdr
——9 <
[
——< =
$str
——= A
]
——A B
)
——B C
}
““  !
)
““! "
;
““" #
}
”” 
}
‘‘ 
}
’’ 
}
÷÷ 
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
e
ÿÿ 
)
ÿÿ 
{
ŸŸ 
var
⁄⁄ 
st
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ 

StackTrace
⁄⁄ '
(
⁄⁄' (
)
⁄⁄( )
;
⁄⁄) *
var
€€ 
sf
€€ 
=
€€ 
st
€€ 
.
€€ 
GetFrame
€€ $
(
€€$ %
$num
€€% &
)
€€& '
;
€€' (
General
›› 
.
›› 
CrearLogError
›› %
(
››% &
sf
››& (
.
››( )
	GetMethod
››) 2
(
››2 3
)
››3 4
.
››4 5
Name
››5 9
,
››9 :
$str
››; C
,
››C D
e
››E F
.
››F G
Message
››G N
,
››N O
_config
››P W
.
››W X!
GetConnectionString
››X k
(
››k l
$str
››l v
)
››v w
)
››w x
;
››x y
}
ﬁﬁ 
return
ﬂﬂ 
rptObj
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
public
‚‚ 
string
‚‚ 
CrearEntrega
‚‚ "
(
‚‚" #
string
‚‚# )
Entregas
‚‚* 2
,
‚‚2 3
string
‚‚4 :
detalleEntregas
‚‚; J
)
‚‚J K
{
„„ 	
string
‰‰ 
data
‰‰ 
=
‰‰ 
$str
‰‰ 
;
‰‰ 
string
ÂÂ 
mensaje
ÂÂ 
=
ÂÂ 
$str
ÂÂ 
;
ÂÂ  
int
ÊÊ 
ResultEntregas
ÊÊ 
=
ÊÊ  
$num
ÊÊ! "
;
ÊÊ" #
int
ÁÁ 
ResultDetalles
ÁÁ 
=
ÁÁ  
$num
ÁÁ! "
;
ÁÁ" #
try
ËË 
{
ÈÈ 
entregas
ÍÍ 
	EntregasS
ÍÍ "
=
ÍÍ# $
JsonConvert
ÍÍ% 0
.
ÍÍ0 1
DeserializeObject
ÍÍ1 B
<
ÍÍB C
entregas
ÍÍC K
>
ÍÍK L
(
ÍÍL M
Entregas
ÍÍM U
)
ÍÍU V
;
ÍÍV W
_context
ÎÎ 
.
ÎÎ 
entregas
ÎÎ !
.
ÎÎ! "
Add
ÎÎ" %
(
ÎÎ% &
	EntregasS
ÎÎ& /
)
ÎÎ/ 0
;
ÎÎ0 1
ResultEntregas
ÏÏ 
=
ÏÏ  
_context
ÏÏ! )
.
ÏÏ) *
SaveChanges
ÏÏ* 5
(
ÏÏ5 6
)
ÏÏ6 7
;
ÏÏ7 8
if
ÌÌ 
(
ÌÌ 
ResultEntregas
ÌÌ !
>
ÌÌ" #
$num
ÌÌ$ %
)
ÌÌ% &
{
ÓÓ 
entregas
ÔÔ 
entityEntrega
ÔÔ *
=
ÔÔ+ ,
_context
ÔÔ- 5
.
ÔÔ5 6
entregas
ÔÔ6 >
.
ÔÔ> ?
OrderByDescending
ÔÔ? P
(
ÔÔP Q
x
ÔÔQ R
=>
ÔÔS U
x
ÔÔV W
.
ÔÔW X
id_ent
ÔÔX ^
)
ÔÔ^ _
.
ÔÔ_ `
First
ÔÔ` e
(
ÔÔe f
)
ÔÔf g
;
ÔÔg h
int
 
id_ent
 
=
  
entityEntrega
! .
.
. /
id_ent
/ 5
;
5 6
List
ÒÒ 
<
ÒÒ 
detalle_entregaII
ÒÒ *
>
ÒÒ* +
detalleEntregasS
ÒÒ, <
=
ÒÒ= >
JsonConvert
ÒÒ? J
.
ÒÒJ K
DeserializeObject
ÒÒK \
<
ÒÒ\ ]
List
ÒÒ] a
<
ÒÒa b
detalle_entregaII
ÒÒb s
>
ÒÒs t
>
ÒÒt u
(
ÒÒu v
detalleEntregasÒÒv Ö
)ÒÒÖ Ü
;ÒÒÜ á
foreach
ÚÚ 
(
ÚÚ 
detalle_entregaII
ÚÚ -
det
ÚÚ. 1
in
ÚÚ2 4
detalleEntregasS
ÚÚ5 E
)
ÚÚE F
{
ÛÛ 
try
ÙÙ 
{
ıı 
det
ˆˆ 
.
ˆˆ  
id_ent
ˆˆ  &
=
ˆˆ' (
id_ent
ˆˆ) /
;
ˆˆ/ 0
_context
˜˜ $
.
˜˜$ %
detalle_entregaII
˜˜% 6
.
˜˜6 7
Add
˜˜7 :
(
˜˜: ;
det
˜˜; >
)
˜˜> ?
;
˜˜? @
ResultDetalles
¯¯ )
=
¯¯* +
_context
¯¯- 5
.
¯¯5 6
SaveChanges
¯¯6 A
(
¯¯A B
)
¯¯B C
;
¯¯C D
if
˘˘ 
(
˘˘ 
ResultDetalles
˘˘ -
>
˘˘. /
$num
˘˘0 1
)
˘˘1 2
{
˙˙ 
objeto
˚˚  &
obj
˚˚' *
=
˚˚+ ,
_context
˚˚- 5
.
˚˚5 6
objeto
˚˚6 <
.
˚˚< =
Where
˚˚= B
(
˚˚B C
x
˚˚C D
=>
˚˚E G
x
˚˚H I
.
˚˚I J
imei
˚˚J N
==
˚˚O Q
det
˚˚R U
.
˚˚U V
imei_inv
˚˚V ^
)
˚˚^ _
.
˚˚_ `
First
˚˚` e
(
˚˚e f
)
˚˚f g
;
˚˚g h
if
¸¸  "
(
¸¸" #
obj
¸¸# &
!=
¸¸' )
null
¸¸* .
)
¸¸. /
{
˝˝  !
obj
˛˛$ '
.
˛˛' (
estado
˛˛( .
=
˛˛/ 0
$num
˛˛1 2
;
˛˛2 3
_context
ˇˇ$ ,
.
ˇˇ, -
objeto
ˇˇ- 3
.
ˇˇ3 4
Update
ˇˇ4 :
(
ˇˇ: ;
obj
ˇˇ; >
)
ˇˇ> ?
;
ˇˇ? @
_context
ÄÄ$ ,
.
ÄÄ, -
SaveChanges
ÄÄ- 8
(
ÄÄ8 9
)
ÄÄ9 :
;
ÄÄ: ;
}
ÅÅ  !
}
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ '
e
ÑÑ( )
)
ÑÑ) *
{
ÖÖ 
ResultDetalles
ÜÜ *
=
ÜÜ+ ,
$num
ÜÜ- .
;
ÜÜ. /
entregas
áá $
ent
áá% (
=
áá) *
_context
áá+ 3
.
áá3 4
entregas
áá4 <
.
áá< =
Where
áá= B
(
ááB C
x
ááC D
=>
ááE G
x
ááH I
.
ááI J
id_ent
ááJ P
==
ááQ S
id_ent
ááT Z
)
ááZ [
.
áá[ \
First
áá\ a
(
ááa b
)
ááb c
;
áác d
_context
àà $
.
àà$ %
entregas
àà% -
.
àà- .
Remove
àà. 4
(
àà4 5
ent
àà5 8
)
àà8 9
;
àà9 :
_context
ââ $
.
ââ$ %
SaveChanges
ââ% 0
(
ââ0 1
)
ââ1 2
;
ââ2 3
}
ää 
}
ãã 
}
åå 
if
éé 
(
éé 
ResultEntregas
éé "
>
éé# $
$num
éé% &
&&
éé' )
ResultDetalles
éé* 8
>
éé9 :
$num
éé; <
)
éé< =
{
èè 
mensaje
êê 
=
êê 
$str
êê <
;
êê< =
}
ëë 
else
íí 
{
ìì 
mensaje
îî 
=
îî 
$str
îî :
;
îî: ;
}
ïï 
}
ññ 
catch
óó 
(
óó 
	Exception
óó 
e
óó 
)
óó 
{
òò 
var
ôô 
st
ôô 
=
ôô 
new
ôô 

StackTrace
ôô '
(
ôô' (
)
ôô( )
;
ôô) *
var
öö 
sf
öö 
=
öö 
st
öö 
.
öö 
GetFrame
öö $
(
öö$ %
$num
öö% &
)
öö& '
;
öö' (
General
úú 
.
úú 
CrearLogError
úú %
(
úú% &
sf
úú& (
.
úú( )
	GetMethod
úú) 2
(
úú2 3
)
úú3 4
.
úú4 5
Name
úú5 9
,
úú9 :
$str
úú; E
,
úúE F
e
úúG H
.
úúH I
Message
úúI P
,
úúP Q
_config
úúR Y
.
úúY Z!
GetConnectionString
úúZ m
(
úúm n
$str
úún x
)
úúx y
)
úúy z
;
úúz {
}
ùù 
data
üü 
=
üü 
JsonConvert
üü 
.
üü 
SerializeObject
üü .
(
üü. /
new
üü/ 2
{
üü3 4
Result
üü5 ;
=
üü< =
ResultEntregas
üü> L
,
üüL M
Mensaje
üüN U
=
üüV W
mensaje
üüX _
}
üü` a
)
üüa b
;
üüb c
return
†† 
data
†† 
;
†† 
}
°° 	
public
££ 
string
££ 
CrearDevolucion
££ %
(
££% &
string
££& ,

Devolucion
££- 7
,
££7 8
string
££9 ?
detalleDevolucion
££@ Q
)
££Q R
{
§§ 	
string
•• 
data
•• 
=
•• 
$str
•• 
;
•• 
string
¶¶ 
mensaje
¶¶ 
=
¶¶ 
$str
¶¶ 
;
¶¶  
int
ßß  
ResultDevoluciones
ßß "
=
ßß# $
$num
ßß% &
;
ßß& '
int
®® 
ResultDetallesDev
®® !
=
®®" #
$num
®®$ %
;
®®% &
try
©© 
{
™™ 
devoluciones
´´ 
devoluciones
´´ )
=
´´* +
JsonConvert
´´, 7
.
´´7 8
DeserializeObject
´´8 I
<
´´I J
devoluciones
´´J V
>
´´V W
(
´´W X

Devolucion
´´X b
)
´´b c
;
´´c d
_context
¨¨ 
.
¨¨ 
devoluciones
¨¨ %
.
¨¨% &
Add
¨¨& )
(
¨¨) *
devoluciones
¨¨* 6
)
¨¨6 7
;
¨¨7 8 
ResultDevoluciones
≠≠ "
=
≠≠# $
_context
≠≠% -
.
≠≠- .
SaveChanges
≠≠. 9
(
≠≠9 :
)
≠≠: ;
;
≠≠; <
if
ÆÆ 
(
ÆÆ  
ResultDevoluciones
ÆÆ %
>
ÆÆ& '
$num
ÆÆ( )
)
ÆÆ) *
{
ØØ 
devoluciones
∞∞  
entityDevolucion
∞∞! 1
=
∞∞2 3
_context
∞∞4 <
.
∞∞< =
devoluciones
∞∞= I
.
∞∞I J
OrderByDescending
∞∞J [
(
∞∞[ \
x
∞∞\ ]
=>
∞∞^ `
x
∞∞a b
.
∞∞b c
id_dev
∞∞c i
)
∞∞i j
.
∞∞j k
First
∞∞k p
(
∞∞p q
)
∞∞q r
;
∞∞r s
int
±± 
id_dev
±± 
=
±±  
entityDevolucion
±±! 1
.
±±1 2
id_dev
±±2 8
;
±±8 9
List
≤≤ 
<
≤≤ "
detalle_devolucionII
≤≤ -
>
≤≤- ."
detalleDevolucionesS
≤≤/ C
=
≤≤D E
JsonConvert
≤≤F Q
.
≤≤Q R
DeserializeObject
≤≤R c
<
≤≤c d
List
≤≤d h
<
≤≤h i"
detalle_devolucionII
≤≤i }
>
≤≤} ~
>
≤≤~ 
(≤≤ Ä!
detalleDevolucion≤≤Ä ë
)≤≤ë í
;≤≤í ì
foreach
≥≥ 
(
≥≥ "
detalle_devolucionII
≥≥ 0
det
≥≥1 4
in
≥≥5 7"
detalleDevolucionesS
≥≥8 L
)
≥≥L M
{
¥¥ 
try
µµ 
{
∂∂ 
det
∑∑ 
.
∑∑  
id_dev
∑∑  &
=
∑∑' (
id_dev
∑∑) /
;
∑∑/ 0
_context
∏∏ $
.
∏∏$ %"
detalle_devolucionII
∏∏% 9
.
∏∏9 :
Add
∏∏: =
(
∏∏= >
det
∏∏> A
)
∏∏A B
;
∏∏B C
ResultDetallesDev
ππ -
=
ππ. /
_context
ππ0 8
.
ππ8 9
SaveChanges
ππ9 D
(
ππD E
)
ππE F
;
ππF G
if
∫∫ 
(
∫∫ 
ResultDetallesDev
∫∫ 0
>
∫∫1 2
$num
∫∫3 4
)
∫∫4 5
{
ªª 
objeto
ºº  &
obj
ºº' *
=
ºº+ ,
_context
ºº- 5
.
ºº5 6
objeto
ºº6 <
.
ºº< =
Where
ºº= B
(
ººB C
x
ººC D
=>
ººE G
x
ººH I
.
ººI J
imei
ººJ N
==
ººO Q
det
ººR U
.
ººU V
imei_inv
ººV ^
)
ºº^ _
.
ºº_ `
First
ºº` e
(
ººe f
)
ººf g
;
ººg h
if
ΩΩ  "
(
ΩΩ# $
obj
ΩΩ$ '
!=
ΩΩ( *
null
ΩΩ+ /
)
ΩΩ/ 0
{
ææ  !
obj
øø$ '
.
øø' (
estado
øø( .
=
øø/ 0
$num
øø1 2
;
øø2 3
_context
¿¿$ ,
.
¿¿, -
objeto
¿¿- 3
.
¿¿3 4
Update
¿¿4 :
(
¿¿: ;
obj
¿¿; >
)
¿¿> ?
;
¿¿? @
_context
¡¡$ ,
.
¡¡, -
SaveChanges
¡¡- 8
(
¡¡8 9
)
¡¡9 :
;
¡¡: ;
}
¬¬  !
}
√√ 
}
ƒƒ 
catch
≈≈ 
(
≈≈ 
	Exception
≈≈ '
e
≈≈( )
)
≈≈) *
{
∆∆ 
ResultDetallesDev
«« -
=
««. /
$num
««0 1
;
««1 2
devoluciones
»» (
dev
»») ,
=
»»- .
_context
»»/ 7
.
»»7 8
devoluciones
»»8 D
.
»»D E
Where
»»E J
(
»»J K
x
»»K L
=>
»»M O
x
»»P Q
.
»»Q R
id_dev
»»R X
==
»»Y [
id_dev
»»\ b
)
»»b c
.
»»c d
First
»»d i
(
»»i j
)
»»j k
;
»»k l
_context
…… $
.
……$ %
devoluciones
……% 1
.
……1 2
Remove
……2 8
(
……8 9
dev
……9 <
)
……< =
;
……= >
_context
   $
.
  $ %
SaveChanges
  % 0
(
  0 1
)
  1 2
;
  2 3
}
ÀÀ 
}
ÕÕ 
}
ŒŒ 
if
œœ 
(
œœ  
ResultDevoluciones
œœ &
>
œœ' (
$num
œœ) *
&&
œœ+ -
ResultDetallesDev
œœ. ?
>
œœ@ A
$num
œœB C
)
œœC D
{
–– 
mensaje
—— 
=
—— 
$str
—— <
;
——< =
}
““ 
else
”” 
{
‘‘ 
mensaje
’’ 
=
’’ 
$str
’’ :
;
’’: ;
}
÷÷ 
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
e
ÿÿ 
)
ÿÿ 
{
ŸŸ 
var
⁄⁄ 
st
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ 

StackTrace
⁄⁄ '
(
⁄⁄' (
)
⁄⁄( )
;
⁄⁄) *
var
€€ 
sf
€€ 
=
€€ 
st
€€ 
.
€€ 
GetFrame
€€ $
(
€€$ %
$num
€€% &
)
€€& '
;
€€' (
General
›› 
.
›› 
CrearLogError
›› %
(
››% &
sf
››& (
.
››( )
	GetMethod
››) 2
(
››2 3
)
››3 4
.
››4 5
Name
››5 9
,
››9 :
$str
››; I
,
››I J
e
››K L
.
››L M
Message
››M T
,
››T U
_config
››V ]
.
››] ^!
GetConnectionString
››^ q
(
››q r
$str
››r |
)
››| }
)
››} ~
;
››~ 
}
ﬁﬁ 
data
ﬂﬂ 
=
ﬂﬂ 
JsonConvert
ﬂﬂ 
.
ﬂﬂ 
SerializeObject
ﬂﬂ .
(
ﬂﬂ. /
new
ﬂﬂ/ 2
{
ﬂﬂ3 4
Result
ﬂﬂ5 ;
=
ﬂﬂ< = 
ResultDevoluciones
ﬂﬂ> P
,
ﬂﬂP Q
Mensaje
ﬂﬂR Y
=
ﬂﬂZ [
mensaje
ﬂﬂ\ c
}
ﬂﬂd e
)
ﬂﬂe f
;
ﬂﬂf g
return
‡‡ 
data
‡‡ 
;
‡‡ 
}
·· 	
}
‚‚ 
}„„ ¥n
AE:\GITEA\siscointBKII\siscointBKII\Controllers\LoginController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
LoginController  
:! "
ControllerBase# 1
{ 
public 
List 
< 
UsuariosModel !
>! "
usuarios# +
=, -
new. 1
List2 6
<6 7
UsuariosModel7 D
>D E
(E F
)F G
;G H
private 
AplicationDbContext #
_context$ ,
;, -
private 
IConfiguration 
_config &
;& '
public 
LoginController 
( 
IConfiguration -
config. 4
,4 5
AplicationDbContext6 I
contextJ Q
)Q R
{ 	
_config 
= 
config 
; 
_context 
= 
context 
; 
} 	
[ 	
AllowAnonymous	 
] 
[ 	
HttpPost	 
] 
public 
IActionResult 
Login "
(" #
[# $
FromBody$ ,
], -
	UserLogin. 7
	userLogin8 A
)A B
{   	
var!! 
user!! 
=!! 
Authenticate!! #
(!!# $
	userLogin!!$ -
)!!- .
;!!. /
if"" 
("" 
user"" 
=="" 
null"" 
)"" 
return## 
NotFound## 
(##  
$str##  0
)##0 1
;##1 2
var%% 
token%% 
=%% 
Generate%%  
(%%  !
user%%! %
)%%% &
;%%& '
return&& 
Ok&& 
(&& 
token&& 
)&& 
;&& 
}'' 	
[)) 	
AllowAnonymous))	 
])) 
[** 	
HttpPost**	 
(** 
$str** !
)**! "
]**" #
public++ 
IActionResult++ 
resetPassword++ *
(++* +
[+++ ,
FromBody++, 4
]++4 5
	UserLogin++6 ?
	userLogin++@ I
)++I J
{,, 	
Boolean-- 
EsUsuarioValido-- #
=--$ %
validateUsuario--& 5
(--5 6
	userLogin--6 ?
.--? @
Username--@ H
)--H I
;--I J
string.. 
data_mensaje.. 
=..  !
$str.." $
;..$ %
if// 
(// 
EsUsuarioValido// 
)//  
{00 
usuario11 
usuario11 
=11  !
_context11" *
.11* +
usuario11+ 2
.112 3
Where113 8
(118 9
x119 :
=>11; =
x11> ?
.11? @
username11@ H
==11I K
	userLogin11L U
.11U V
Username11V ^
)11^ _
.11_ `
FirstOrDefault11` n
(11n o
)11o p
;11p q
if22 
(22 
usuario22 
!=22 
null22 "
)22" #
{33 
string44 
_nombre_usuario44 *
=44+ ,
usuario44- 4
.444 5
nombre_usuario445 C
;44C D
string55 
nombre_usuario55 )
=55* +
System55, 2
.552 3
Text553 7
.557 8
RegularExpressions558 J
.55J K
Regex55K P
.55P Q
Replace55Q X
(55X Y
_nombre_usuario55Y h
,55h i
$str55j o
,55o p
$str55q s
)55s t
;55t u
string66 

nombreCapa66 %
=66& '
$str66( 4
+665 6
nombre_usuario667 E
+66F G
	userLogin66H Q
.66Q R
Password66R Z
;66Z [
usuario99 
.99 
pssword99 #
=99$ %
General99& -
.99- .
cifrarTextoAES99. <
(99< =
	userLogin99= F
.99F G
Password99G O
,99O P

nombreCapa99Q [
,99[ \

nombreCapa99] g
,99g h
$str99i o
,99o p
$num99q s
,99s t
$str	99u á
,
99á à
$num
99â å
)
99å ç
;
99ç é
_context:: 
.:: 
Update:: #
(::# $
usuario::$ +
)::+ ,
;::, -
int;; 
saveChanges;; #
=;;$ %
_context;;& .
.;;. /
SaveChanges;;/ :
(;;: ;
);;; <
;;;< =
if<< 
(<< 
saveChanges<< "
><<# $
$num<<% &
)<<& '
{== 
data_mensaje>> $
=>>% &
$str>>' F
;>>F G
}?? 
}AA 
elseBB 
{CC 
data_mensajeDD  
=DD! "
$strDD# 7
;DD7 8
}EE 
}FF 
elseGG 
{HH 
data_mensajeII 
=II 
$strII 2
;II2 3
}JJ 
returnKK 
OkKK 
(KK 
data_mensajeKK "
)KK" #
;KK# $
}LL 	
privateNN 
BooleanNN 
validateUsuarioNN '
(NN' (
stringNN( .
usuarioNN/ 6
)NN6 7
{OO 	
BooleanPP 
EsUsuarioValidoPP #
=PP$ %
falsePP& +
;PP+ ,
tryQQ 
{RR 
varSS 
_usuarioSS 
=SS 
_contextSS '
.SS' (
usuarioSS( /
.SS/ 0
WhereSS0 5
(SS5 6
xSS6 7
=>SS8 :
xSS; <
.SS< =
usernameSS= E
==SSF H
usuarioSSI P
)SSP Q
.SSQ R
FirstOrDefaultSSR `
(SS` a
)SSa b
;SSb c
ifTT 
(TT 
_usuarioTT 
!=TT 
nullTT #
)TT# $
{UU 
EsUsuarioValidoVV #
=VV$ %
trueVV& *
;VV* +
}WW 
}XX 
catchYY 
(YY 
	ExceptionYY 
eYY 
)YY 
{ZZ 
var[[ 
st[[ 
=[[ 
new[[ 

StackTrace[[ '
([[' (
)[[( )
;[[) *
var\\ 
sf\\ 
=\\ 
st\\ 
.\\ 
GetFrame\\ $
(\\$ %
$num\\% &
)\\& '
;\\' (
General^^ 
.^^ 
CrearLogError^^ %
(^^% &
sf^^& (
.^^( )
	GetMethod^^) 2
(^^2 3
)^^3 4
.^^4 5
Name^^5 9
,^^9 :
$str^^; B
,^^B C
e^^D E
.^^E F
Message^^F M
,^^M N
_config^^O V
.^^V W
GetConnectionString^^W j
(^^j k
$str^^k u
)^^u v
)^^v w
;^^w x
}__ 
return`` 
EsUsuarioValido`` "
;``" #
}aa 	
privatecc 
stringcc 
Generatecc 
(cc  
usuariocc  '
usercc( ,
)cc, -
{dd 	
varee 
securityKeyee 
=ee 
newee ! 
SymmetricSecurityKeyee" 6
(ee6 7
Encodingee7 ?
.ee? @
UTF8ee@ D
.eeD E
GetByteseeE M
(eeM N
_configeeN U
[eeU V
$streeV _
]ee_ `
)ee` a
)eea b
;eeb c
varff 
	credialesff 
=ff 
newff 
SigningCredentialsff  2
(ff2 3
securityKeyff3 >
,ff> ?
SecurityAlgorithmsff@ R
.ffR S

HmacSha256ffS ]
)ff] ^
;ff^ _
varhh 
claimshh 
=hh 
newhh 
[hh 
]hh 
{ii 
newkk 
Claimkk 
(kk 

ClaimTypeskk $
.kk$ %
SerialNumberkk% 1
,kk1 2
userkk3 7
.kk7 8
codigokk8 >
)kk> ?
,kk? @
newll 
Claimll 
(ll 

ClaimTypesll $
.ll$ %
Namell% )
,ll) *
userll+ /
.ll/ 0
nombre_usuarioll0 >
)ll> ?
,ll? @
newmm 
Claimmm 
(mm 

ClaimTypesmm $
.mm$ %
NameIdentifiermm% 3
,mm3 4
usermm5 9
.mm9 :
usernamemm: B
)mmB C
}nn 
;nn 
varoo 
tokenoo 
=oo 
newoo 
JwtSecurityTokenoo ,
(oo, -
_configoo- 4
[oo4 5
$stroo5 A
]ooA B
,ooB C
_configpp 
[pp 
$strpp &
]pp& '
,pp' (
claimsqq 
,qq 
expiresrr 
:rr 
DateTimerr !
.rr! "
Nowrr" %
.rr% &

AddMinutesrr& 0
(rr0 1
$numrr1 3
)rr3 4
,rr4 5
signingCredentialsss "
:ss" #
	credialesss$ -
)ss- .
;ss. /
returnuu 
newuu #
JwtSecurityTokenHandleruu .
(uu. /
)uu/ 0
.uu0 1

WriteTokenuu1 ;
(uu; <
tokenuu< A
)uuA B
;uuB C
}vv 	
privatexx 
usuarioxx 
Authenticatexx $
(xx$ %
	UserLoginxx% .
	userLoginxx/ 8
)xx8 9
{yy 	
varzz 
userzz 
=zz 
newzz 
usuariozz "
(zz" #
)zz# $
;zz$ %
Boolean{{ 
EsUsuarioValido{{ #
={{$ %
false{{& +
;{{+ ,
string|| 
_nombre_usuario|| "
=||# $
$str||% '
;||' (
string}} 
nombre_usuario}} !
=}}" #
$str}}$ &
;}}& '
string~~ 

nombreCapa~~ 
=~~ 
$str~~  "
;~~" #
try 
{
ÄÄ 
user
ÅÅ 
=
ÅÅ 
_context
ÅÅ 
.
ÅÅ  
usuario
ÅÅ  '
.
ÅÅ' (
FirstOrDefault
ÅÅ( 6
(
ÅÅ6 7
o
ÅÅ7 8
=>
ÅÅ9 ;
o
ÅÅ< =
.
ÅÅ= >
username
ÅÅ> F
==
ÅÅG I
	userLogin
ÅÅJ S
.
ÅÅS T
Username
ÅÅT \
)
ÅÅ\ ]
;
ÅÅ] ^
string
ÇÇ 
passwordHash
ÇÇ #
=
ÇÇ$ %
$str
ÇÇ& (
;
ÇÇ( )
if
ÉÉ 
(
ÉÉ 
user
ÉÉ 
!=
ÉÉ 
null
ÉÉ  
)
ÉÉ  !
{
ÑÑ 
passwordHash
ÖÖ  
=
ÖÖ! "
user
ÖÖ# '
.
ÖÖ' (
pssword
ÖÖ( /
;
ÖÖ/ 0
_nombre_usuario
ÜÜ #
=
ÜÜ$ %
user
ÜÜ& *
.
ÜÜ* +
nombre_usuario
ÜÜ+ 9
;
ÜÜ9 :
nombre_usuario
áá "
=
áá# $
System
áá% +
.
áá+ ,
Text
áá, 0
.
áá0 1 
RegularExpressions
áá1 C
.
ááC D
Regex
ááD I
.
ááI J
Replace
ááJ Q
(
ááQ R
_nombre_usuario
ááR a
,
ááa b
$str
áác h
,
ááh i
$str
ááj l
)
áál m
;
áám n

nombreCapa
àà 
=
àà  
$str
àà! -
+
àà. /
nombre_usuario
àà0 >
+
àà? @
	userLogin
ààA J
.
ààJ K
Password
ààK S
;
ààS T
}
ââ 
passwordHash
çç 
=
çç 
General
çç &
.
çç& '
descifrarTextoAES
çç' 8
(
çç8 9
passwordHash
çç9 E
,
ççE F

nombreCapa
ççG Q
,
ççQ R

nombreCapa
ççS ]
,
çç] ^
$str
çç_ e
,
ççe f
$num
ççg i
,
ççi j
$str
ççk }
,
çç} ~
$numçç Ç
)ççÇ É
;ççÉ Ñ
if
éé 
(
éé 
passwordHash
éé  
!=
éé! #
$str
éé$ &
)
éé& '
{
èè 
if
êê 
(
êê 
passwordHash
êê #
.
êê# $
Contains
êê$ ,
(
êê, -
	userLogin
êê- 6
.
êê6 7
Password
êê7 ?
)
êê? @
)
êê@ A
{
ëë 
EsUsuarioValido
íí '
=
íí( )
true
íí* .
;
íí. /
}
ìì 
}
îî 
}
ïï 
catch
ññ 
(
ññ 
	Exception
ññ 
e
ññ 
)
ññ 
{
óó 
var
òò 
st
òò 
=
òò 
new
òò 

StackTrace
òò '
(
òò' (
)
òò( )
;
òò) *
var
ôô 
sf
ôô 
=
ôô 
st
ôô 
.
ôô 
GetFrame
ôô $
(
ôô$ %
$num
ôô% &
)
ôô& '
;
ôô' (
General
õõ 
.
õõ 
CrearLogError
õõ %
(
õõ% &
sf
õõ& (
.
õõ( )
	GetMethod
õõ) 2
(
õõ2 3
)
õõ3 4
.
õõ4 5
Name
õõ5 9
,
õõ9 :
$str
õõ; E
,
õõE F
e
õõG H
.
õõH I
Message
õõI P
,
õõP Q
_config
õõR Y
.
õõY Z!
GetConnectionString
õõZ m
(
õõm n
$str
õõn x
)
õõx y
)
õõy z
;
õõz {
}
úú 
if
££ 
(
££ 
!
££ 
EsUsuarioValido
££  
)
££  !
return
§§ 
null
§§ 
;
§§ 
return
•• 
user
•• 
;
•• 
}
ßß 	
}
´´ 
}¨¨ ·
CE:\GITEA\siscointBKII\siscointBKII\Controllers\PedidosConreoller.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
PedidosConreoller "
:# $
ControllerBase% 3
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
PedidosConreoller  
(  !
AplicationDbContext! 4
context5 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str /
)/ 0
]0 1
[ 	
	Authorize	 
] 
public 
IActionResult 
getContratoProvedor 0
(0 1
int1 4
id5 7
)7 8
{ 	
var 
data 
= 
new 
Object !
(! "
)" #
;# $
try 
{ 
data 
= 
( 
from 
dp 
in  "
_context# +
.+ ,
detalle_proveedor, =
join   
p   
in   !
_context  " *
.  * +
proveedorII  + 6
on  7 9
dp  : <
.  < =
nit  = @
equals  A G
p  H I
.  I J
nit  J M
where!! 
(!! 
dp!! !
.!!! "
id!!" $
==!!% '
id!!( *
)!!* +
select"" 
new"" "
{## 
nit$$ 
=$$  !
dp$$" $
.$$$ %
nit$$% (
,$$( )
razon_social%% (
=%%) *
p%%+ ,
.%%, -
razon_social%%- 9
,%%9 :
contrato&& $
=&&% &
dp&&' )
.&&) *
contrato&&* 2
}'' 
)'' 
.'' 
First''  
(''  !
)''! "
;''" #
}(( 
catch)) 
()) 
	Exception)) 
e)) 
))) 
{** 
},, 
return-- 
Ok-- 
(-- 
data-- 
)-- 
;-- 
}.. 	
}// 
}00 ıê
CE:\GITEA\siscointBKII\siscointBKII\Controllers\PedidosController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
PedidosController "
:# $
ControllerBase% 3
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
PedidosController  
(  !
AplicationDbContext! 4
context5 <
,< =
IConfiguration> L
configM S
)S T
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str /
)/ 0
]0 1
[ 	
	Authorize	 
] 
public 
IActionResult 
getContratoProvedor 0
(0 1
int1 4
id5 7
)7 8
{ 	
var   
data   
=   
new   
Object   !
(  ! "
)  " #
;  # $
try!! 
{"" 
data## 
=## 
(## 
from## 
dp## 
in##  "
_context### +
.##+ ,
detalle_proveedor##, =
join$$ 
p$$ 
in$$ !
_context$$" *
.$$* +
proveedorII$$+ 6
on$$7 9
dp$$: <
.$$< =
nit$$= @
equals$$A G
p$$H I
.$$I J
nit$$J M
where%% 
(%% 
dp%% !
.%%! "
id%%" $
==%%% '
id%%( *
)%%* +
select&& 
new&& "
{'' 
nit(( 
=((  !
dp((" $
.(($ %
nit((% (
,((( )
razon_social)) (
=))) *
p))+ ,
.)), -
razon_social))- 9
,))9 :
contrato** $
=**% &
dp**' )
.**) *
contrato*** 2
}++ 
)++ 
.++ 
First++  
(++  !
)++! "
;++" #
},, 
catch-- 
(-- 
	Exception-- 
e-- 
)-- 
{.. 
var// 
st// 
=// 
new// 

StackTrace// '
(//' (
)//( )
;//) *
var00 
sf00 
=00 
st00 
.00 
GetFrame00 $
(00$ %
$num00% &
)00& '
;00' (
General22 
.22 
CrearLogError22 %
(22% &
sf22& (
.22( )
	GetMethod22) 2
(222 3
)223 4
.224 5
Name225 9
,229 :
$str22; N
,22N O
e22P Q
.22Q R
Message22R Y
,22Y Z
_config22[ b
.22b c
GetConnectionString22c v
(22v w
$str	22w Å
)
22Å Ç
)
22Ç É
;
22É Ñ
}33 
return44 
Ok44 
(44 
data44 
)44 
;44 
}55 	
[66 	
HttpGet66	 
(66 
$str66 0
)660 1
]661 2
[77 	
	Authorize77	 
]77 
public88 
IActionResult88  
getArticuloComprasId88 1
(881 2
int882 5
id886 8
)888 9
{99 	
var:: 
data:: 
=:: 
new:: 
Object:: !
(::! "
)::" #
;::# $
try;; 
{<< 
data== 
=== 
(== 
from== 
ac== 
in==  "
_context==# +
.==+ ,
compras_articulos==, =
join>> 
i>> 
in>> !
_context>>" *
.>>* +
iva>>+ .
on>>/ 1
ac>>2 4
.>>4 5
tipo_iva>>5 =
equals>>> D
i>>E F
.>>F G
id>>G I
+>>J K
$str>>L N
where?? 
(?? 
ac?? !
.??! "
id??" $
==??% '
id??( *
)??* +
select@@ 
new@@ "
{AA 
codigoBB "
=BB# $
acBB% '
.BB' (
codigoBB( .
,BB. /
descripcionCC '
=CC( )
acCC* ,
.CC, -
descripcionCC- 8
,CC8 9
undDD 
=DD  !
acDD" $
.DD$ %
undDD% (
,DD( )
cuentaEE "
=EE# $
acEE% '
.EE' (
cuentaEE( .
,EE. /
ivaFF 
=FF  !
iFF" #
.FF# $

porcentajeFF$ .
}GG 
)GG 
.GG 
FirstGG  
(GG  !
)GG! "
;GG" #
}HH 
catchII 
(II 
	ExceptionII 
eII 
)II 
{JJ 
varKK 
stKK 
=KK 
newKK 

StackTraceKK '
(KK' (
)KK( )
;KK) *
varLL 
sfLL 
=LL 
stLL 
.LL 
GetFrameLL $
(LL$ %
$numLL% &
)LL& '
;LL' (
GeneralNN 
.NN 
CrearLogErrorNN %
(NN% &
sfNN& (
.NN( )
	GetMethodNN) 2
(NN2 3
)NN3 4
.NN4 5
NameNN5 9
,NN9 :
$strNN; N
,NNN O
eNNP Q
.NNQ R
MessageNNR Y
,NNY Z
_configNN[ b
.NNb c
GetConnectionStringNNc v
(NNv w
$str	NNw Å
)
NNÅ Ç
)
NNÇ É
;
NNÉ Ñ
}OO 
returnPP 
OkPP 
(PP 
dataPP 
)PP 
;PP 
}QQ 	
[RR 	
HttpGetRR	 
(RR 
$strRR -
)RR- .
]RR. /
[SS 	
	AuthorizeSS	 
]SS 
publicTT 
IActionResultTT 
getArticuloFijoIdTT .
(TT. /
intTT/ 2
idTT3 5
)TT5 6
{UU 	
varVV 
dataVV 
=VV 
newVV 
ObjectVV !
(VV! "
)VV" #
;VV# $
tryWW 
{XX 
dataYY 
=YY 
(YY 
fromYY 
afYY 
inYY  "
_contextYY# +
.YY+ ,
articulos_afYY, 8
joinZZ 
iZZ 
inZZ !
_contextZZ" *
.ZZ* +
ivaZZ+ .
onZZ/ 1
afZZ2 4
.ZZ4 5
tipo_ivaZZ5 =
equalsZZ> D
iZZE F
.ZZF G
idZZG I
+ZZJ K
$strZZL N
where[[ 
([[ 
af[[ !
.[[! "
id[[" $
==[[% '
id[[( *
)[[* +
select\\ 
new\\ "
{]] 
codigo^^ "
=^^# $
af^^% '
.^^' (
codigo^^( .
,^^. /
descripcion__ '
=__( )
af__* ,
.__, -
descripcion__- 8
,__8 9
und`` 
=``  !
af``" $
.``$ %
und``% (
,``( )
cuentaaa "
=aa# $
afaa% '
.aa' (
cuentaaa( .
,aa. /
ivabb 
=bb  !
ibb" #
.bb# $

porcentajebb$ .
}cc 
)cc 
.cc 
Firstcc  
(cc  !
)cc! "
;cc" #
}dd 
catchee 
(ee 
	Exceptionee 
eee 
)ee 
{ff 
vargg 
stgg 
=gg 
newgg 

StackTracegg '
(gg' (
)gg( )
;gg) *
varhh 
sfhh 
=hh 
sthh 
.hh 
GetFramehh $
(hh$ %
$numhh% &
)hh& '
;hh' (
Generaljj 
.jj 
CrearLogErrorjj %
(jj% &
sfjj& (
.jj( )
	GetMethodjj) 2
(jj2 3
)jj3 4
.jj4 5
Namejj5 9
,jj9 :
$strjj; I
,jjI J
ejjK L
.jjL M
MessagejjM T
,jjT U
_configjjV ]
.jj] ^
GetConnectionStringjj^ q
(jjq r
$strjjr |
)jj| }
)jj} ~
;jj~ 
}kk 
returnll 
Okll 
(ll 
datall 
)ll 
;ll 
}mm 	
[oo 	
HttpGetoo	 
(oo 
$stroo  
)oo  !
]oo! "
[pp 	
	Authorizepp	 
]pp 
publicqq 
IActionResultqq 
getDirectivosqq *
(qq* +
)qq+ ,
{rr 	
varss 
datass 
=ss 
newss 
Objectss !
(ss! "
)ss" #
;ss# $
trytt 
{uu 
datavv 
=vv 
_contextvv 
.vv  

directivosvv  *
.vv* +
ToListvv+ 1
(vv1 2
)vv2 3
;vv3 4
ifww 
(ww 
dataww 
==ww 
nullww 
)ww  
{xx 
returnyy 
nullyy 
;yy  
}zz 
}{{ 
catch|| 
(|| 
	Exception|| 
e|| 
)|| 
{}} 
var~~ 
st~~ 
=~~ 
new~~ 

StackTrace~~ '
(~~' (
)~~( )
;~~) *
var 
sf 
= 
st 
. 
GetFrame $
($ %
$num% &
)& '
;' (
General
ÅÅ 
.
ÅÅ 
CrearLogError
ÅÅ %
(
ÅÅ% &
sf
ÅÅ& (
.
ÅÅ( )
	GetMethod
ÅÅ) 2
(
ÅÅ2 3
)
ÅÅ3 4
.
ÅÅ4 5
Name
ÅÅ5 9
,
ÅÅ9 :
$str
ÅÅ; G
,
ÅÅG H
e
ÅÅI J
.
ÅÅJ K
Message
ÅÅK R
,
ÅÅR S
_config
ÅÅT [
.
ÅÅ[ \!
GetConnectionString
ÅÅ\ o
(
ÅÅo p
$str
ÅÅp z
)
ÅÅz {
)
ÅÅ{ |
;
ÅÅ| }
}
ÇÇ 
return
ÉÉ 
Ok
ÉÉ 
(
ÉÉ 
data
ÉÉ 
)
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
[
ÜÜ 	
HttpPost
ÜÜ	 
(
ÜÜ 
$str
ÜÜ !
)
ÜÜ! "
]
ÜÜ" #
[
áá 	
	Authorize
áá	 
]
áá 
public
àà 
IActionResult
àà 
agregarTipoPedido
àà .
(
àà. /
dynamic
àà/ 6
data
àà7 ;
)
àà; <
{
ââ 	
string
ää 
	resultado
ää 
=
ää 
$str
ää !
;
ää! "
try
ãã 
{
åå 
var
çç 
dataJson
çç 
=
çç 
System
çç %
.
çç% &
Text
çç& *
.
çç* +
Json
çç+ /
.
çç/ 0
JsonSerializer
çç0 >
.
çç> ?
	Serialize
çç? H
(
ççH I
data
ççI M
)
ççM N
;
ççN O
var
éé 
	datObject
éé 
=
éé 
JObject
éé  '
.
éé' (
Parse
éé( -
(
éé- .
dataJson
éé. 6
)
éé6 7
;
éé7 8
string
èè 

tipoPedido
èè !
=
èè" #
Convert
èè$ +
.
èè+ ,
ToString
èè, 4
(
èè4 5
	datObject
èè5 >
[
èè> ?
$str
èè? K
]
èèK L
)
èèL M
;
èèM N
string
êê 
pedido
êê 
=
êê 
Convert
êê  '
.
êê' (
ToString
êê( 0
(
êê0 1
	datObject
êê1 :
[
êê: ;
$str
êê; C
]
êêC D
)
êêD E
;
êêE F
string
ëë 
detallePedido
ëë $
=
ëë% &
Convert
ëë' .
.
ëë. /
ToString
ëë/ 7
(
ëë7 8
	datObject
ëë8 A
[
ëëA B
$str
ëëB Q
]
ëëQ R
)
ëëR S
;
ëëS T
pedidos
ìì 

pedidosAdd
ìì "
=
ìì# $
JsonConvert
ìì% 0
.
ìì0 1
DeserializeObject
ìì1 B
<
ììB C
pedidos
ììC J
>
ììJ K
(
ììK L
pedido
ììL R
)
ììR S
;
ììS T
List
îî 
<
îî 
detalle_pedido
îî #
>
îî# $
detallePedidos
îî% 3
=
îî4 5
JsonConvert
îî6 A
.
îîA B
DeserializeObject
îîB S
<
îîS T
List
îîT X
<
îîX Y
detalle_pedido
îîY g
>
îîg h
>
îîh i
(
îîi j
detallePedido
îîj w
)
îîw x
;
îîx y
}
ïï 
catch
ññ 
(
ññ 
	Exception
ññ 
e
ññ 
)
ññ 
{
óó 
var
òò 
st
òò 
=
òò 
new
òò 

StackTrace
òò '
(
òò' (
)
òò( )
;
òò) *
var
ôô 
sf
ôô 
=
ôô 
st
ôô 
.
ôô 
GetFrame
ôô $
(
ôô$ %
$num
ôô% &
)
ôô& '
;
ôô' (
General
õõ 
.
õõ 
CrearLogError
õõ %
(
õõ% &
sf
õõ& (
.
õõ( )
	GetMethod
õõ) 2
(
õõ2 3
)
õõ3 4
.
õõ4 5
Name
õõ5 9
,
õõ9 :
$str
õõ; D
,
õõD E
e
õõF G
.
õõG H
Message
õõH O
,
õõO P
_config
õõQ X
.
õõX Y!
GetConnectionString
õõY l
(
õõl m
$str
õõm w
)
õõw x
)
õõx y
;
õõy z
}
úú 
return
ûû 
Ok
ûû 
(
ûû 
	resultado
ûû 
)
ûû  
;
ûû  !
}
üü 	
public
°° 
static
°° 
Boolean
°° 
CrearPedido
°° )
(
°°) *
pedidos
°°* 1
pedido
°°2 8
,
°°8 9
List
°°: >
<
°°> ?
detalle_pedido
°°? M
>
°°M N
detallePedido
°°O \
,
°°\ ]
string
°°^ d

tipoPedido
°°e o
,
°°o p"
AplicationDbContext°°q Ñ
context°°Ö å
,°°å ç
out°°é ë
int°°í ï
numero_pedido°°ñ £
)°°£ §
{
¢¢ 	
Boolean
££ 
PedidoCreado
££  
=
££! "
false
££# (
;
££( )
numero_pedido
•• 
=
•• 
Convert
•• #
.
••# $
ToInt32
••$ +
(
••+ ,
PreloadNro_pedido
••, =
(
••= >
context
••> E
)
••E F
)
••F G
;
••G H
if
¶¶ 
(
¶¶ 
numero_pedido
¶¶ 
>
¶¶ 
$num
¶¶  
)
¶¶  !
{
ßß 
pedido
®® 
.
®® 

nro_pedido
®® !
=
®®" #
numero_pedido
®®$ 1
;
®®1 2
pedido
©© 
.
©© 
aprobado_jefe
©© $
=
©©% &
$str
©©' *
;
©©* +
context
™™ 
.
™™ 
pedidos
™™ 
.
™™  
Add
™™  #
(
™™# $
pedido
™™$ *
)
™™* +
;
™™+ ,
int
´´ 

creoPedido
´´ 
=
´´  
context
´´! (
.
´´( )
SaveChanges
´´) 4
(
´´4 5
)
´´5 6
;
´´6 7
if
¨¨ 
(
¨¨ 

creoPedido
¨¨ 
>
¨¨ 
$num
¨¨  !
)
¨¨! "
{
≠≠ 
foreach
ÆÆ 
(
ÆÆ 
detalle_pedido
ÆÆ *
	detPedido
ÆÆ+ 4
in
ÆÆ5 7
detallePedido
ÆÆ8 E
)
ÆÆE F
{
ØØ 
	detPedido
∞∞ !
.
∞∞! "
	id_pedido
∞∞" +
=
∞∞, -
numero_pedido
∞∞. ;
;
∞∞; <
context
±± 
.
±±  
detalle_pedido
±±  .
.
±±. /
Add
±±/ 2
(
±±2 3
	detPedido
±±3 <
)
±±< =
;
±±= >
int
≤≤ 
creoDetallePedido
≤≤ -
=
≤≤. /
context
≤≤0 7
.
≤≤7 8
SaveChanges
≤≤8 C
(
≤≤C D
)
≤≤D E
;
≤≤E F
if
≥≥ 
(
≥≥ 
creoDetallePedido
≥≥ ,
>
≥≥- .
$num
≥≥/ 0
)
≥≥0 1
{
¥¥ 
switch
µµ "
(
µµ# $

tipoPedido
µµ$ .
)
µµ. /
{
∂∂ 
case
∑∑  $
$str
∑∑% 4
:
∑∑4 5
break
∏∏$ )
;
∏∏) *
case
ππ  $
$str
ππ% /
:
ππ/ 0
break
∫∫$ )
;
∫∫) *
}
ªª 
}
ºº 
}
ΩΩ 
}
øø 
}
¿¿ 
return
√√ 
PedidoCreado
√√ 
;
√√  
}
ƒƒ 	
public
∆∆ 
static
∆∆ 
string
∆∆ 
PreloadNro_pedido
∆∆ .
(
∆∆. /!
AplicationDbContext
∆∆/ B
context
∆∆C J
)
∆∆J K
{
«« 	
int
»» 

nro_pedido
»» 
=
»» 
$num
»» 
;
»» 
pedidos
…… 
p
…… 
=
…… 
context
…… 
.
……  
pedidos
……  '
.
……' (
OrderByDescending
……( 9
(
……9 :
x
……: ;
=>
……< >
x
……? @
.
……@ A

nro_pedido
……A K
)
……K L
.
……L M
FirstOrDefault
……M [
(
……[ \
)
……\ ]
;
……] ^
if
   
(
   
p
   
!=
   
null
   
)
   
{
ÀÀ 

nro_pedido
ÃÃ 
=
ÃÃ 
p
ÃÃ 
.
ÃÃ 

nro_pedido
ÃÃ )
+
ÃÃ* +
$num
ÃÃ, -
;
ÃÃ- .
}
ÕÕ 
return
ŒŒ 

nro_pedido
ŒŒ 
+
ŒŒ 
$str
ŒŒ  "
;
ŒŒ" #
}
œœ 	
}
–– 
}—— ‘d
JE:\GITEA\siscointBKII\siscointBKII\Controllers\permisos_usuIIController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
permisos_usuIIController )
:* +
ControllerBase, :
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public $
permisos_usuIIController '
(' (
AplicationDbContext( ;
context< C
,C D
IConfigurationE S
configT Z
)Z [
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str !
)! "
]" #
[ 	
	Authorize	 
] 
public 
IActionResult 
permisos %
(% &
)& '
{   	
var!! 
permisos!! 
=!! 
new!! 
Object!! %
(!!% &
)!!& '
;!!' (
try"" 
{## 
permisos$$ 
=$$ 
listarPermisos$$ )
($$) *
)$$* +
;$$+ ,
}&& 
catch'' 
('' 
	Exception'' 
e'' 
)'' 
{(( 
var** 
st** 
=** 
new** 

StackTrace** '
(**' (
)**( )
;**) *
var++ 
sf++ 
=++ 
st++ 
.++ 
GetFrame++ $
(++$ %
$num++% &
)++& '
;++' (
General-- 
.-- 
CrearLogError-- %
(--% &
sf--& (
.--( )
	GetMethod--) 2
(--2 3
)--3 4
.--4 5
Name--5 9
,--9 :
$str--; K
,--K L
e--M N
.--N O
Message--O V
,--V W
_config--X _
.--_ `
GetConnectionString--` s
(--s t
$str--t ~
)--~ 
)	-- Ä
;
--Ä Å
}.. 
return// 
Ok// 
(// 
permisos// 
)// 
;//  
}00 	
[22 	
HttpPost22	 
(22 
$str22 *
)22* +
]22+ ,
[33 	
	Authorize33	 
]33 
public44 
IActionResult44 "
listarPermisosUsuarios44 3
(443 4
[444 5
FromBody445 =
]44= >
permisos_usuII44? M
permisos_UsuII44N \
)44\ ]
{55 	
var66 
permisosUsu66 
=66 
new66 !
Object66" (
(66( )
)66) *
;66* +
try77 
{88 
permisosUsu99 
=99 
_context99 &
.99& '
permisos_usuIII99' 6
.996 7
Where997 <
(99< =
x99= >
=>99? A
x99B C
.99C D
usuario99D K
==99L N
permisos_UsuII99O ]
.99] ^
usuario99^ e
||99f h
x99i j
.99j k
cod_usuario99k v
==99w y
permisos_UsuII	99z à
.
99à â
cod_usuario
99â î
)
99î ï
.
99ï ñ
ToList
99ñ ú
(
99ú ù
)
99ù û
;
99û ü
}:: 
catch;; 
(;; 
	Exception;; 
e;; 
);; 
{<< 
var>> 
st>> 
=>> 
new>> 

StackTrace>> '
(>>' (
)>>( )
;>>) *
var?? 
sf?? 
=?? 
st?? 
.?? 
GetFrame?? $
(??$ %
$num??% &
)??& '
;??' (
GeneralAA 
.AA 
CrearLogErrorAA %
(AA% &
sfAA& (
.AA( )
	GetMethodAA) 2
(AA2 3
)AA3 4
.AA4 5
NameAA5 9
,AA9 :
$strAA; L
,AAL M
eAAN O
.AAO P
MessageAAP W
,AAW X
_configAAY `
.AA` a
GetConnectionStringAAa t
(AAt u
$strAAu 
)	AA Ä
)
AAÄ Å
;
AAÅ Ç
}BB 
returnDD 
OkDD 
(DD 
permisosUsuDD !
)DD! "
;DD" #
}EE 	
[FF 	
HttpPostFF	 
(FF 
$strFF (
)FF( )
]FF) *
[GG 	
	AuthorizeGG	 
]GG 
publicHH 
IActionResultHH  
actulizarPermisosUsuHH 1
(HH1 2
dynamicHH2 9
dataHH: >
)HH> ?
{II 	
tryJJ 
{KK 
stringMM 
datMM 
=MM 
SystemMM #
.MM# $
TextMM$ (
.MM( )
JsonMM) -
.MM- .
JsonSerializerMM. <
.MM< =
	SerializeMM= F
(MMF G
dataMMG K
)MMK L
;MML M
ListNN 
<NN 
permisos_usuIINN #
>NN# $
permisosNN% -
=NN. /
JsonConvertNN0 ;
.NN; <
DeserializeObjectNN< M
<NNM N
ListNNN R
<NNR S
permisos_usuIINNS a
>NNa b
>NNb c
(NNc d
datNNd g
)NNg h
;NNh i
foreachOO 
(OO 
permisos_usuIIOO &
permisoOO' .
inOO/ 1
permisosOO2 :
)OO: ;
{PP 
varQQ 
datoQQ 
=QQ 
_contextQQ '
.QQ' (
permisos_usuIIIQQ( 7
.QQ7 8
FirstOrDefaultQQ8 F
(QQF G
xQQG H
=>QQI K
xQQL M
.QQM N
id_viewQQN U
==QQV X
permisoQQY `
.QQ` a
id_viewQQa h
&&QQi k
xQQl m
.QQm n
usuarioQQn u
==QQv x
permiso	QQy Ä
.
QQÄ Å
usuario
QQÅ à
)
QQà â
;
QQâ ä
ifSS 
(SS 
datoSS 
!=SS 
nullSS  $
)SS$ %
{TT 
ifUU 
(UU 
permisoUU #
.UU# $
autorizacionUU$ 0
==UU1 3
$strUU4 :
)UU: ;
{VV 
datoWW  
.WW  !
autorizacionWW! -
=WW. /
$strWW0 3
;WW3 4
}XX 
elseYY 
{ZZ 
dato[[  
.[[  !
autorizacion[[! -
=[[. /
$str[[0 3
;[[3 4
}\\ 
if]] 
(]] 
permiso]] #
.]]# $
pe1]]$ '
==]]( *
$str]]+ 1
)]]1 2
{^^ 
dato__  
.__  !
pe1__! $
=__% &
$str__' *
;__* +
}`` 
elseaa 
{bb 
datocc  
.cc  !
pe1cc! $
=cc% &
$strcc' *
;cc* +
}dd 
ifee 
(ee 
permisoee #
.ee# $
pe2ee$ '
==ee( *
$stree+ 1
)ee1 2
{ff 
datogg  
.gg  !
pe2gg! $
=gg% &
$strgg' *
;gg* +
}hh 
elseii 
{jj 
datokk  
.kk  !
pe2kk! $
=kk% &
$strkk' *
;kk* +
}ll 
datomm 
.mm 
fecha_modificacionmm /
=mm0 1
permisomm2 9
.mm9 :
fecha_modificacionmm: L
;mmL M
_contextnn  
.nn  !
Updatenn! '
(nn' (
datonn( ,
)nn, -
;nn- .
_contextoo  
.oo  !
SaveChangesoo! ,
(oo, -
)oo- .
;oo. /
}pp 
elseqq 
{rr 
permisos_usuIIItt '
permisosAddtt( 3
=tt4 5
newtt6 9
permisos_usuIIItt: I
(ttI J
)ttJ K
;ttK L
permisosAdduu #
.uu# $
id_viewuu$ +
=uu, -
permisouu. 5
.uu5 6
id_viewuu6 =
;uu= >
permisosAddvv #
.vv# $
cod_usuariovv$ /
=vv0 1
permisovv2 9
.vv9 :
cod_usuariovv: E
;vvE F
permisosAddww #
.ww# $

id_usuarioww$ .
=ww/ 0
permisoww1 8
.ww8 9

id_usuarioww9 C
;wwC D
permisosAddxx #
.xx# $
usuarioxx$ +
=xx, -
permisoxx. 5
.xx5 6
usuarioxx6 =
;xx= >
ifyy 
(yy 
permisoyy #
.yy# $
autorizacionyy$ 0
==yy1 3
$stryy4 :
)yy: ;
{zz 
permisosAdd{{ '
.{{' (
autorizacion{{( 4
={{5 6
$str{{7 :
;{{: ;
}|| 
else}} 
{~~ 
permisosAdd '
.' (
autorizacion( 4
=5 6
$str7 :
;: ;
}
ÄÄ 
if
ÅÅ 
(
ÅÅ 
permiso
ÅÅ #
.
ÅÅ# $
pe1
ÅÅ$ '
==
ÅÅ( *
$str
ÅÅ+ 1
)
ÅÅ1 2
{
ÇÇ 
permisosAdd
ÉÉ '
.
ÉÉ' (
pe1
ÉÉ( +
=
ÉÉ, -
$str
ÉÉ. 1
;
ÉÉ1 2
}
ÑÑ 
else
ÖÖ 
{
ÜÜ 
permisosAdd
áá '
.
áá' (
pe1
áá( +
=
áá, -
$str
áá. 1
;
áá1 2
}
àà 
if
ââ 
(
ââ 
permiso
ââ #
.
ââ# $
pe2
ââ$ '
==
ââ( *
$str
ââ+ 1
)
ââ1 2
{
ää 
permisosAdd
ãã '
.
ãã' (
pe2
ãã( +
=
ãã, -
$str
ãã. 1
;
ãã1 2
}
åå 
else
çç 
{
éé 
permisosAdd
èè '
.
èè' (
pe2
èè( +
=
èè, -
$str
èè. 1
;
èè1 2
}
êê 
permisosAdd
ëë #
.
ëë# $
usuario_crea
ëë$ 0
=
ëë1 2
permiso
ëë3 :
.
ëë: ;
usuario_crea
ëë; G
;
ëëG H
permisosAdd
íí #
.
íí# $
Fecha_creacion
íí$ 2
=
íí3 4
permiso
íí5 <
.
íí< =
Fecha_creacion
íí= K
;
ííK L
permisosAdd
ìì #
.
ìì# $ 
fecha_modificacion
ìì$ 6
=
ìì7 8
permiso
ìì9 @
.
ìì@ A 
fecha_modificacion
ììA S
;
ììS T
permisosAdd
îî #
.
îî# $
Estado
îî$ *
=
îî+ ,
$num
îî- .
;
îî. /
_context
ïï  
.
ïï  !
Add
ïï! $
(
ïï$ %
permisosAdd
ïï% 0
)
ïï0 1
;
ïï1 2
_context
ññ  
.
ññ  !
SaveChanges
ññ! ,
(
ññ, -
)
ññ- .
;
ññ. /
}
óó 
}
ôô 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
e
úú 
)
úú 
{
ùù 
var
üü 
st
üü 
=
üü 
new
üü 

StackTrace
üü '
(
üü' (
)
üü( )
;
üü) *
var
†† 
sf
†† 
=
†† 
st
†† 
.
†† 
GetFrame
†† $
(
††$ %
$num
††% &
)
††& '
;
††' (
General
¢¢ 
.
¢¢ 
CrearLogError
¢¢ %
(
¢¢% &
sf
¢¢& (
.
¢¢( )
	GetMethod
¢¢) 2
(
¢¢2 3
)
¢¢3 4
.
¢¢4 5
Name
¢¢5 9
,
¢¢9 :
$str
¢¢; L
,
¢¢L M
e
¢¢N O
.
¢¢O P
Message
¢¢P W
,
¢¢W X
_config
¢¢Y `
.
¢¢` a!
GetConnectionString
¢¢a t
(
¢¢t u
$str
¢¢u 
)¢¢ Ä
)¢¢Ä Å
;¢¢Å Ç
}
££ 
return
•• 
Ok
•• 
(
•• 
)
•• 
;
•• 
}
¶¶ 	
public
ßß 
Object
ßß 
listarPermisos
ßß $
(
ßß$ %
)
ßß% &
{
®® 	
var
©© 
permisos
©© 
=
©© 
_context
©© #
.
©©# $
permisos_usuIII
©©$ 3
.
©©3 4
ToList
©©4 :
(
©©: ;
)
©©; <
;
©©< =
return
™™ 
permisos
™™ 
;
™™ 
}
´´ 	
}
¨¨ 
}≠≠ ƒñ
DE:\GITEA\siscointBKII\siscointBKII\Controllers\UsuariosController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UsuariosController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
UsuariosController !
(! "
AplicationDbContext" 5
context6 =
,= >
IConfiguration? M
configN T
)T U
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	
	Authorize!!	 
]!! 
public"" 
IActionResult"" 
Usuarios"" %
(""% &
)""& '
{## 	
var$$ 
currentUser$$ 
=$$ 
GetCurrentUser$$ ,
($$, -
)$$- .
;$$. /
return'' 
Ok'' 
('' 
currentUser'' !
)''! "
;''" #
}(( 	
[)) 	
HttpGet))	 
()) 
$str)) 
))) 
]))  
[** 	
	Authorize**	 
]** 
public++ 
IActionResult++ 
tipoUsuario++ (
(++( )
)++) *
{,, 	
var-- 
tipoUsuario-- 
=-- 
_context-- &
.--& '
tipo_usuario--' 3
.--3 4
ToList--4 :
(--: ;
)--; <
;--< =
return.. 
Ok.. 
(.. 
tipoUsuario.. !
)..! "
;.." #
}// 	
[11 	
HttpPost11	 
(11 
$str11 
)11 
]11  
[22 	
	Authorize22	 
]22 
public33 
IActionResult33 

getUsuario33 '
(33' (
[33( )
FromBody33) 1
]331 2
usuario333 :
user33; ?
)33? @
{44 	
List55 
<55  
dataBusquedaCompleta55 %
>55% &
busqueda55' /
=550 1
new552 5
List556 :
<55: ; 
dataBusquedaCompleta55; O
>55O P
(55P Q
)55Q R
;55R S
var66 
usuarios66 
=66 
_context66 #
.66# $
usuario66$ +
.66+ ,
Where66, 1
(661 2
x662 3
=>664 6
x668 9
.669 :
codigo66: @
==66A C
user66D H
.66H I
codigo66I O
||66P R
x66S T
.66T U
nombre_usuario66U c
.66c d
Contains66d l
(66l m
user66m q
.66q r
nombre_usuario	66r Ä
)
66Ä Å
||
66Ç Ñ
x
66Ö Ü
.
66Ü á
username
66á è
==
66ê í
user
66ì ó
.
66ó ò
username
66ò †
)
66† °
.
66° ¢
ToList
66¢ ®
(
66® ©
)
66© ™
;
66™ ´
if77 
(77 
usuarios77 
==77 
null77  
)77  !
return88 
null88 
;88 
foreach:: 
(:: 
usuario:: 
item::  
in::! #
usuarios::$ ,
)::, -
{;;  
dataBusquedaCompleta<< $
busq<<% )
=<<* +
new<<, / 
dataBusquedaCompleta<<0 D
(<<D E
)<<E F
;<<F G
busq== 
.== 
id== 
=== 
item== 
.== 
id== !
;==! "
busq>> 
.>> 
valor1>> 
=>> 
item>> "
.>>" #
codigo>># )
;>>) *
busq?? 
.?? 
valor2?? 
=?? 
item?? "
.??" #
nombre_usuario??# 1
;??1 2
busq@@ 
.@@ 
valor3@@ 
=@@ 
item@@ "
.@@" #
username@@# +
;@@+ ,
busqAA 
.AA 
valor4AA 
=AA 
$strAA  
;AA  !
busqBB 
.BB 
valor5BB 
=BB 
$strBB  
;BB  !
busquedaCC 
.CC 
AddCC 
(CC 
busqCC !
)CC! "
;CC" #
}DD 
returnHH 
OkHH 
(HH 
busquedaHH 
)HH 
;HH  
}II 	
[KK 	
HttpPostKK	 
(KK 
$strKK  
)KK  !
]KK! "
[LL 	
	AuthorizeLL	 
]LL 
publicMM 
IActionResultMM 
getUsuarioIdMM )
(MM) *
[MM* +
FromBodyMM+ 3
]MM3 4
usuarioMM5 <
userMM= A
)MMA B
{NN 	
varOO 
usuariosOO 
=OO 
newOO 
ObjectOO %
(OO% &
)OO& '
;OO' (
tryPP 
{QQ 
usuariosRR 
=RR 
_contextRR #
.RR# $
usuarioRR$ +
.RR+ ,
WhereRR, 1
(RR1 2
xRR2 3
=>RR4 6
xRR7 8
.RR8 9
idRR9 ;
==RR< >
userRR? C
.RRC D
idRRD F
)RRF G
.RRG H
ToListRRH N
(RRN O
)RRO P
;RRP Q
ifSS 
(SS 
usuariosSS 
==SS 
nullSS  $
)SS$ %
returnTT 
nullTT 
;TT  
}UU 
catchVV 
(VV 
	ExceptionVV 
eVV 
)VV 
{WW 
varYY 
stYY 
=YY 
newYY 

StackTraceYY '
(YY' (
)YY( )
;YY) *
varZZ 
sfZZ 
=ZZ 
stZZ 
.ZZ 
GetFrameZZ $
(ZZ$ %
$numZZ% &
)ZZ& '
;ZZ' (
General\\ 
.\\ 
CrearLogError\\ %
(\\% &
sf\\& (
.\\( )
	GetMethod\\) 2
(\\2 3
)\\3 4
.\\4 5
Name\\5 9
,\\9 :
$str\\; D
,\\D E
e\\F G
.\\G H
Message\\H O
,\\O P
_config\\Q X
.\\X Y
GetConnectionString\\Y l
(\\l m
$str\\m w
)\\w x
)\\x y
;\\y z
}]] 
return^^ 
Ok^^ 
(^^ 
usuarios^^ 
)^^ 
;^^  
}__ 	
[jj 	
HttpGetjj	 
(jj 
$strjj !
)jj! "
]jj" #
publickk 
IActionResultkk 
listarUsuarioskk +
(kk+ ,
)kk, -
{ll 	
varmm 
usuariosmm 
=mm 
_contextmm #
.mm# $
usuariomm$ +
.mm+ ,
ToListmm, 2
(mm2 3
)mm3 4
;mm4 5
returnnn 
Oknn 
(nn 
usuariosnn 
)nn 
;nn  
}oo 	
[pp 	
HttpPostpp	 
(pp 
$strpp "
)pp" #
]pp# $
[qq 	
	Authorizeqq	 
]qq 
publicrr 
IActionResultrr 
Addrr  
(rr  !
dynamicrr! (
datarr) -
)rr- .
{ss 	
vartt 
datott 
=tt 
newtt 
Objecttt !
(tt! "
)tt" #
;tt# $
tryuu 
{vv 
stringww 
datww 
=ww 
Systemww #
.ww# $
Textww$ (
.ww( )
Jsonww) -
.ww- .
JsonSerializerww. <
.ww< =
	Serializeww= F
(wwF G
datawwG K
)wwK L
;wwL M
usuarioxx 
usuarioxx 
=xx  !
JsonConvertxx" -
.xx- .
DeserializeObjectxx. ?
<xx? @
usuarioxx@ G
>xxG H
(xxH I
datxxI L
)xxL M
;xxM N
stringyy 

nombreCapayy !
=yy" #
$stryy$ 3
+yy4 5
usuarioyy6 =
.yy= >
nombre_usuarioyy> L
+yyM N
usuarioyyO V
.yyV W
psswordyyW ^
;yy^ _
dato{{ 
={{ 
_context{{ 
.{{  
usuario{{  '
.{{' (
FirstOrDefault{{( 6
({{6 7
x{{7 8
=>{{9 ;
x{{< =
.{{= >
codigo{{> D
=={{E G
usuario{{H O
.{{O P
codigo{{P V
||{{W Y
x{{Z [
.{{[ \
username{{\ d
=={{e g
usuario{{h o
.{{o p
username{{p x
){{x y
;{{y z
if}} 
(}} 
dato}} 
==}} 
null}}  
)}}  !
{~~ 
_context
ÅÅ 
.
ÅÅ 
Add
ÅÅ  
(
ÅÅ  !
usuario
ÅÅ! (
)
ÅÅ( )
;
ÅÅ) *
_context
ÇÇ 
.
ÇÇ 
SaveChanges
ÇÇ (
(
ÇÇ( )
)
ÇÇ) *
;
ÇÇ* +
}
ÉÉ 
else
ÑÑ 
{
ÖÖ 
return
ÜÜ 

BadRequest
ÜÜ %
(
ÜÜ% &
)
ÜÜ& '
;
ÜÜ' (
}
áá 
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
e
ää 
)
ää 
{
ãã 
var
çç 
st
çç 
=
çç 
new
çç 

StackTrace
çç '
(
çç' (
)
çç( )
;
çç) *
var
éé 
sf
éé 
=
éé 
st
éé 
.
éé 
GetFrame
éé $
(
éé$ %
$num
éé% &
)
éé& '
;
éé' (
General
êê 
.
êê 
CrearLogError
êê %
(
êê% &
sf
êê& (
.
êê( )
	GetMethod
êê) 2
(
êê2 3
)
êê3 4
.
êê4 5
Name
êê5 9
,
êê9 :
$str
êê; D
,
êêD E
e
êêF G
.
êêG H
Message
êêH O
,
êêO P
_config
êêQ X
.
êêX Y!
GetConnectionString
êêY l
(
êêl m
$str
êêm w
)
êêw x
)
êêx y
;
êêy z
}
ëë 
return
íí 
Ok
íí 
(
íí 
)
íí 
;
íí 
}
ìì 	
[
îî 	
HttpPut
îî	 
(
îî 
$str
îî %
)
îî% &
]
îî& '
[
ïï 	
	Authorize
ïï	 
]
ïï 
public
ññ 
IActionResult
ññ 
Edit
ññ !
(
ññ! "
int
ññ" %
id
ññ& (
,
ññ( )
[
ññ) *
FromBody
ññ* 2
]
ññ2 3
usuario
ññ4 ;
usuarios
ññ< D
)
ññD E
{
óó 	
Boolean
öö 
EsEditar
öö 
=
öö 
false
öö $
;
öö$ %
try
õõ 
{
úú 
if
ûû 
(
ûû 
id
ûû 
!=
ûû 
usuarios
ûû "
.
ûû" #
id
ûû# %
)
ûû% &
{
üü 
return
†† 

BadRequest
†† %
(
††% &
)
††& '
;
††' (
}
°° 
string
¢¢ 
_nombre_usuario
¢¢ &
=
¢¢' (
usuarios
¢¢) 1
.
¢¢1 2
nombre_usuario
¢¢2 @
;
¢¢@ A
string
££ 
nombre_usuario
££ %
=
££& '
Regex
££( -
.
££- .
Replace
££. 5
(
££5 6
_nombre_usuario
££6 E
,
££E F
$str
££G L
,
££L M
$str
££N P
)
££P Q
;
££Q R
string
§§ 

nombreCapa
§§ !
=
§§" #
$str
§§$ 0
+
§§0 1
nombre_usuario
§§2 @
+
§§A B
usuarios
§§C K
.
§§K L
pssword
§§L S
;
§§S T
usuario
•• 
users
•• 
=
•• 
new
••  #
usuario
••$ +
(
••+ ,
)
••, -
;
••- .
users
¶¶ 
.
¶¶ 
id
¶¶ 
=
¶¶ 
usuarios
¶¶ #
.
¶¶# $
id
¶¶$ &
;
¶¶& '
users
ßß 
.
ßß 
codigo
ßß 
=
ßß 
usuarios
ßß '
.
ßß' (
codigo
ßß( .
;
ßß. /
users
®® 
.
®® 
nombre_usuario
®® $
=
®®% &
usuarios
®®' /
.
®®/ 0
nombre_usuario
®®0 >
;
®®> ?
users
©© 
.
©© 
username
©© 
=
©©  
usuarios
©©! )
.
©©) *
username
©©* 2
;
©©2 3
users
™™ 
.
™™ 
password
™™ 
=
™™  
usuarios
™™! )
.
™™) *
password
™™* 2
;
™™2 3
users
¨¨ 
.
¨¨ 
id_tipo_usuario
¨¨ %
=
¨¨& '
usuarios
¨¨( 0
.
¨¨0 1
id_tipo_usuario
¨¨1 @
;
¨¨@ A
users
≠≠ 
.
≠≠ 
estado
≠≠ 
=
≠≠ 
usuarios
≠≠ '
.
≠≠' (
estado
≠≠( .
;
≠≠. /
users
ÆÆ 
.
ÆÆ 
cargo
ÆÆ 
=
ÆÆ 
usuarios
ÆÆ &
.
ÆÆ& '
cargo
ÆÆ' ,
;
ÆÆ, -
users
ØØ 
.
ØØ 
area
ØØ 
=
ØØ 
usuarios
ØØ %
.
ØØ% &
area
ØØ& *
;
ØØ* +
users
∞∞ 
.
∞∞ 
modulo
∞∞ 
=
∞∞ 
usuarios
∞∞ '
.
∞∞' (
modulo
∞∞( .
;
∞∞. /
_context
≤≤ 
.
≤≤ 
Update
≤≤ 
(
≤≤  
users
≤≤  %
)
≤≤% &
;
≤≤& '
_context
≥≥ 
.
≥≥ 
SaveChanges
≥≥ $
(
≥≥$ %
)
≥≥% &
;
≥≥& '
}
µµ 
catch
∂∂ 
(
∂∂ 
	Exception
∂∂ 
e
∂∂ 
)
∂∂ 
{
∑∑ 
var
ππ 
st
ππ 
=
ππ 
new
ππ 

StackTrace
ππ '
(
ππ' (
)
ππ( )
;
ππ) *
var
∫∫ 
sf
∫∫ 
=
∫∫ 
st
∫∫ 
.
∫∫ 
GetFrame
∫∫ $
(
∫∫$ %
$num
∫∫% &
)
∫∫& '
;
∫∫' (
General
ºº 
.
ºº 
CrearLogError
ºº %
(
ºº% &
sf
ºº& (
.
ºº( )
	GetMethod
ºº) 2
(
ºº2 3
)
ºº3 4
.
ºº4 5
Name
ºº5 9
,
ºº9 :
$str
ºº; D
,
ººD E
e
ººF G
.
ººG H
Message
ººH O
,
ººO P
_config
ººQ X
.
ººX Y!
GetConnectionString
ººY l
(
ººl m
$str
ººm w
)
ººw x
)
ººx y
;
ººy z
}
ΩΩ 
return
ææ 
Ok
ææ 
(
ææ 
)
ææ 
;
ææ 
}
øø 	
private
¬¬ 
UsuariosModel
¬¬ 
GetCurrentUser
¬¬ ,
(
¬¬, -
)
¬¬- .
{
√√ 	
var
ƒƒ 
identity
ƒƒ 
=
ƒƒ 
HttpContext
ƒƒ &
.
ƒƒ& '
User
ƒƒ' +
.
ƒƒ+ ,
Identity
ƒƒ, 4
as
ƒƒ5 7
ClaimsIdentity
ƒƒ8 F
;
ƒƒF G
if
≈≈ 
(
≈≈ 
identity
≈≈ 
==
≈≈ 
null
≈≈  
)
≈≈  !
return
∆∆ 
null
∆∆ 
;
∆∆ 
var
»» 

userclaims
»» 
=
»» 
identity
»» %
.
»»% &
Claims
»»& ,
;
»», -
return
…… 
new
…… 
UsuariosModel
…… $
{
   
codigo
ÀÀ 
=
ÀÀ 

userclaims
ÀÀ #
.
ÀÀ# $
FirstOrDefault
ÀÀ$ 2
(
ÀÀ2 3
o
ÀÀ3 4
=>
ÀÀ5 7
o
ÀÀ8 9
.
ÀÀ9 :
Type
ÀÀ: >
==
ÀÀ? A

ClaimTypes
ÀÀB L
.
ÀÀL M
SerialNumber
ÀÀM Y
)
ÀÀY Z
?
ÀÀZ [
.
ÀÀ[ \
Value
ÀÀ\ a
,
ÀÀa b
nombre_usuario
ÃÃ 
=
ÃÃ  

userclaims
ÃÃ! +
.
ÃÃ+ ,
FirstOrDefault
ÃÃ, :
(
ÃÃ: ;
o
ÃÃ; <
=>
ÃÃ= ?
o
ÃÃ@ A
.
ÃÃA B
Type
ÃÃB F
==
ÃÃG I

ClaimTypes
ÃÃJ T
.
ÃÃT U
Name
ÃÃU Y
)
ÃÃY Z
?
ÃÃZ [
.
ÃÃ[ \
Value
ÃÃ\ a
,
ÃÃa b
username
ÕÕ 
=
ÕÕ 

userclaims
ÕÕ %
.
ÕÕ% &
FirstOrDefault
ÕÕ& 4
(
ÕÕ4 5
o
ÕÕ5 6
=>
ÕÕ7 9
o
ÕÕ: ;
.
ÕÕ; <
Type
ÕÕ< @
==
ÕÕA C

ClaimTypes
ÕÕD N
.
ÕÕN O
NameIdentifier
ÕÕO ]
)
ÕÕ] ^
?
ÕÕ^ _
.
ÕÕ_ `
Value
ÕÕ` e
}
ŒŒ 
;
ŒŒ 
}
œœ 	
public
⁄⁄ 
static
⁄⁄ 
string
⁄⁄ 
ToSha256
⁄⁄ %
(
⁄⁄% &
string
⁄⁄& ,
password
⁄⁄- 5
)
⁄⁄5 6
{
€€ 	
using
‹‹ 
var
‹‹ 
sha256
‹‹ 
=
‹‹ 
SHA256
‹‹ %
.
‹‹% &
Create
‹‹& ,
(
‹‹, -
)
‹‹- .
;
‹‹. /
byte
›› 
[
›› 
]
›› 
bytes
›› 
=
›› 
sha256
›› !
.
››! "
ComputeHash
››" -
(
››- .
Encoding
››. 6
.
››6 7
UTF8
››7 ;
.
››; <
GetBytes
››< D
(
››D E
password
››E M
)
››M N
)
››N O
;
››O P
var
ﬂﬂ 
sb
ﬂﬂ 
=
ﬂﬂ 
new
ﬂﬂ 
StringBuilder
ﬂﬂ &
(
ﬂﬂ& '
)
ﬂﬂ' (
;
ﬂﬂ( )
for
‡‡ 
(
‡‡ 
int
‡‡ 
i
‡‡ 
=
‡‡ 
$num
‡‡ 
;
‡‡ 
i
‡‡ 
<
‡‡ 
bytes
‡‡ $
.
‡‡$ %
Length
‡‡% +
;
‡‡+ ,
i
‡‡- .
++
‡‡. 0
)
‡‡0 1
{
·· 
sb
‚‚ 
.
‚‚ 
Append
‚‚ 
(
‚‚ 
bytes
‚‚ 
[
‚‚  
i
‚‚  !
]
‚‚! "
.
‚‚" #
ToString
‚‚# +
(
‚‚+ ,
$str
‚‚, 0
)
‚‚0 1
)
‚‚1 2
;
‚‚2 3
}
„„ 
return
‰‰ 
sb
‰‰ 
.
‰‰ 
ToString
‰‰ 
(
‰‰ 
)
‰‰  
;
‰‰  !
}
ÂÂ 	
}
ÊÊ 
}ÁÁ —V
AE:\GITEA\siscointBKII\siscointBKII\Controllers\ViewsController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ViewsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
AplicationDbContext ,
_context- 5
;5 6
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
ViewsController 
( 
AplicationDbContext 2
context3 :
,: ;
IConfiguration< J
configK Q
)Q R
{ 	
_context 
= 
context 
; 
_config 
= 
config 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
[ 	
	Authorize	 
] 
public 
IActionResult 
views "
(" #
)# $
{ 	
string 
username 
= 
$str  
;  !
List!! 
<!! 
viewsPermisos!! 
>!! 
viewsPermisos!!  -
=!!. /
new!!0 3
List!!4 8
<!!8 9
viewsPermisos!!9 F
>!!F G
(!!G H
)!!H I
;!!I J
try"" 
{## 
viewsPermisos$$ 
=$$ !
getListVistasPermisos$$  5
($$5 6
username$$6 >
)$$> ?
;$$? @
}%% 
catch&& 
(&& 
	Exception&& 
e&& 
)&& 
{'' 
var)) 
st)) 
=)) 
new)) 

StackTrace)) '
())' (
)))( )
;))) *
var** 
sf** 
=** 
st** 
.** 
GetFrame** $
(**$ %
$num**% &
)**& '
;**' (
General,, 
.,, 
CrearLogError,, %
(,,% &
sf,,& (
.,,( )
	GetMethod,,) 2
(,,2 3
),,3 4
.,,4 5
Name,,5 9
,,,9 :
$str,,; K
,,,K L
e,,M N
.,,N O
Message,,O V
,,,V W
_config,,X _
.,,_ `
GetConnectionString,,` s
(,,s t
$str,,t ~
),,~ 
)	,, Ä
;
,,Ä Å
}-- 
return// 
Ok// 
(// 
viewsPermisos// #
)//# $
;//$ %
}00 	
[11 	
HttpPost11	 
(11 
$str11 
)11 
]11 
[22 	
	Authorize22	 
]22 
public33 
IActionResult33 

viewsUsers33 '
(33' (
[33( )
FromBody33) 1
]331 2
permisos_usuII333 A
permisos_UsuII33B P
)33P Q
{44 	
string55 
username55 
=55 
$str55  
;55  !
List66 
<66 
viewsPermisos66 
>66 
viewsPermisos66  -
=66. /
new660 3
List664 8
<668 9
viewsPermisos669 F
>66F G
(66G H
)66H I
;66I J
try77 
{88 
var99 
usuarioPermisos99 #
=99$ %
_context99& .
.99. /
permisos_usuIII99/ >
.99> ?
FirstOrDefault99? M
(99M N
x99N O
=>99P R
x99S T
.99T U
usuario99U \
==99] _
permisos_UsuII99` n
.99n o
usuario99o v
)99v w
;99w x
if:: 
(:: 
usuarioPermisos:: #
!=::$ &
null::' +
)::+ ,
username;; 
=;; 
usuarioPermisos;; .
.;;. /
usuario;;/ 6
.;;6 7
ToString;;7 ?
(;;? @
);;@ A
;;;A B
viewsPermisos== 
=== !
getListVistasPermisos==  5
(==5 6
username==6 >
)==> ?
;==? @
}>> 
catch?? 
(?? 
	Exception?? 
e?? 
)?? 
{@@ 
varBB 
stBB 
=BB 
newBB 

StackTraceBB '
(BB' (
)BB( )
;BB) *
varCC 
sfCC 
=CC 
stCC 
.CC 
GetFrameCC $
(CC$ %
$numCC% &
)CC& '
;CC' (
GeneralEE 
.EE 
CrearLogErrorEE %
(EE% &
sfEE& (
.EE( )
	GetMethodEE) 2
(EE2 3
)EE3 4
.EE4 5
NameEE5 9
,EE9 :
$strEE; L
,EEL M
eEEN O
.EEO P
MessageEEP W
,EEW X
_configEEY `
.EE` a
GetConnectionStringEEa t
(EEt u
$strEEu 
)	EE Ä
)
EEÄ Å
;
EEÅ Ç
}FF 
returnGG 
OkGG 
(GG 
viewsPermisosGG #
)GG# $
;GG$ %
}HH 	
publicWW 
ObjectWW 
getListViewsWW "
(WW" #
)WW# $
{XX 	
varYY 
vistasYY 
=YY 
_contextYY !
.YY! "
viewsYY" '
.YY' (
ToListYY( .
(YY. /
)YY/ 0
;YY0 1
returnZZ 
vistasZZ 
;ZZ 
}[[ 	
public\\ 
List\\ 
<\\ 
viewsPermisos\\ !
>\\! "!
getListVistasPermisos\\# 8
(\\8 9
string\\9 ?
username\\@ H
)\\H I
{]] 	
var^^ 
usuariospermiso^^ 
=^^  !
new^^" %
Object^^& ,
(^^, -
)^^- .
;^^. /
List__ 
<__ 
viewsPermisos__ 
>__ 
ViewsPermisos__  -
=__. /
new__0 3
List__4 8
<__8 9
viewsPermisos__9 F
>__F G
(__G H
)__H I
;__I J
string`` 
query`` 
=`` 
$str`` 
;`` 
tryaa 
{bb 
ifcc 
(cc 
usernamecc 
==cc 
$strcc !
)cc! "
{dd 
queryee 
=ee 
$str	ee â
;
eeâ ä
}ff 
elsegg 
{hh 
queryii 
=ii 
$strii <
+ii= >
$strjj `
+jja b
usernamejjc k
+jjl m
$str	jjn ó
+
jjó ò
$strkk W
+kkX Y
usernamekkZ b
+kkc d
$str	kke Ö
+
kkÖ Ü
$strll W
+llX Y
usernamellZ b
+llc d
$str	lle é
;
llé è
}mm 
usingnn 
(nn 
SqlConnectionnn $
connn% (
=nn) *
newnn+ .
SqlConnectionnn/ <
(nn< =
_confignn= D
.nnD E
GetConnectionStringnnE X
(nnX Y
$strnnY c
)nnc d
)nnd e
)nne f
{oo 
usingqq 
(qq 

SqlCommandqq $
cmdqq% (
=qq) *
newqq+ .

SqlCommandqq/ 9
(qq9 :
queryqq: ?
)qq? @
)qq@ A
{rr 
cmdss 
.ss 

Connectionss &
=ss' (
conss) ,
;ss, -
contt 
.tt 
Opentt  
(tt  !
)tt! "
;tt" #
usinguu 
(uu 
SqlDataReaderuu ,
sdruu- 0
=uu1 2
cmduu3 6
.uu6 7
ExecuteReaderuu7 D
(uuD E
)uuE F
)uuF G
{vv 
whileww !
(ww" #
sdrww# &
.ww& '
Readww' +
(ww+ ,
)ww, -
)ww- .
{xx 
ViewsPermisosyy  -
.yy- .
Addyy. 1
(yy1 2
newyy2 5
viewsPermisosyy6 C
{zz  !
id{{$ &
={{' (
Convert{{) 0
.{{0 1
ToInt32{{1 8
({{8 9
sdr{{9 <
[{{< =
$str{{= A
]{{A B
){{B C
,{{C D
name_module||$ /
=||0 1
sdr||2 5
[||5 6
$str||6 C
]||C D
+||D E
$str||E G
,||G H
module}}$ *
=}}+ ,
sdr}}- 0
[}}0 1
$str}}1 9
]}}9 :
+}}: ;
$str}}; =
,}}= >
autorizacion~~$ 0
=~~1 2
Convert~~3 :
.~~: ;
	ToBoolean~~; D
(~~D E
Convert~~E L
.~~L M
ToInt32~~M T
(~~T U
sdr~~U X
[~~X Y
$str~~Y g
]~~g h
)~~h i
)~~i j
,~~j k
pe1$ '
=( )
Convert* 1
.1 2
	ToBoolean2 ;
(; <
Convert< C
.C D
ToInt32D K
(K L
sdrL O
[O P
$strP U
]U V
)V W
)W X
,X Y
pe2
ÄÄ$ '
=
ÄÄ( )
Convert
ÄÄ* 1
.
ÄÄ1 2
	ToBoolean
ÄÄ2 ;
(
ÄÄ; <
Convert
ÄÄ< C
.
ÄÄC D
ToInt32
ÄÄD K
(
ÄÄK L
sdr
ÄÄL O
[
ÄÄO P
$str
ÄÄP U
]
ÄÄU V
)
ÄÄV W
)
ÄÄW X
}
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
}
ÇÇ 
}
ÉÉ 
con
ÑÑ 
.
ÑÑ 
Close
ÑÑ !
(
ÑÑ! "
)
ÑÑ" #
;
ÑÑ# $
}
ÖÖ 
}
ÜÜ 
}
áá 
catch
àà 
(
àà 
	Exception
àà 
e
àà 
)
àà 
{
ââ 
var
ää 
st
ää 
=
ää 
new
ää 

StackTrace
ää '
(
ää' (
)
ää( )
;
ää) *
var
ãã 
sf
ãã 
=
ãã 
st
ãã 
.
ãã 
GetFrame
ãã $
(
ãã$ %
$num
ãã% &
)
ãã& '
;
ãã' (
General
çç 
.
çç 
CrearLogError
çç %
(
çç% &
sf
çç& (
.
çç( )
	GetMethod
çç) 2
(
çç2 3
)
çç3 4
.
çç4 5
Name
çç5 9
,
çç9 :
$str
çç; L
,
ççL M
e
ççN O
.
ççO P
Message
ççP W
,
ççW X
_config
ççY `
.
çç` a!
GetConnectionString
çça t
(
ççt u
$str
ççu 
)çç Ä
)ççÄ Å
;ççÅ Ç
}
éé 
return
êê 
ViewsPermisos
êê  
;
êê  !
}
ëë 	
}
îî 
}ïï Õ
KE:\GITEA\siscointBKII\siscointBKII\Controllers\WeatherForecastController.cs
	namespace 	
siscointBKII
 
. 
Controllers "
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class %
WeatherForecastController *
:+ ,
ControllerBase- ;
{ 
private 
static 
readonly 
string  &
[& '
]' (
	Summaries) 2
=3 4
new5 8
[8 9
]9 :
{ 	
$str 
, 
$str !
,! "
$str# +
,+ ,
$str- 3
,3 4
$str5 ;
,; <
$str= C
,C D
$strE L
,L M
$strN S
,S T
$strU a
,a b
$strc n
} 	
;	 

private 
readonly 
ILogger  
<  !%
WeatherForecastController! :
>: ;
_logger< C
;C D
public %
WeatherForecastController (
(( )
ILogger) 0
<0 1%
WeatherForecastController1 J
>J K
loggerL R
)R S
{ 	
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
string !
>! "
Get# &
(& '
)' (
{ 	
return%% 
	Summaries%% 
.%% 
ToArray%% $
(%%$ %
)%%% &
;%%& '
}&& 	
}'' 
}(( È_
-E:\GITEA\siscointBKII\siscointBKII\General.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
General 
{ 
public
ÛÛ 
static
ÛÛ 
string
ÛÛ 
cifrarTextoAES
ÛÛ +
(
ÛÛ+ ,
string
ÛÛ, 2
textoCifrar
ÛÛ3 >
,
ÛÛ> ?
string
ÛÛ@ F
palabraPaso
ÛÛG R
,
ÛÛR S
string
ÙÙ 
valorRGBSalt
ÙÙ 
,
ÙÙ  
string
ÙÙ! ''
algoritmoEncriptacionHASH
ÙÙ( A
,
ÙÙA B
int
ıı 
iteraciones
ıı 
,
ıı 
string
ıı #
vectorInicial
ıı$ 1
,
ıı1 2
int
ıı3 6
tamanoClave
ıı7 B
)
ııB C
{
ˆˆ 	
try
˜˜ 
{
¯¯ 
byte
˘˘ 
[
˘˘ 
]
˘˘  
InitialVectorBytes
˘˘ )
=
˘˘* +
Encoding
˘˘, 4
.
˘˘4 5
ASCII
˘˘5 :
.
˘˘: ;
GetBytes
˘˘; C
(
˘˘C D
vectorInicial
˘˘D Q
)
˘˘Q R
;
˘˘R S
byte
˙˙ 
[
˙˙ 
]
˙˙ 
saltValueBytes
˙˙ %
=
˙˙& '
Encoding
˙˙( 0
.
˙˙0 1
ASCII
˙˙1 6
.
˙˙6 7
GetBytes
˙˙7 ?
(
˙˙? @
valorRGBSalt
˙˙@ L
)
˙˙L M
;
˙˙M N
byte
˚˚ 
[
˚˚ 
]
˚˚ 
plainTextBytes
˚˚ %
=
˚˚& '
Encoding
˚˚( 0
.
˚˚0 1
UTF8
˚˚1 5
.
˚˚5 6
GetBytes
˚˚6 >
(
˚˚> ?
textoCifrar
˚˚? J
)
˚˚J K
;
˚˚K L!
PasswordDeriveBytes
˝˝ #
password
˝˝$ ,
=
˝˝- .
new
˛˛ !
PasswordDeriveBytes
˛˛ +
(
˛˛+ ,
palabraPaso
˛˛, 7
,
˛˛7 8
saltValueBytes
˛˛9 G
,
˛˛G H'
algoritmoEncriptacionHASH
ˇˇ 1
,
ˇˇ1 2
iteraciones
ˇˇ3 >
)
ˇˇ> ?
;
ˇˇ? @
byte
ÅÅ 
[
ÅÅ 
]
ÅÅ 
keyBytes
ÅÅ 
=
ÅÅ  !
password
ÅÅ" *
.
ÅÅ* +
GetBytes
ÅÅ+ 3
(
ÅÅ3 4
tamanoClave
ÅÅ4 ?
/
ÅÅ@ A
$num
ÅÅB C
)
ÅÅC D
;
ÅÅD E
RijndaelManaged
ÉÉ 
symmetricKey
ÉÉ  ,
=
ÉÉ- .
new
ÉÉ/ 2
RijndaelManaged
ÉÉ3 B
(
ÉÉB C
)
ÉÉC D
;
ÉÉD E
symmetricKey
ÖÖ 
.
ÖÖ 
Mode
ÖÖ !
=
ÖÖ" #

CipherMode
ÖÖ$ .
.
ÖÖ. /
CBC
ÖÖ/ 2
;
ÖÖ2 3
ICryptoTransform
áá  
	encryptor
áá! *
=
áá+ ,
symmetricKey
àà  
.
àà  !
CreateEncryptor
àà! 0
(
àà0 1
keyBytes
àà1 9
,
àà9 : 
InitialVectorBytes
àà; M
)
ààM N
;
ààN O
MemoryStream
ää 
memoryStream
ää )
=
ää* +
new
ää, /
MemoryStream
ää0 <
(
ää< =
)
ää= >
;
ää> ?
CryptoStream
åå 
cryptoStream
åå )
=
åå* +
new
çç 
CryptoStream
çç $
(
çç$ %
memoryStream
çç% 1
,
çç1 2
	encryptor
çç3 <
,
çç< =
CryptoStreamMode
çç> N
.
ççN O
Write
ççO T
)
ççT U
;
ççU V
cryptoStream
èè 
.
èè 
Write
èè "
(
èè" #
plainTextBytes
èè# 1
,
èè1 2
$num
èè3 4
,
èè4 5
plainTextBytes
èè6 D
.
èèD E
Length
èèE K
)
èèK L
;
èèL M
cryptoStream
ëë 
.
ëë 
FlushFinalBlock
ëë ,
(
ëë, -
)
ëë- .
;
ëë. /
byte
ìì 
[
ìì 
]
ìì 
cipherTextBytes
ìì &
=
ìì' (
memoryStream
ìì) 5
.
ìì5 6
ToArray
ìì6 =
(
ìì= >
)
ìì> ?
;
ìì? @
memoryStream
ïï 
.
ïï 
Close
ïï "
(
ïï" #
)
ïï# $
;
ïï$ %
cryptoStream
ññ 
.
ññ 
Close
ññ "
(
ññ" #
)
ññ# $
;
ññ$ %
string
òò 
textoCifradoFinal
òò (
=
òò) *
Convert
òò+ 2
.
òò2 3
ToBase64String
òò3 A
(
òòA B
cipherTextBytes
òòB Q
)
òòQ R
;
òòR S
return
öö 
textoCifradoFinal
öö (
;
öö( )
}
õõ 
catch
úú 
{
ùù 
return
ûû 
null
ûû 
;
ûû 
}
üü 
}
†† 	
public
££ 
static
££ 
string
££ 
descifrarTextoAES
££ .
(
££. /
string
££/ 5
textoCifrado
££6 B
,
££B C
string
££D J
palabraPaso
££K V
,
££V W
string
§§ 
valorRGBSalt
§§ 
,
§§ 
string
§§  &'
algoritmoEncriptacionHASH
§§' @
,
§§@ A
int
•• 
iteraciones
•• 
,
•• 
string
•• "
vectorInicial
••# 0
,
••0 1
int
••2 5
tamanoClave
••6 A
)
••A B
{
¶¶ 	
try
ßß 
{
®® 
byte
©© 
[
©© 
]
©©  
InitialVectorBytes
©© )
=
©©* +
Encoding
©©, 4
.
©©4 5
ASCII
©©5 :
.
©©: ;
GetBytes
©©; C
(
©©C D
vectorInicial
©©D Q
)
©©Q R
;
©©R S
byte
™™ 
[
™™ 
]
™™ 
saltValueBytes
™™ %
=
™™& '
Encoding
™™( 0
.
™™0 1
ASCII
™™1 6
.
™™6 7
GetBytes
™™7 ?
(
™™? @
valorRGBSalt
™™@ L
)
™™L M
;
™™M N
byte
¨¨ 
[
¨¨ 
]
¨¨ 
cipherTextBytes
¨¨ &
=
¨¨' (
Convert
¨¨) 0
.
¨¨0 1
FromBase64String
¨¨1 A
(
¨¨A B
textoCifrado
¨¨B N
)
¨¨N O
;
¨¨O P!
PasswordDeriveBytes
ÆÆ #
password
ÆÆ$ ,
=
ÆÆ- .
new
ØØ !
PasswordDeriveBytes
ØØ +
(
ØØ+ ,
palabraPaso
ØØ, 7
,
ØØ7 8
saltValueBytes
ØØ9 G
,
ØØG H'
algoritmoEncriptacionHASH
∞∞ 1
,
∞∞1 2
iteraciones
∞∞3 >
)
∞∞> ?
;
∞∞? @
byte
≤≤ 
[
≤≤ 
]
≤≤ 
keyBytes
≤≤ 
=
≤≤  !
password
≤≤" *
.
≤≤* +
GetBytes
≤≤+ 3
(
≤≤3 4
tamanoClave
≤≤4 ?
/
≤≤@ A
$num
≤≤B C
)
≤≤C D
;
≤≤D E
RijndaelManaged
¥¥ 
symmetricKey
¥¥  ,
=
¥¥- .
new
¥¥/ 2
RijndaelManaged
¥¥3 B
(
¥¥B C
)
¥¥C D
;
¥¥D E
symmetricKey
∂∂ 
.
∂∂ 
Mode
∂∂ !
=
∂∂" #

CipherMode
∂∂$ .
.
∂∂. /
CBC
∂∂/ 2
;
∂∂2 3
ICryptoTransform
∏∏  
	decryptor
∏∏! *
=
∏∏+ ,
symmetricKey
∏∏- 9
.
∏∏9 :
CreateDecryptor
∏∏: I
(
∏∏I J
keyBytes
∏∏J R
,
∏∏R S 
InitialVectorBytes
∏∏T f
)
∏∏f g
;
∏∏g h
MemoryStream
∫∫ 
memoryStream
∫∫ )
=
∫∫* +
new
∫∫, /
MemoryStream
∫∫0 <
(
∫∫< =
cipherTextBytes
∫∫= L
)
∫∫L M
;
∫∫M N
CryptoStream
ºº 
cryptoStream
ºº )
=
ºº* +
new
ºº, /
CryptoStream
ºº0 <
(
ºº< =
memoryStream
ºº= I
,
ººI J
	decryptor
ººK T
,
ººT U
CryptoStreamMode
ººV f
.
ººf g
Read
ººg k
)
ººk l
;
ººl m
byte
ææ 
[
ææ 
]
ææ 
plainTextBytes
ææ %
=
ææ& '
new
ææ( +
byte
ææ, 0
[
ææ0 1
cipherTextBytes
ææ1 @
.
ææ@ A
Length
ææA G
]
ææG H
;
ææH I
int
¿¿  
decryptedByteCount
¿¿ &
=
¿¿' (
cryptoStream
¿¿) 5
.
¿¿5 6
Read
¿¿6 :
(
¿¿: ;
plainTextBytes
¿¿; I
,
¿¿I J
$num
¿¿K L
,
¿¿L M
plainTextBytes
¿¿N \
.
¿¿\ ]
Length
¿¿] c
)
¿¿c d
;
¿¿d e
memoryStream
¬¬ 
.
¬¬ 
Close
¬¬ "
(
¬¬" #
)
¬¬# $
;
¬¬$ %
cryptoStream
√√ 
.
√√ 
Close
√√ "
(
√√" #
)
√√# $
;
√√$ %
string
≈≈ "
textoDescifradoFinal
≈≈ +
=
≈≈, -
Encoding
≈≈. 6
.
≈≈6 7
UTF8
≈≈7 ;
.
≈≈; <
	GetString
≈≈< E
(
≈≈E F
plainTextBytes
≈≈F T
,
≈≈T U
$num
≈≈V W
,
≈≈W X 
decryptedByteCount
≈≈Y k
)
≈≈k l
;
≈≈l m
return
«« "
textoDescifradoFinal
«« +
;
««+ ,
}
»» 
catch
…… 
{
   
return
ÀÀ 
null
ÀÀ 
;
ÀÀ 
}
ÃÃ 
}
ÕÕ 	
public
œœ 
static
œœ 
void
œœ 
CrearLogError
œœ (
(
œœ( )
string
œœ) /
tipo
œœ0 4
,
œœ4 5
string
œœ6 <
entidad
œœ= D
,
œœD E
string
œœF L
mensaje
œœM T
,
œœT U
string
œœV \
conexion
œœ] e
)
œœe f
{
–– 	
using
—— 
(
—— 
SqlConnection
—— 

connection
——  *
=
——+ ,
new
——- 0
SqlConnection
——1 >
(
——> ?
conexion
——? G
)
——G H
)
——H I
{
““ 
using
”” 
(
”” 

SqlCommand
”” !
command
””" )
=
””* +
new
””, /

SqlCommand
””0 :
(
””: ;
)
””; <
)
””< =
{
‘‘ 
command
’’ 
.
’’ 

Connection
’’ &
=
’’' (

connection
’’) 3
;
’’3 4
command
÷÷ 
.
÷÷ 
CommandType
÷÷ '
=
÷÷( )
CommandType
÷÷* 5
.
÷÷5 6
Text
÷÷6 :
;
÷÷: ;
command
◊◊ 
.
◊◊ 
CommandText
◊◊ '
=
◊◊( )
$str◊◊* õ
;◊◊õ ú
command
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 >
,
ÿÿ> ?
entidad
ÿÿ@ G
)
ÿÿG H
;
ÿÿH I
command
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 ;
,
ŸŸ; <
tipo
ŸŸ= A
)
ŸŸA B
;
ŸŸB C
command
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 >
,
⁄⁄> ?
mensaje
⁄⁄@ G
)
⁄⁄G H
;
⁄⁄H I
command
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 D
,
€€D E
DateTime
€€F N
.
€€N O
Now
€€O R
)
€€R S
;
€€S T
try
›› 
{
ﬁﬁ 

connection
ﬂﬂ "
.
ﬂﬂ" #
Open
ﬂﬂ# '
(
ﬂﬂ' (
)
ﬂﬂ( )
;
ﬂﬂ) *
int
‡‡ 
recordsAffected
‡‡ +
=
‡‡, -
command
‡‡. 5
.
‡‡5 6
ExecuteNonQuery
‡‡6 E
(
‡‡E F
)
‡‡F G
;
‡‡G H
}
·· 
catch
‚‚ 
(
‚‚ 
SqlException
‚‚ '
)
‚‚' (
{
„„ 
}
ÂÂ 
finally
ÊÊ 
{
ÁÁ 

connection
ËË "
.
ËË" #
Close
ËË# (
(
ËË( )
)
ËË) *
;
ËË* +
}
ÈÈ 
}
ÍÍ 
}
ÎÎ 
}
ÏÏ 	
}
ÔÔ 
} Ë
8E:\GITEA\siscointBKII\siscointBKII\Models\area_ccosto.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
area_ccosto 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
ccosto 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
area_funcional $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} ˙
6E:\GITEA\siscointBKII\siscointBKII\Models\articulos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
	articulos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
tipo 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
} 
} Ò
>E:\GITEA\siscointBKII\siscointBKII\Models\articulosBusqueda.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulosBusqueda "
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Tipo 
{ 
get 
; 
set "
;" #
}$ %
} 
} ˜
BE:\GITEA\siscointBKII\siscointBKII\Models\articulosBusquedaFijo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class !
articulosBusquedaFijo &
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
Id_ped 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
Double 
Valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
CECO 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
V_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} à
=E:\GITEA\siscointBKII\siscointBKII\Models\articulosPedidos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulosPedidos !
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
Codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} Ã
9E:\GITEA\siscointBKII\siscointBKII\Models\articulos_af.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
articulos_af 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_iva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
v_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} Ò
?E:\GITEA\siscointBKII\siscointBKII\Models\BusquedaActivoFijo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
BusquedaActivoFijo #
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
id_ped 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
Double 
Valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
CECO 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
V_util 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ˆ
>E:\GITEA\siscointBKII\siscointBKII\Models\busquedaProveedor.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
busquedaProveedor "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
razon_social "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
contrato 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Â
@E:\GITEA\siscointBKII\siscointBKII\Models\busquedaRapidaModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
busquedaRapidaModel $
{		 
public

 
string

 
valor

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 
entidad 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
	parametro 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ÷
>E:\GITEA\siscointBKII\siscointBKII\Models\compras_articulos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
compras_articulos "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
codigo 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_iva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
grupo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} È
9E:\GITEA\siscointBKII\siscointBKII\Models\dataBusqueda.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
dataBusqueda 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
valor1 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor2 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor3 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor4 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor5 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor6 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor7 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor8 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ´	
AE:\GITEA\siscointBKII\siscointBKII\Models\dataBusquedaCompleta.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class  
dataBusquedaCompleta %
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
valor1 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor2 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor3 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor4 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
valor5 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ä
9E:\GITEA\siscointBKII\siscointBKII\Models\depreciacion.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
depreciacion 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
	id_pedido 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
cod_art 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
double 
> 
valor  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
ano 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_ejecucion) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
Nullable 
< 
int 
> 
valor_ejecutado ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
int 
> 
v_util #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Nullable 
< 
int 
> 
v_util_restante ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
string 
ccosto 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
rubro 
{ 
get !
;! "
set# &
;& '
}( )
public 
System 
. 
DateTime 
fecha_ini_depre .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
Nullable 
< 
int 
> 
cuota "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
int 
> 

inventario '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} €
AE:\GITEA\siscointBKII\siscointBKII\Models\detalle_devolucionII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class  
detalle_devolucionII %
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
int 
id_dev 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
elemento 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
cantidad 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
imei_inv 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
c 
{ 
get 
; 
set 
;  
}! "
public 
int 
l 
{ 
get 
; 
set 
;  
}! "
public 
int 
a 
{ 
get 
; 
set 
;  
}! "
public 
int 
v 
{ 
get 
; 
set 
;  
}! "
public 
int 
f 
{ 
get 
; 
set 
;  
}! "
} 
} ’
>E:\GITEA\siscointBKII\siscointBKII\Models\detalle_entregaII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_entregaII "
{		 
public

 
Int64

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
int 
id_ent 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
elemento 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
marca 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
placa_af 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
cantidad 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
imei_inv 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
c 
{ 
get 
; 
set 
;  
}! "
public 
int 
l 
{ 
get 
; 
set 
;  
}! "
public 
int 
a 
{ 
get 
; 
set 
;  
}! "
public 
int 
v 
{ 
get 
; 
set 
;  
}! "
public 
int 
f 
{ 
get 
; 
set 
;  
}! "
} 
} ß
;E:\GITEA\siscointBKII\siscointBKII\Models\detalle_pedido.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_pedido 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
	id_pedido 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 

codigo_art  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
int 
> 
cantidad %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
und 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
double 
> 
valor  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
Nullable 
< 
double 
> 
iva  #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Nullable 
< 
double 
> 
subtotal  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
Nullable 
< 
double 
> 
total  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
cuenta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ∏	
>E:\GITEA\siscointBKII\siscointBKII\Models\detalle_proveedor.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
detalle_proveedor "
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
contrato 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
FechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
FechaActualizacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} ¨
9E:\GITEA\siscointBKII\siscointBKII\Models\devoluciones.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
devoluciones 
{		 
public

 
int

 
id_dev

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
ced_empl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
hora 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

id_empresa 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cod_user 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
autoriza 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	tipo_acta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} “
7E:\GITEA\siscointBKII\siscointBKII\Models\directivos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 

directivos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} ´
5E:\GITEA\siscointBKII\siscointBKII\Models\empleado.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
empleado 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 

cedula_emp  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
snombre 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ppellido 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
spellido 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
permiso 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
ccosto 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
empresa 
{ 
get  
;  !
set" %
;% &
}' (
} 
} é	
4E:\GITEA\siscointBKII\siscointBKII\Models\empresa.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
empresa 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	ruta_logo 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} §
5E:\GITEA\siscointBKII\siscointBKII\Models\entregas.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
entregas 
{		 
public

 
int

 
id_ent

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
ced_empl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
hora 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

id_empresa 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cod_user 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
autoriza 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	tipo_acta 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ’
0E:\GITEA\siscointBKII\siscointBKII\Models\iva.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
iva 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
iva1 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
tipo 
{ 
get  
;  !
set" %
;% &
}' (
public 
double 

porcentaje  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} •
2E:\GITEA\siscointBKII\siscointBKII\Models\jefes.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
jefes 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ±
3E:\GITEA\siscointBKII\siscointBKII\Models\objeto.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
objeto 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
tipo 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
af 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
imei 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
observacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
factura 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
linea 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
linea_activa "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
valor 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

nuevo_imei  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
Nullable 
< 
System 
. 
DateTime '
>' (
	causacion) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
string 
centro_costo "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_estado) 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
Nullable 
< 
int 
> 
tipo_articulo *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
string 
cod_articulo "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ∑"
4E:\GITEA\siscointBKII\siscointBKII\Models\pedidos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
pedidos 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 

nro_pedido 
{ 
get  #
;# $
set% (
;( )
}* +
public 
System 
. 
DateTime 
fecha $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
	proveedor 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
ccosto 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
justificacion #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
	vlr_total 
{  !
get" %
;% &
set' *
;* +
}, -
public 
Nullable 
< 
int 
> 
vto_bueno_presu ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_vto_bueno) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
Nullable 
< 
int 
> 
vto_bueno_finan ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
Nullable 
< 
System 
. 
DateTime '
>' (
fecha_vto_finan) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Nullable 
< 
int 
> 
nro_srp $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
Nullable 
< 
int 
> 
nro_rp #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
nro_contrato "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
obs_compras !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
pc 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
st 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
et 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
cont 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ad 
{ 
get 
; 
set  #
;# $
}% &
public   
string   

asignado_a    
{  ! "
get  # &
;  & '
set  ( +
;  + ,
}  - .
public!! 
string!! 
aprobado_jefe!! #
{!!$ %
get!!& )
;!!) *
set!!+ .
;!!. /
}!!0 1
}"" 
}## Â
;E:\GITEA\siscointBKII\siscointBKII\Models\permisos_usuII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
permisos_usuII 
{		 
public

 
Int64

 

id_permiso

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
int 
id_view 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cod_usuario !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 

id_usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
autorizacion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
pe1 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
pe2 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
usuario_crea "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTime 
Fecha_creacion &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
fecha_modificacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} Á
<E:\GITEA\siscointBKII\siscointBKII\Models\permisos_usuIII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public		 

class		 
permisos_usuIII		  
{

 
public 
Int64 

id_permiso 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
id_view 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
cod_usuario !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 

id_usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
autorizacion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
pe1 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
pe2 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
usuario_crea "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTime 
Fecha_creacion &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
fecha_modificacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
int 
Estado 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ¿
8E:\GITEA\siscointBKII\siscointBKII\Models\proveedorII.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
proveedorII 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nit 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
razon_social "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
representante_legal )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
tel 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
asesor 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
correo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 

tel_asesor  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
FechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
FechaActualizacion *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} ’
<E:\GITEA\siscointBKII\siscointBKII\Models\reporte_objetos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
reporte_objetos  
{		 
public

 
Int64

 
Item

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
Descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
EstadoNumber 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Af 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Imei 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
usuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
} 
} î
8E:\GITEA\siscointBKII\siscointBKII\Models\tipoEntrega.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipoEntrega 
{		 
public

 
string

 
entrega

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
string 

devolucion  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
	translado 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 

reparacion  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
prestamo 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ù
:E:\GITEA\siscointBKII\siscointBKII\Models\tipo_articulo.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_articulo 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
fechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} Ò
9E:\GITEA\siscointBKII\siscointBKII\Models\tipo_reporte.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_reporte 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
valor 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
tipo_reporte_tabla %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ≥
9E:\GITEA\siscointBKII\siscointBKII\Models\tipo_usuario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
tipo_usuario 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ∏
6E:\GITEA\siscointBKII\siscointBKII\Models\UserLogin.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
	UserLogin 
{		 
public

 
string

 
Username

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} —
4E:\GITEA\siscointBKII\siscointBKII\Models\usuario.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
usuario 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
pssword 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ¡
9E:\GITEA\siscointBKII\siscointBKII\Models\UsuarioModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
UsuarioModel 
{		 
public

 
long

 
id

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} í
?E:\GITEA\siscointBKII\siscointBKII\Models\UsuariosConstantes.cs
	namespace 	
siscointBKII
 
. 
Models 
{		 
public 

class 
UsuariosConstantes #
{ 
} 
} √
:E:\GITEA\siscointBKII\siscointBKII\Models\UsuariosModel.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
UsuariosModel 
{		 
public

 
long

 
id

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre_usuario $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
estado 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
cargo 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
area 
{ 
get  
;  !
set" %
;% &
}' (
public 
Nullable 
< 
int 
> 
modulo #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} œ
2E:\GITEA\siscointBKII\siscointBKII\Models\views.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
views 
{		 
public

 
Int32

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
string 
name_module !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
module 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
icon 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
url 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
visible 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
routeurl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
fechaCreacion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ß	
:E:\GITEA\siscointBKII\siscointBKII\Models\viewsPermisos.cs
	namespace 	
siscointBKII
 
. 
Models 
{ 
public 

class 
viewsPermisos 
{		 
public

 
Int32

 
id

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
string 
name_module !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
module 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Boolean 
autorizacion #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Boolean 
pe1 
{ 
get  
;  !
set" %
;% &
}' (
public 
Boolean 
pe2 
{ 
get  
;  !
set" %
;% &
}' (
} 
} á

-E:\GITEA\siscointBKII\siscointBKII\Program.cs
	namespace

 	
siscointBKII


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} í.
-E:\GITEA\siscointBKII\siscointBKII\Startup.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services   
.   
AddAuthentication   &
(  & '
JwtBearerDefaults  ' 8
.  8 9 
AuthenticationScheme  9 M
)  M N
.!! 
AddJwtBearer!! 
(!! 
options!! %
=>!!& (
{"" 
options## 
.## %
TokenValidationParameters## 5
=##6 7
new##8 ;%
TokenValidationParameters##< U
{$$ 
ValidateIssuer%% &
=%%' (
true%%) -
,%%- .
ValidateAudience&& (
=&&) *
true&&+ /
,&&/ 0
ValidateLifetime'' (
='') *
true''+ /
,''/ 0$
ValidateIssuerSigningKey(( 0
=((1 2
true((3 7
,((7 8
ValidIssuer)) #
=))$ %
Configuration))& 3
[))3 4
$str))4 @
]))@ A
,))A B
ValidAudience** %
=**& '
Configuration**( 5
[**5 6
$str**6 D
]**D E
,**E F
IssuerSigningKey++ (
=++) *
new+++ . 
SymmetricSecurityKey++/ C
(++C D
Encoding++D L
.++L M
UTF8++M Q
.++Q R
GetBytes++R Z
(++Z [
Configuration++[ h
[++h i
$str++i r
]++r s
)++s t
)++t u
},, 
;,, 
}-- 
)-- 
;-- 
services.. 
... 
AddMvc.. 
(.. 
).. 
;.. 
string// !
sqlServerConennection// (
=//) *
Configuration//+ 8
.//8 9
GetConnectionString//9 L
(//L M
$str//M W
)//W X
;//X Y
services11 
.11 
AddDbContextPool11 %
<11% &
AplicationDbContext11& 9
>119 :
(11: ;
options11; B
=>11C E
options11F M
.11M N
UseSqlServer11N Z
(11Z [!
sqlServerConennection11[ p
)11p q
)11q r
;11r s
services22 
.22 
AddControllers22 #
(22# $
options22$ +
=>22, .
{33 
var44 
jsonInputFormatter44 &
=44' (
options44) 0
.440 1
InputFormatters441 @
.55 
OfType55 
<55 
	Microsoft55 %
.55% &

AspNetCore55& 0
.550 1
Mvc551 4
.554 5

Formatters555 ?
.55? @(
SystemTextJsonInputFormatter55@ \
>55\ ]
(55] ^
)55^ _
.66 
Single66 
(66 
)66 
;66 
jsonInputFormatter77 "
.77" #
SupportedMediaTypes77# 6
.776 7
Add777 :
(77: ;
$str77; S
)77S T
;77T U
}88 
)88 
;88 
services99 
.99 
AddRazorPages99 "
(99" #
)99# $
;99$ %
services:: 
.:: 
AddCors:: 
(:: 
options:: $
=>::% '
{;; 
options<< 
.<< 
	AddPolicy<< !
(<<! "
$str<<" .
,<<. /
builder<<0 7
=><<8 :
builder<<; B
.<<B C
WithOrigins<<C N
(<<N O
$str<<O f
,<<f g
$str	<<h à
)
<<à â
.
<<â ä
AllowAnyMethod
<<ä ò
(
<<ò ô
)
<<ô ö
.
<<ö õ
AllowAnyHeader
<<õ ©
(
<<© ™
)
<<™ ´
)
<<´ ¨
;
<<¨ ≠
}== 
)== 
;== 
}>> 	
publicAA 
voidAA 
	ConfigureAA 
(AA 
IApplicationBuilderAA 1
appAA2 5
,AA5 6
IWebHostEnvironmentAA7 J
envAAK N
)AAN O
{BB 	
appCC 
.CC 
UseCorsCC 
(CC 
$strCC $
)CC$ %
;CC% &
ifDD 
(DD 
envDD 
.DD 
IsDevelopmentDD !
(DD! "
)DD" #
)DD# $
{EE 
appFF 
.FF %
UseDeveloperExceptionPageFF -
(FF- .
)FF. /
;FF/ 0
}GG 
appII 
.II 
UseHttpsRedirectionII #
(II# $
)II$ %
;II% &
appKK 
.KK 

UseRoutingKK 
(KK 
)KK 
;KK 
appMM 
.MM 
UseAuthenticationMM !
(MM! "
)MM" #
;MM# $
appOO 
.OO 
UseAuthorizationOO  
(OO  !
)OO! "
;OO" #
appQQ 
.QQ 
UseEndpointsQQ 
(QQ 
	endpointsQQ &
=>QQ' )
{RR 
	endpointsSS 
.SS 
MapControllersSS (
(SS( )
)SS) *
;SS* +
	endpointsTT 
.TT 
MapRazorPagesTT '
(TT' (
)TT( )
;TT) *
}UU 
)UU 
;UU 
}VV 	
}WW 
}XX ª
5E:\GITEA\siscointBKII\siscointBKII\WeatherForecast.cs
	namespace 	
siscointBKII
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
TemperatureC		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public 
int 
TemperatureF 
=>  "
$num# %
+& '
(( )
int) ,
), -
(- .
TemperatureC. :
/; <
$num= C
)C D
;D E
public 
string 
Summary 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 